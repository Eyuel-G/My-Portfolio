function TC(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Vg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function bC(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var Y0={exports:{}},Kh={},Q0={exports:{}},Jt={};var y_;function CC(){if(y_)return Jt;y_=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function M(k,Q,ne){this.props=k,this.context=Q,this.refs=E,this.updater=ne||A}M.prototype.isReactComponent={},M.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=M.prototype;function C(k,Q,ne){this.props=k,this.context=Q,this.refs=E,this.updater=ne||A}var b=C.prototype=new _;b.constructor=C,S(b,M.prototype),b.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(k,Q,ne){var ae,ce={},Ce=null,Ee=null;if(Q!=null)for(ae in Q.ref!==void 0&&(Ee=Q.ref),Q.key!==void 0&&(Ce=""+Q.key),Q)D.call(Q,ae)&&!z.hasOwnProperty(ae)&&(ce[ae]=Q[ae]);var $=arguments.length-2;if($===1)ce.children=ne;else if(1<$){for(var Ge=Array($),$e=0;$e<$;$e++)Ge[$e]=arguments[$e+2];ce.children=Ge}if(k&&k.defaultProps)for(ae in $=k.defaultProps,$)ce[ae]===void 0&&(ce[ae]=$[ae]);return{$$typeof:i,type:k,key:Ce,ref:Ee,props:ce,_owner:U.current}}function N(k,Q){return{$$typeof:i,type:k.type,key:Q,ref:k.ref,props:k.props,_owner:k._owner}}function F(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function K(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return Q[ne]})}var oe=/\/+/g;function te(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?K(""+k.key):Q.toString(36)}function se(k,Q,ne,ae,ce){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ee=!1;if(k===null)Ee=!0;else switch(Ce){case"string":case"number":Ee=!0;break;case"object":switch(k.$$typeof){case i:case e:Ee=!0}}if(Ee)return Ee=k,ce=ce(Ee),k=ae===""?"."+te(Ee,0):ae,L(ce)?(ne="",k!=null&&(ne=k.replace(oe,"$&/")+"/"),se(ce,Q,ne,"",function($e){return $e})):ce!=null&&(F(ce)&&(ce=N(ce,ne+(!ce.key||Ee&&Ee.key===ce.key?"":(""+ce.key).replace(oe,"$&/")+"/")+k)),Q.push(ce)),1;if(Ee=0,ae=ae===""?".":ae+":",L(k))for(var $=0;$<k.length;$++){Ce=k[$];var Ge=ae+te(Ce,$);Ee+=se(Ce,Q,ne,Ge,ce)}else if(Ge=v(k),typeof Ge=="function")for(k=Ge.call(k),$=0;!(Ce=k.next()).done;)Ce=Ce.value,Ge=ae+te(Ce,$++),Ee+=se(Ce,Q,ne,Ge,ce);else if(Ce==="object")throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ee}function le(k,Q,ne){if(k==null)return k;var ae=[],ce=0;return se(k,ae,"","",function(Ce){return Q.call(ne,Ce,ce++)}),ae}function ge(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var de={current:null},B={transition:null},Z={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:B,ReactCurrentOwner:U};return Jt.Children={map:le,forEach:function(k,Q,ne){le(k,function(){Q.apply(this,arguments)},ne)},count:function(k){var Q=0;return le(k,function(){Q++}),Q},toArray:function(k){return le(k,function(Q){return Q})||[]},only:function(k){if(!F(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Jt.Component=M,Jt.Fragment=t,Jt.Profiler=r,Jt.PureComponent=C,Jt.StrictMode=n,Jt.Suspense=h,Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Jt.cloneElement=function(k,Q,ne){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ae=S({},k.props),ce=k.key,Ce=k.ref,Ee=k._owner;if(Q!=null){if(Q.ref!==void 0&&(Ce=Q.ref,Ee=U.current),Q.key!==void 0&&(ce=""+Q.key),k.type&&k.type.defaultProps)var $=k.type.defaultProps;for(Ge in Q)D.call(Q,Ge)&&!z.hasOwnProperty(Ge)&&(ae[Ge]=Q[Ge]===void 0&&$!==void 0?$[Ge]:Q[Ge])}var Ge=arguments.length-2;if(Ge===1)ae.children=ne;else if(1<Ge){$=Array(Ge);for(var $e=0;$e<Ge;$e++)$[$e]=arguments[$e+2];ae.children=$}return{$$typeof:i,type:k.type,key:ce,ref:Ce,props:ae,_owner:Ee}},Jt.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:o,_context:k},k.Consumer=k},Jt.createElement=V,Jt.createFactory=function(k){var Q=V.bind(null,k);return Q.type=k,Q},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(k){return{$$typeof:u,render:k}},Jt.isValidElement=F,Jt.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ge}},Jt.memo=function(k,Q){return{$$typeof:d,type:k,compare:Q===void 0?null:Q}},Jt.startTransition=function(k){var Q=B.transition;B.transition={};try{k()}finally{B.transition=Q}},Jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Jt.useCallback=function(k,Q){return de.current.useCallback(k,Q)},Jt.useContext=function(k){return de.current.useContext(k)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(k){return de.current.useDeferredValue(k)},Jt.useEffect=function(k,Q){return de.current.useEffect(k,Q)},Jt.useId=function(){return de.current.useId()},Jt.useImperativeHandle=function(k,Q,ne){return de.current.useImperativeHandle(k,Q,ne)},Jt.useInsertionEffect=function(k,Q){return de.current.useInsertionEffect(k,Q)},Jt.useLayoutEffect=function(k,Q){return de.current.useLayoutEffect(k,Q)},Jt.useMemo=function(k,Q){return de.current.useMemo(k,Q)},Jt.useReducer=function(k,Q,ne){return de.current.useReducer(k,Q,ne)},Jt.useRef=function(k){return de.current.useRef(k)},Jt.useState=function(k){return de.current.useState(k)},Jt.useSyncExternalStore=function(k,Q,ne){return de.current.useSyncExternalStore(k,Q,ne)},Jt.useTransition=function(){return de.current.useTransition()},Jt.version="18.2.0",Jt}var x_;function $f(){return x_||(x_=1,Q0.exports=CC()),Q0.exports}var A_;function PC(){if(A_)return Kh;A_=1;var i=$f(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,h,d){var m,g={},v=null,A=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(A=h.ref);for(m in h)n.call(h,m)&&!o.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:A,props:g,_owner:r.current}}return Kh.Fragment=t,Kh.jsx=a,Kh.jsxs=a,Kh}var __;function RC(){return __||(__=1,Y0.exports=PC()),Y0.exports}var W=RC(),J=$f();const yl=Vg(J),LC=TC({__proto__:null,default:yl},[J]);var Am={},q0={exports:{}},Ir={},Z0={exports:{}},K0={};var S_;function IC(){return S_||(S_=1,(function(i){function e(B,Z){var k=B.length;B.push(Z);e:for(;0<k;){var Q=k-1>>>1,ne=B[Q];if(0<r(ne,Z))B[Q]=Z,B[k]=ne,k=Q;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],k=B.pop();if(k!==Z){B[0]=k;e:for(var Q=0,ne=B.length,ae=ne>>>1;Q<ae;){var ce=2*(Q+1)-1,Ce=B[ce],Ee=ce+1,$=B[Ee];if(0>r(Ce,k))Ee<ne&&0>r($,Ce)?(B[Q]=$,B[Ee]=k,Q=Ee):(B[Q]=Ce,B[ce]=k,Q=ce);else if(Ee<ne&&0>r($,k))B[Q]=$,B[Ee]=k,Q=Ee;else break e}}return Z}function r(B,Z){var k=B.sortIndex-Z.sortIndex;return k!==0?k:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();i.unstable_now=function(){return a.now()-u}}var h=[],d=[],m=1,g=null,v=3,A=!1,S=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var Z=t(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=B)n(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function L(B){if(E=!1,b(B),!S)if(t(h)!==null)S=!0,ge(D);else{var Z=t(d);Z!==null&&de(L,Z.startTime-B)}}function D(B,Z){S=!1,E&&(E=!1,_(V),V=-1),A=!0;var k=v;try{for(b(Z),g=t(h);g!==null&&(!(g.expirationTime>Z)||B&&!K());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var ne=Q(g.expirationTime<=Z);Z=i.unstable_now(),typeof ne=="function"?g.callback=ne:g===t(h)&&n(h),b(Z)}else n(h);g=t(h)}if(g!==null)var ae=!0;else{var ce=t(d);ce!==null&&de(L,ce.startTime-Z),ae=!1}return ae}finally{g=null,v=k,A=!1}}var U=!1,z=null,V=-1,N=5,F=-1;function K(){return!(i.unstable_now()-F<N)}function oe(){if(z!==null){var B=i.unstable_now();F=B;var Z=!0;try{Z=z(!0,B)}finally{Z?te():(U=!1,z=null)}}else U=!1}var te;if(typeof C=="function")te=function(){C(oe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=oe,te=function(){le.postMessage(null)}}else te=function(){M(oe,0)};function ge(B){z=B,U||(U=!0,te())}function de(B,Z){V=M(function(){B(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){S||A||(S=!0,ge(D))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var k=v;v=Z;try{return B()}finally{v=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=v;v=B;try{return Z()}finally{v=k}},i.unstable_scheduleCallback=function(B,Z,k){var Q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,B={id:m++,callback:Z,priorityLevel:B,startTime:k,expirationTime:ne,sortIndex:-1},k>Q?(B.sortIndex=k,e(d,B),t(h)===null&&B===t(d)&&(E?(_(V),V=-1):E=!0,de(L,k-Q))):(B.sortIndex=ne,e(h,B),S||A||(S=!0,ge(D))),B},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(B){var Z=v;return function(){var k=v;v=Z;try{return B.apply(this,arguments)}finally{v=k}}}})(K0)),K0}var w_;function NC(){return w_||(w_=1,Z0.exports=IC()),Z0.exports}var M_;function DC(){if(M_)return Ir;M_=1;var i=$f(),e=NC();function t(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(r[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(s){return h.call(g,s)?!0:h.call(m,s)?!1:d.test(s)?g[s]=!0:(m[s]=!0,!1)}function A(s,l,p,x){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,p,x){if(l===null||typeof l>"u"||A(s,l,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(s,l,p,x,T,R,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=T,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=R,this.removeEmptyString=O}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){M[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];M[l]=new E(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){M[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){M[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){M[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){M[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){M[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){M[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){M[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(_,C);M[l]=new E(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(_,C);M[l]=new E(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(_,C);M[l]=new E(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),M.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function b(s,l,p,x){var T=M.hasOwnProperty(l)?M[l]:null;(T!==null?T.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,p,T,x)&&(p=null),x||T===null?v(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):T.mustUseProperty?s[T.propertyName]=p===null?T.type===3?!1:"":p:(l=T.attributeName,x=T.attributeNamespace,p===null?s.removeAttribute(l):(T=T.type,p=T===3||T===4&&p===!0?"":""+p,x?s.setAttributeNS(x,l,p):s.setAttribute(l,p))))}var L=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),B=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var k=Object.assign,Q;function ne(s){if(Q===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+s}var ae=!1;function ce(s,l){if(!s||ae)return"";ae=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(we){var x=we}Reflect.construct(s,[],l)}else{try{l.call()}catch(we){x=we}s.call(l.prototype)}else{try{throw Error()}catch(we){x=we}s()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var T=we.stack.split(`
`),R=x.stack.split(`
`),O=T.length-1,q=R.length-1;1<=O&&0<=q&&T[O]!==R[q];)q--;for(;1<=O&&0<=q;O--,q--)if(T[O]!==R[q]){if(O!==1||q!==1)do if(O--,q--,0>q||T[O]!==R[q]){var re=`
`+T[O].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=O&&0<=q);break}}}finally{ae=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?ne(s):""}function Ce(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case U:return"Portal";case N:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case K:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case oe:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return l=s.displayName||null,l!==null?l:Ee(s.type)||"Memo";case ge:l=s._payload,s=s._init;try{return Ee(s(l))}catch{}}return null}function $(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $e(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ue(s){var l=$e(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),x=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,R=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(O){x=""+O,R.call(this,O)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(O){x=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Oe(s){s._valueTracker||(s._valueTracker=Ue(s))}function Re(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return s&&(x=$e(s)?s.checked?"true":"false":s.value),s=x,s!==p?(l.setValue(s),!0):!1}function Ae(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ne(s,l){var p=l.checked;return k({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ke(s,l){var p=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;p=Ge(l.value!=null?l.value:p),s._wrapperState={initialChecked:x,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Qe(s,l){l=l.checked,l!=null&&b(s,"checked",l,!1)}function lt(s,l){Qe(s,l);var p=Ge(l.value),x=l.type;if(p!=null)x==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ct(s,l.type,p):l.hasOwnProperty("defaultValue")&&ct(s,l.type,Ge(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function yt(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ct(s,l,p){(l!=="number"||Ae(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var wt=Array.isArray;function Ut(s,l,p,x){if(s=s.options,l){l={};for(var T=0;T<p.length;T++)l["$"+p[T]]=!0;for(p=0;p<s.length;p++)T=l.hasOwnProperty("$"+s[p].value),s[p].selected!==T&&(s[p].selected=T),T&&x&&(s[p].defaultSelected=!0)}else{for(p=""+Ge(p),l=null,T=0;T<s.length;T++){if(s[T].value===p){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function Y(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function H(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(t(92));if(wt(p)){if(1<p.length)throw Error(t(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:Ge(p)}}function _e(s,l){var p=Ge(l.value),x=Ge(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),x!=null&&(s.defaultValue=""+x)}function Fe(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Ve(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Ve(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var At,nt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,x,T){MSApp.execUnsafeLocalFunction(function(){return s(l,p,x,T)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=At.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function be(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(s){_t.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),st[l]=st[s]})});function St(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||st.hasOwnProperty(s)&&st[s]?(""+l).trim():l+"px"}function it(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var x=p.indexOf("--")===0,T=St(p,l[p],x);p==="float"&&(p="cssFloat"),x?s.setProperty(p,T):s[p]=T}}var dt=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(s,l){if(l){if(dt[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function De(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=null;function ee(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Se=null,ke=null,Ye=null;function pt(s){if(s=Ps(s)){if(typeof Se!="function")throw Error(t(280));var l=s.stateNode;l&&(l=Bc(l),Se(s.stateNode,s.type,l))}}function en(s){ke?Ye?Ye.push(s):Ye=[s]:ke=s}function Bt(){if(ke){var s=ke,l=Ye;if(Ye=ke=null,pt(s),l)for(s=0;s<l.length;s++)pt(l[s])}}function dn(s,l){return s(l)}function ri(){}var rn=!1;function Nn(s,l,p){if(rn)return s(l,p);rn=!0;try{return dn(s,l,p)}finally{rn=!1,(ke!==null||Ye!==null)&&(ri(),Bt())}}function Fn(s,l){var p=s.stateNode;if(p===null)return null;var x=Bc(p);if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(t(231,l,typeof p));return p}var $s=!1;if(u)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){$s=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{$s=!1}function rc(s,l,p,x,T,R,O,q,re){var we=Array.prototype.slice.call(arguments,3);try{l.apply(p,we)}catch(ze){this.onError(ze)}}var As=!1,Ta=null,j=!1,ye=null,Pe={onError:function(s){As=!0,Ta=s}};function me(s,l,p,x,T,R,O,q,re){As=!1,Ta=null,rc.apply(Pe,arguments)}function Le(s,l,p,x,T,R,O,q,re){if(me.apply(this,arguments),As){if(As){var we=Ta;As=!1,Ta=null}else throw Error(t(198));j||(j=!0,ye=we)}}function mt(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function Et(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Pt(s){if(mt(s)!==s)throw Error(t(188))}function kt(s){var l=s.alternate;if(!l){if(l=mt(s),l===null)throw Error(t(188));return l!==s?null:s}for(var p=s,x=l;;){var T=p.return;if(T===null)break;var R=T.alternate;if(R===null){if(x=T.return,x!==null){p=x;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===p)return Pt(T),s;if(R===x)return Pt(T),l;R=R.sibling}throw Error(t(188))}if(p.return!==x.return)p=T,x=R;else{for(var O=!1,q=T.child;q;){if(q===p){O=!0,p=T,x=R;break}if(q===x){O=!0,x=T,p=R;break}q=q.sibling}if(!O){for(q=R.child;q;){if(q===p){O=!0,p=R,x=T;break}if(q===x){O=!0,x=R,p=T;break}q=q.sibling}if(!O)throw Error(t(189))}}if(p.alternate!==x)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?s:l}function Vt(s){return s=kt(s),s!==null?Ht(s):null}function Ht(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Ht(s);if(l!==null)return l;s=s.sibling}return null}var jt=e.unstable_scheduleCallback,on=e.unstable_cancelCallback,gi=e.unstable_shouldYield,ir=e.unstable_requestPaint,an=e.unstable_now,yn=e.unstable_getCurrentPriorityLevel,Gt=e.unstable_ImmediatePriority,to=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Fr=e.unstable_LowPriority,rs=e.unstable_IdlePriority,vi=null,qt=null;function Ot(s){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(vi,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Br,jn=Math.log,pn=Math.LN2;function Br(s){return s>>>=0,s===0?32:31-(jn(s)/pn|0)|0}var zr=64,Xn=4194304;function no(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ul(s,l){var p=s.pendingLanes;if(p===0)return 0;var x=0,T=s.suspendedLanes,R=s.pingedLanes,O=p&268435455;if(O!==0){var q=O&~T;q!==0?x=no(q):(R&=O,R!==0&&(x=no(R)))}else O=p&~T,O!==0?x=no(O):R!==0&&(x=no(R));if(x===0)return 0;if(l!==0&&l!==x&&(l&T)===0&&(T=x&-x,R=l&-l,T>=R||T===16&&(R&4194240)!==0))return l;if((x&4)!==0&&(x|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=x;0<l;)p=31-xn(l),T=1<<p,x|=s[p],l&=~T;return x}function Ep(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(s,l){for(var p=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,R=s.pendingLanes;0<R;){var O=31-xn(R),q=1<<O,re=T[O];re===-1?((q&p)===0||(q&x)!==0)&&(T[O]=Ep(q,l)):re<=l&&(s.expiredLanes|=q),R&=~q}}function oc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vr(){var s=zr;return zr<<=1,(zr&4194240)===0&&(zr=64),s}function uh(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function kl(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-xn(l),s[l]=p}function v0(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<p;){var T=31-xn(p),R=1<<T;l[T]=0,x[T]=-1,s[T]=-1,p&=~R}}function ba(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var x=31-xn(p),T=1<<x;T&l|s[x]&l&&(s[x]|=l),p&=~T}}var sn=0;function Ca(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ol,ch,Tp,ac,lc,Io=!1,uc=[],ss=null,Xt=null,_s=null,No=new Map,Pa=new Map,io=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kn(s,l){switch(s){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":No.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(l.pointerId)}}function Do(s,l,p,x,T,R){return s===null||s.nativeEvent!==R?(s={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:R,targetContainers:[T]},l!==null&&(l=Ps(l),l!==null&&ch(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function x0(s,l,p,x,T){switch(l){case"focusin":return ss=Do(ss,s,l,p,x,T),!0;case"dragenter":return Xt=Do(Xt,s,l,p,x,T),!0;case"mouseover":return _s=Do(_s,s,l,p,x,T),!0;case"pointerover":var R=T.pointerId;return No.set(R,Do(No.get(R)||null,s,l,p,x,T)),!0;case"gotpointercapture":return R=T.pointerId,Pa.set(R,Do(Pa.get(R)||null,s,l,p,x,T)),!0}return!1}function cc(s){var l=co(s.target);if(l!==null){var p=mt(l);if(p!==null){if(l=p.tag,l===13){if(l=Et(p),l!==null){s.blockedOn=l,lc(s.priority,function(){Tp(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=xr(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);et=x,p.target.dispatchEvent(x),et=null}else return l=Ps(p),l!==null&&ch(l),s.blockedOn=p,!1;l.shift()}return!0}function Fl(s,l,p){fc(s)&&p.delete(l)}function os(){Io=!1,ss!==null&&fc(ss)&&(ss=null),Xt!==null&&fc(Xt)&&(Xt=null),_s!==null&&fc(_s)&&(_s=null),No.forEach(Fl),Pa.forEach(Fl)}function Bl(s,l){s.blockedOn===l&&(s.blockedOn=null,Io||(Io=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,os)))}function zl(s){function l(T){return Bl(T,s)}if(0<uc.length){Bl(uc[0],s);for(var p=1;p<uc.length;p++){var x=uc[p];x.blockedOn===s&&(x.blockedOn=null)}}for(ss!==null&&Bl(ss,s),Xt!==null&&Bl(Xt,s),_s!==null&&Bl(_s,s),No.forEach(l),Pa.forEach(l),p=0;p<io.length;p++)x=io[p],x.blockedOn===s&&(x.blockedOn=null);for(;0<io.length&&(p=io[0],p.blockedOn===null);)cc(p),p.blockedOn===null&&io.shift()}var Ii=L.ReactCurrentBatchConfig,yr=!0;function hc(s,l,p,x){var T=sn,R=Ii.transition;Ii.transition=null;try{sn=1,dc(s,l,p,x)}finally{sn=T,Ii.transition=R}}function fh(s,l,p,x){var T=sn,R=Ii.transition;Ii.transition=null;try{sn=4,dc(s,l,p,x)}finally{sn=T,Ii.transition=R}}function dc(s,l,p,x){if(yr){var T=xr(s,l,p,x);if(T===null)Nc(s,l,x,pc,p),Kn(s,x);else if(x0(T,s,l,p,x))x.stopPropagation();else if(Kn(s,x),l&4&&-1<y0.indexOf(s)){for(;T!==null;){var R=Ps(T);if(R!==null&&Ol(R),R=xr(s,l,p,x),R===null&&Nc(s,l,x,pc,p),R===T)break;T=R}T!==null&&x.stopPropagation()}else Nc(s,l,x,null,p)}}var pc=null;function xr(s,l,p,x){if(pc=null,s=ee(x),s=co(s),s!==null)if(l=mt(s),l===null)s=null;else if(p=l.tag,p===13){if(s=Et(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return pc=s,null}function bp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yn()){case Gt:return 1;case to:return 4;case Cn:case Fr:return 16;case rs:return 536870912;default:return 16}default:return 16}}var Vr=null,hh=null,ji=null;function Vl(){if(ji)return ji;var s,l=hh,p=l.length,x,T="value"in Vr?Vr.value:Vr.textContent,R=T.length;for(s=0;s<p&&l[s]===T[s];s++);var O=p-s;for(x=1;x<=O&&l[p-x]===T[R-x];x++);return ji=T.slice(s,1<x?1-x:void 0)}function Uo(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ss(){return!0}function mc(){return!1}function Ni(s){function l(p,x,T,R,O){this._reactName=p,this._targetInst=T,this.type=x,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(p=s[q],this[q]=p?p(R):R[q]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ss:mc,this.isPropagationStopped=mc,this}return k(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),l}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Ni(ko),Oo=k({},ko,{view:0,detail:0}),Ra=Ni(Oo),Xi,Ar,_r,La=k({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_r&&(_r&&s.type==="mousemove"?(Xi=s.screenX-_r.screenX,Ar=s.screenY-_r.screenY):Ar=Xi=0,_r=s),Xi)},movementY:function(s){return"movementY"in s?s.movementY:Ar}}),dh=Ni(La),ws=k({},La,{dataTransfer:0}),ro=Ni(ws),gc=k({},Oo,{relatedTarget:0}),vc=Ni(gc),yc=k({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=Ni(yc),Pp=k({},ko,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ph=Ni(Pp),xc=k({},ko,{data:0}),mh=Ni(xc),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ia(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=gh[s])?!!l[s]:!1}function so(){return Ia}var Ac=k({},Oo,{key:function(s){if(s.key){var l=Rp[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Uo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Lp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(s){return s.type==="keypress"?Uo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_c=Ni(Ac),Sr=k({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Ni(Sr),Fo=k({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),Ms=Ni(Fo),Es=k({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Ni(Es),Ip=k({},La,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=Ni(Ip),yh=[9,13,27,32],Di=u&&"CompositionEvent"in window,yi=null;u&&"documentMode"in document&&(yi=document.documentMode);var Tn=u&&"TextEvent"in window&&!yi,Na=u&&(!Di||yi&&8<yi&&11>=yi),wr=" ",xh=!1;function Ah(s,l){switch(s){case"keyup":return yh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oo=!1;function Np(s,l){switch(s){case"compositionend":return Sc(l);case"keypress":return l.which!==32?null:(xh=!0,wr);case"textInput":return s=l.data,s===wr&&xh?null:s;default:return null}}function Gl(s,l){if(oo)return s==="compositionend"||!Di&&Ah(s,l)?(s=Vl(),ji=hh=Vr=null,oo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Na&&l.locale!=="ko"?null:l.data;default:return null}}var Da={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Da[s.type]:l==="textarea"}function Ua(s,l,p,x){en(x),l=Dc(l,"onChange"),0<l.length&&(p=new Hl("onChange","change",null,p,x),s.push({event:p,listeners:l}))}var ao=null,ka=null;function Dp(s){za(s,0)}function Ts(s){var l=Bn(s);if(Re(l))return s}function Up(s,l){if(s==="change")return l}var Oa=!1;if(u){var Yi;if(u){var zo="oninput"in document;if(!zo){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),zo=typeof Vo.oninput=="function"}Yi=zo}else Yi=!1;Oa=Yi&&(!document.documentMode||9<document.documentMode)}function Hr(){ao&&(ao.detachEvent("onpropertychange",Mc),ka=ao=null)}function Mc(s){if(s.propertyName==="value"&&Ts(ka)){var l=[];Ua(l,ka,s,ee(s)),Nn(Dp,l)}}function Fa(s,l,p){s==="focusin"?(Hr(),ao=l,ka=p,ao.attachEvent("onpropertychange",Mc)):s==="focusout"&&Hr()}function kp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ts(ka)}function _h(s,l){if(s==="click")return Ts(l)}function Pn(s,l){if(s==="input"||s==="change")return Ts(l)}function Ec(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var sr=typeof Object.is=="function"?Object.is:Ec;function Ho(s,l){if(sr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var T=p[x];if(!h.call(l,T)||!sr(s[T],l[T]))return!1}return!0}function Wl(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function or(s,l){var p=Wl(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=l&&x>=l)return{node:p,offset:l-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Wl(p)}}function Go(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Go(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Rn(){for(var s=window,l=Ae();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Ae(s.document)}return l}function si(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function oi(s){var l=Rn(),p=s.focusedElem,x=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&Go(p.ownerDocument.documentElement,p)){if(x!==null&&si(p)){if(l=x.start,s=x.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var T=p.textContent.length,R=Math.min(x.start,T);x=x.end===void 0?R:Math.min(x.end,T),!s.extend&&R>x&&(T=x,x=R,R=T),T=or(p,R);var O=or(p,x);T&&O&&(s.rangeCount!==1||s.anchorNode!==T.node||s.anchorOffset!==T.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(T.node,T.offset),s.removeAllRanges(),R>x?(s.addRange(l),s.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Tc=u&&"documentMode"in document&&11>=document.documentMode,as=null,Wo=null,jl=null,ai=!1;function bc(s,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ai||as==null||as!==Ae(x)||(x=as,"selectionStart"in x&&si(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),jl&&Ho(jl,x)||(jl=x,x=Dc(Wo,"onSelect"),0<x.length&&(l=new Hl("onSelect","select",null,l,p),s.push({event:l,listeners:x}),l.target=as)))}function Ba(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var lo={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Gr={},Wr={};u&&(Wr=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ls(s){if(Gr[s])return Gr[s];if(!lo[s])return s;var l=lo[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Wr)return Gr[s]=l[p];return s}var Xl=ls("animationend"),Yl=ls("animationiteration"),Sh=ls("animationstart"),wh=ls("transitionend"),Mh=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(s,l){Mh.set(s,l),o(l,[s])}for(var Cc=0;Cc<Eh.length;Cc++){var Ql=Eh[Cc],ql=Ql.toLowerCase(),Op=Ql[0].toUpperCase()+Ql.slice(1);bs(ql,"on"+Op)}bs(Xl,"onAnimationEnd"),bs(Yl,"onAnimationIteration"),bs(Sh,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(wh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pc=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Rc(s,l,p){var x=s.type||"unknown-event";s.currentTarget=p,Le(x,l,void 0,s),s.currentTarget=null}function za(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],T=x.event;x=x.listeners;e:{var R=void 0;if(l)for(var O=x.length-1;0<=O;O--){var q=x[O],re=q.instance,we=q.currentTarget;if(q=q.listener,re!==R&&T.isPropagationStopped())break e;Rc(T,q,we),R=re}else for(O=0;O<x.length;O++){if(q=x[O],re=q.instance,we=q.currentTarget,q=q.listener,re!==R&&T.isPropagationStopped())break e;Rc(T,q,we),R=re}}}if(j)throw s=ye,j=!1,ye=null,s}function An(s,l){var p=l[Yo];p===void 0&&(p=l[Yo]=new Set);var x=s+"__bubble";p.has(x)||(Ic(l,s,2,!1),p.add(x))}function Lc(s,l,p){var x=0;l&&(x|=4),Ic(p,s,x,l)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Va(s){if(!s[Zl]){s[Zl]=!0,n.forEach(function(p){p!=="selectionchange"&&(Pc.has(p)||Lc(p,!1,s),Lc(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Zl]||(l[Zl]=!0,Lc("selectionchange",!1,l))}}function Ic(s,l,p,x){switch(bp(l)){case 1:var T=hc;break;case 4:T=fh;break;default:T=dc}p=T.bind(null,l,p,s),T=void 0,!$s||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(l,p,{capture:!0,passive:T}):s.addEventListener(l,p,!0):T!==void 0?s.addEventListener(l,p,{passive:T}):s.addEventListener(l,p,!1)}function Nc(s,l,p,x,T){var R=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var q=x.stateNode.containerInfo;if(q===T||q.nodeType===8&&q.parentNode===T)break;if(O===4)for(O=x.return;O!==null;){var re=O.tag;if((re===3||re===4)&&(re=O.stateNode.containerInfo,re===T||re.nodeType===8&&re.parentNode===T))return;O=O.return}for(;q!==null;){if(O=co(q),O===null)return;if(re=O.tag,re===5||re===6){x=R=O;continue e}q=q.parentNode}}x=x.return}Nn(function(){var we=R,ze=ee(p),He=[];e:{var Be=Mh.get(s);if(Be!==void 0){var rt=Hl,ft=s;switch(s){case"keypress":if(Uo(p)===0)break e;case"keydown":case"keyup":rt=_c;break;case"focusin":ft="focus",rt=vc;break;case"focusout":ft="blur",rt=vc;break;case"beforeblur":case"afterblur":rt=vc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Ms;break;case Xl:case Yl:case Sh:rt=Cp;break;case wh:rt=Bo;break;case"scroll":rt=Ra;break;case"wheel":rt=vh;break;case"copy":case"cut":case"paste":rt=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=rr}var vt=(l&4)!==0,ei=!vt&&s==="scroll",pe=vt?Be!==null?Be+"Capture":null:Be;vt=[];for(var ue=we,ve;ue!==null;){ve=ue;var Xe=ve.stateNode;if(ve.tag===5&&Xe!==null&&(ve=Xe,pe!==null&&(Xe=Fn(ue,pe),Xe!=null&&vt.push(Ha(ue,Xe,ve)))),ei)break;ue=ue.return}0<vt.length&&(Be=new rt(Be,ft,null,p,ze),He.push({event:Be,listeners:vt}))}}if((l&7)===0){e:{if(Be=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",Be&&p!==et&&(ft=p.relatedTarget||p.fromElement)&&(co(ft)||ft[ar]))break e;if((rt||Be)&&(Be=ze.window===ze?ze:(Be=ze.ownerDocument)?Be.defaultView||Be.parentWindow:window,rt?(ft=p.relatedTarget||p.toElement,rt=we,ft=ft?co(ft):null,ft!==null&&(ei=mt(ft),ft!==ei||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(rt=null,ft=we),rt!==ft)){if(vt=dh,Xe="onMouseLeave",pe="onMouseEnter",ue="mouse",(s==="pointerout"||s==="pointerover")&&(vt=rr,Xe="onPointerLeave",pe="onPointerEnter",ue="pointer"),ei=rt==null?Be:Bn(rt),ve=ft==null?Be:Bn(ft),Be=new vt(Xe,ue+"leave",rt,p,ze),Be.target=ei,Be.relatedTarget=ve,Xe=null,co(ze)===we&&(vt=new vt(pe,ue+"enter",ft,p,ze),vt.target=ve,vt.relatedTarget=ei,Xe=vt),ei=Xe,rt&&ft)t:{for(vt=rt,pe=ft,ue=0,ve=vt;ve;ve=jo(ve))ue++;for(ve=0,Xe=pe;Xe;Xe=jo(Xe))ve++;for(;0<ue-ve;)vt=jo(vt),ue--;for(;0<ve-ue;)pe=jo(pe),ve--;for(;ue--;){if(vt===pe||pe!==null&&vt===pe.alternate)break t;vt=jo(vt),pe=jo(pe)}vt=null}else vt=null;rt!==null&&Fp(He,Be,rt,vt,!1),ft!==null&&ei!==null&&Fp(He,ei,ft,vt,!0)}}e:{if(Be=we?Bn(we):window,rt=Be.nodeName&&Be.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Be.type==="file")var xt=Up;else if(wc(Be))if(Oa)xt=Pn;else{xt=kp;var Tt=Fa}else(rt=Be.nodeName)&&rt.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(xt=_h);if(xt&&(xt=xt(s,we))){Ua(He,xt,p,ze);break e}Tt&&Tt(s,Be,we),s==="focusout"&&(Tt=Be._wrapperState)&&Tt.controlled&&Be.type==="number"&&ct(Be,"number",Be.value)}switch(Tt=we?Bn(we):window,s){case"focusin":(wc(Tt)||Tt.contentEditable==="true")&&(as=Tt,Wo=we,jl=null);break;case"focusout":jl=Wo=as=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,bc(He,p,ze);break;case"selectionchange":if(Tc)break;case"keydown":case"keyup":bc(He,p,ze)}var bt;if(Di)e:{switch(s){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else oo?Ah(s,p)&&(It="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(It="onCompositionStart");It&&(Na&&p.locale!=="ko"&&(oo||It!=="onCompositionStart"?It==="onCompositionEnd"&&oo&&(bt=Vl()):(Vr=ze,hh="value"in Vr?Vr.value:Vr.textContent,oo=!0)),Tt=Dc(we,It),0<Tt.length&&(It=new mh(It,s,null,p,ze),He.push({event:It,listeners:Tt}),bt?It.data=bt:(bt=Sc(p),bt!==null&&(It.data=bt)))),(bt=Tn?Np(s,p):Gl(s,p))&&(we=Dc(we,"onBeforeInput"),0<we.length&&(ze=new mh("onBeforeInput","beforeinput",null,p,ze),He.push({event:ze,listeners:we}),ze.data=bt))}za(He,l)})}function Ha(s,l,p){return{instance:s,listener:l,currentTarget:p}}function Dc(s,l){for(var p=l+"Capture",x=[];s!==null;){var T=s,R=T.stateNode;T.tag===5&&R!==null&&(T=R,R=Fn(s,p),R!=null&&x.unshift(Ha(s,R,T)),R=Fn(s,l),R!=null&&x.push(Ha(s,R,T))),s=s.return}return x}function jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Fp(s,l,p,x,T){for(var R=l._reactName,O=[];p!==null&&p!==x;){var q=p,re=q.alternate,we=q.stateNode;if(re!==null&&re===x)break;q.tag===5&&we!==null&&(q=we,T?(re=Fn(p,R),re!=null&&O.unshift(Ha(p,re,q))):T||(re=Fn(p,R),re!=null&&O.push(Ha(p,re,q)))),p=p.return}O.length!==0&&s.push({event:l,listeners:O})}var A0=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function Th(s){return(typeof s=="string"?s:""+s).replace(A0,`
`).replace(Bp,"")}function Kl(s,l,p){if(l=Th(l),Th(s)!==l&&p)throw Error(t(425))}function Jl(){}var Ga=null,bh=null;function Ch(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(s){return Uc.resolve(null).then(s).catch(zp)}:Ph;function zp(s){setTimeout(function(){throw s})}function kc(s,l){var p=l,x=0;do{var T=p.nextSibling;if(s.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(x===0){s.removeChild(T),zl(l);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=T}while(p);zl(l)}function Cs(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Lh(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Xo,Wa="__reactProps$"+Xo,ar="__reactContainer$"+Xo,Yo="__reactEvents$"+Xo,Oc="__reactListeners$"+Xo,Fc="__reactHandles$"+Xo;function co(s){var l=s[Jn];if(l)return l;for(var p=s.parentNode;p;){if(l=p[ar]||p[Jn]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=Lh(s);s!==null;){if(p=s[Jn])return p;s=Lh(s)}return l}s=p,p=s.parentNode}return null}function Ps(s){return s=s[Jn]||s[ar],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bn(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Bc(s){return s[Wa]||null}var Ih=[],li=-1;function Dn(s){return{current:s}}function _n(s){0>li||(s.current=Ih[li],Ih[li]=null,li--)}function mn(s,l){li++,Ih[li]=s.current,s.current=l}var Rs={},xi=Dn(Rs),Ui=Dn(!1),Ls=Rs;function Qo(s,l){var p=s.type.contextTypes;if(!p)return Rs;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in p)T[R]=l[R];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=T),T}function Mi(s){return s=s.childContextTypes,s!=null}function $l(){_n(Ui),_n(xi)}function Nh(s,l,p){if(xi.current!==Rs)throw Error(t(168));mn(xi,l),mn(Ui,p)}function eu(s,l,p){var x=s.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var T in x)if(!(T in l))throw Error(t(108,$(s)||"Unknown",T));return k({},p,x)}function qo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rs,Ls=xi.current,mn(xi,s),mn(Ui,Ui.current),!0}function Dh(s,l,p){var x=s.stateNode;if(!x)throw Error(t(169));p?(s=eu(s,l,Ls),x.__reactInternalMemoizedMergedChildContext=s,_n(Ui),_n(xi),mn(xi,s)):_n(Ui),mn(Ui,p)}var jr=null,tu=!1,zc=!1;function nu(s){jr===null?jr=[s]:jr.push(s)}function Vp(s){tu=!0,nu(s)}function us(){if(!zc&&jr!==null){zc=!0;var s=0,l=sn;try{var p=jr;for(sn=1;s<p.length;s++){var x=p[s];do x=x(!0);while(x!==null)}jr=null,tu=!1}catch(T){throw jr!==null&&(jr=jr.slice(s+1)),jt(Gt,us),T}finally{sn=l,zc=!1}}return null}var Zo=[],Qi=0,Vc=null,Hc=0,ki=[],ui=0,Ko=null,qe=1,Mr="";function Is(s,l){Zo[Qi++]=Hc,Zo[Qi++]=Vc,Vc=s,Hc=l}function Uh(s,l,p){ki[ui++]=qe,ki[ui++]=Mr,ki[ui++]=Ko,Ko=s;var x=qe;s=Mr;var T=32-xn(x)-1;x&=~(1<<T),p+=1;var R=32-xn(l)+T;if(30<R){var O=T-T%5;R=(x&(1<<O)-1).toString(32),x>>=O,T-=O,qe=1<<32-xn(l)+T|p<<T|x,Mr=R+s}else qe=1<<R|p<<T|x,Mr=s}function kh(s){s.return!==null&&(Is(s,1),Uh(s,1,0))}function Ns(s){for(;s===Vc;)Vc=Zo[--Qi],Zo[Qi]=null,Hc=Zo[--Qi],Zo[Qi]=null;for(;s===Ko;)Ko=ki[--ui],ki[ui]=null,Mr=ki[--ui],ki[ui]=null,qe=ki[--ui],ki[ui]=null}var Ai=null,Oi=null,wn=!1,Er=null;function Oh(s,l){var p=ms(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function Fh(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Ai=s,Oi=Cs(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Ai=s,Oi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Ko!==null?{id:qe,overflow:Mr}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=ms(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,Ai=s,Oi=null,!0):!1;default:return!1}}function Gc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wc(s){if(wn){var l=Oi;if(l){var p=l;if(!Fh(s,l)){if(Gc(s))throw Error(t(418));l=Cs(p.nextSibling);var x=Ai;l&&Fh(s,l)?Oh(x,p):(s.flags=s.flags&-4097|2,wn=!1,Ai=s)}}else{if(Gc(s))throw Error(t(418));s.flags=s.flags&-4097|2,wn=!1,Ai=s}}}function jc(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ai=s}function ja(s){if(s!==Ai)return!1;if(!wn)return jc(s),wn=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Ch(s.type,s.memoizedProps)),l&&(l=Oi)){if(Gc(s))throw Bh(),Error(t(418));for(;l;)Oh(s,l),l=Cs(l.nextSibling)}if(jc(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){Oi=Cs(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}Oi=null}}else Oi=Ai?Cs(s.stateNode.nextSibling):null;return!0}function Bh(){for(var s=Oi;s;)s=Cs(s.nextSibling)}function fo(){Oi=Ai=null,wn=!1}function Xa(s){Er===null?Er=[s]:Er.push(s)}var S0=L.ReactCurrentBatchConfig;function Xr(s,l){if(s&&s.defaultProps){l=k({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var iu=Dn(null),ru=null,Jo=null,Xc=null;function Ya(){Xc=Jo=ru=null}function Qa(s){var l=iu.current;_n(iu),s._currentValue=l}function qa(s,l,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===p)break;s=s.return}}function Ds(s,l){ru=s,Xc=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(tt=!0),s.firstContext=null)}function Fi(s){var l=s._currentValue;if(Xc!==s)if(s={context:s,memoizedValue:l,next:null},Jo===null){if(ru===null)throw Error(t(308));Jo=s,ru.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return l}var Yr=null;function su(s){Yr===null?Yr=[s]:Yr.push(s)}function Yc(s,l,p,x){var T=l.interleaved;return T===null?(p.next=p,su(l)):(p.next=T.next,T.next=p),l.interleaved=p,Qr(s,x)}function Qr(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Us=!1;function ou(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hp(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Tr(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function cs(s,l,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(ln&2)!==0){var T=x.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),x.pending=l,Qr(s,p)}return T=x.interleaved,T===null?(l.next=l,su(x)):(l.next=T.next,T.next=l),x.interleaved=l,Qr(s,p)}function bn(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,ba(s,p)}}function Wt(s,l){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var T=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var O={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};R===null?T=R=O:R=R.next=O,p=p.next}while(p!==null);R===null?T=R=l:R=R.next=l}else T=R=l;p={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:x.shared,effects:x.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function Ln(s,l,p,x){var T=s.updateQueue;Us=!1;var R=T.firstBaseUpdate,O=T.lastBaseUpdate,q=T.shared.pending;if(q!==null){T.shared.pending=null;var re=q,we=re.next;re.next=null,O===null?R=we:O.next=we,O=re;var ze=s.alternate;ze!==null&&(ze=ze.updateQueue,q=ze.lastBaseUpdate,q!==O&&(q===null?ze.firstBaseUpdate=we:q.next=we,ze.lastBaseUpdate=re))}if(R!==null){var He=T.baseState;O=0,ze=we=re=null,q=R;do{var Be=q.lane,rt=q.eventTime;if((x&Be)===Be){ze!==null&&(ze=ze.next={eventTime:rt,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var ft=s,vt=q;switch(Be=l,rt=p,vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){He=ft.call(rt,He,Be);break e}He=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,Be=typeof ft=="function"?ft.call(rt,He,Be):ft,Be==null)break e;He=k({},He,Be);break e;case 2:Us=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,Be=T.effects,Be===null?T.effects=[q]:Be.push(q))}else rt={eventTime:rt,lane:Be,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ze===null?(we=ze=rt,re=He):ze=ze.next=rt,O|=Be;if(q=q.next,q===null){if(q=T.shared.pending,q===null)break;Be=q,q=Be.next,Be.next=null,T.lastBaseUpdate=Be,T.shared.pending=null}}while(!0);if(ze===null&&(re=He),T.baseState=re,T.firstBaseUpdate=we,T.lastBaseUpdate=ze,l=T.shared.interleaved,l!==null){T=l;do O|=T.lane,T=T.next;while(T!==l)}else R===null&&(T.shared.lanes=0);du|=O,s.lanes=O,s.memoizedState=He}}function zn(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var x=s[l],T=x.callback;if(T!==null){if(x.callback=null,x=p,typeof T!="function")throw Error(t(191,T));T.call(x)}}}var ci=new i.Component().refs;function Bi(s,l,p,x){l=s.memoizedState,p=p(x,l),p=p==null?l:k({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var ks={isMounted:function(s){return(s=s._reactInternals)?mt(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var x=fr(),T=ol(s),R=Tr(x,T);R.payload=l,p!=null&&(R.callback=p),l=cs(s,R,T),l!==null&&(zs(l,s,T,x),bn(l,s,T))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var x=fr(),T=ol(s),R=Tr(x,T);R.tag=1,R.payload=l,p!=null&&(R.callback=p),l=cs(s,R,T),l!==null&&(zs(l,s,T,x),bn(l,s,T))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=fr(),x=ol(s),T=Tr(p,x);T.tag=2,l!=null&&(T.callback=l),l=cs(s,T,x),l!==null&&(zs(l,s,x,p),bn(l,s,x))}};function Yn(s,l,p,x,T,R,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,R,O):l.prototype&&l.prototype.isPureReactComponent?!Ho(p,x)||!Ho(T,R):!0}function Za(s,l,p){var x=!1,T=Rs,R=l.contextType;return typeof R=="object"&&R!==null?R=Fi(R):(T=Mi(l)?Ls:xi.current,x=l.contextTypes,R=(x=x!=null)?Qo(s,T):Rs),l=new l(p,R),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ks,s.stateNode=l,l._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=T,s.__reactInternalMemoizedMaskedChildContext=R),l}function $o(s,l,p,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==s&&ks.enqueueReplaceState(l,l.state,null)}function Ka(s,l,p,x){var T=s.stateNode;T.props=p,T.state=s.memoizedState,T.refs=ci,ou(s);var R=l.contextType;typeof R=="object"&&R!==null?T.context=Fi(R):(R=Mi(l)?Ls:xi.current,T.context=Qo(s,R)),T.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Bi(s,l,R,p),T.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(l=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),l!==T.state&&ks.enqueueReplaceState(T,T.state,null),Ln(s,p,T,x),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308)}function ea(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var x=p.stateNode}if(!x)throw Error(t(147,s));var T=x,R=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===R?l.ref:(l=function(O){var q=T.refs;q===ci&&(q=T.refs={}),O===null?delete q[R]:q[R]=O},l._stringRef=R,l)}if(typeof s!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,s))}return s}function ho(s,l){throw s=Object.prototype.toString.call(l),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function zi(s){var l=s._init;return l(s._payload)}function Qc(s){function l(pe,ue){if(s){var ve=pe.deletions;ve===null?(pe.deletions=[ue],pe.flags|=16):ve.push(ue)}}function p(pe,ue){if(!s)return null;for(;ue!==null;)l(pe,ue),ue=ue.sibling;return null}function x(pe,ue){for(pe=new Map;ue!==null;)ue.key!==null?pe.set(ue.key,ue):pe.set(ue.index,ue),ue=ue.sibling;return pe}function T(pe,ue){return pe=ll(pe,ue),pe.index=0,pe.sibling=null,pe}function R(pe,ue,ve){return pe.index=ve,s?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<ue?(pe.flags|=2,ue):ve):(pe.flags|=2,ue)):(pe.flags|=1048576,ue)}function O(pe){return s&&pe.alternate===null&&(pe.flags|=2),pe}function q(pe,ue,ve,Xe){return ue===null||ue.tag!==6?(ue=V0(ve,pe.mode,Xe),ue.return=pe,ue):(ue=T(ue,ve),ue.return=pe,ue)}function re(pe,ue,ve,Xe){var xt=ve.type;return xt===z?ze(pe,ue,ve.props.children,Xe,ve.key):ue!==null&&(ue.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ge&&zi(xt)===ue.type)?(Xe=T(ue,ve.props),Xe.ref=ea(pe,ue,ve),Xe.return=pe,Xe):(Xe=hm(ve.type,ve.key,ve.props,null,pe.mode,Xe),Xe.ref=ea(pe,ue,ve),Xe.return=pe,Xe)}function we(pe,ue,ve,Xe){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ve.containerInfo||ue.stateNode.implementation!==ve.implementation?(ue=H0(ve,pe.mode,Xe),ue.return=pe,ue):(ue=T(ue,ve.children||[]),ue.return=pe,ue)}function ze(pe,ue,ve,Xe,xt){return ue===null||ue.tag!==7?(ue=vu(ve,pe.mode,Xe,xt),ue.return=pe,ue):(ue=T(ue,ve),ue.return=pe,ue)}function He(pe,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=V0(""+ue,pe.mode,ve),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return ve=hm(ue.type,ue.key,ue.props,null,pe.mode,ve),ve.ref=ea(pe,null,ue),ve.return=pe,ve;case U:return ue=H0(ue,pe.mode,ve),ue.return=pe,ue;case ge:var Xe=ue._init;return He(pe,Xe(ue._payload),ve)}if(wt(ue)||Z(ue))return ue=vu(ue,pe.mode,ve,null),ue.return=pe,ue;ho(pe,ue)}return null}function Be(pe,ue,ve,Xe){var xt=ue!==null?ue.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return xt!==null?null:q(pe,ue,""+ve,Xe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return ve.key===xt?re(pe,ue,ve,Xe):null;case U:return ve.key===xt?we(pe,ue,ve,Xe):null;case ge:return xt=ve._init,Be(pe,ue,xt(ve._payload),Xe)}if(wt(ve)||Z(ve))return xt!==null?null:ze(pe,ue,ve,Xe,null);ho(pe,ve)}return null}function rt(pe,ue,ve,Xe,xt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return pe=pe.get(ve)||null,q(ue,pe,""+Xe,xt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case D:return pe=pe.get(Xe.key===null?ve:Xe.key)||null,re(ue,pe,Xe,xt);case U:return pe=pe.get(Xe.key===null?ve:Xe.key)||null,we(ue,pe,Xe,xt);case ge:var Tt=Xe._init;return rt(pe,ue,ve,Tt(Xe._payload),xt)}if(wt(Xe)||Z(Xe))return pe=pe.get(ve)||null,ze(ue,pe,Xe,xt,null);ho(ue,Xe)}return null}function ft(pe,ue,ve,Xe){for(var xt=null,Tt=null,bt=ue,It=ue=0,bi=null;bt!==null&&It<ve.length;It++){bt.index>It?(bi=bt,bt=null):bi=bt.sibling;var hn=Be(pe,bt,ve[It],Xe);if(hn===null){bt===null&&(bt=bi);break}s&&bt&&hn.alternate===null&&l(pe,bt),ue=R(hn,ue,It),Tt===null?xt=hn:Tt.sibling=hn,Tt=hn,bt=bi}if(It===ve.length)return p(pe,bt),wn&&Is(pe,It),xt;if(bt===null){for(;It<ve.length;It++)bt=He(pe,ve[It],Xe),bt!==null&&(ue=R(bt,ue,It),Tt===null?xt=bt:Tt.sibling=bt,Tt=bt);return wn&&Is(pe,It),xt}for(bt=x(pe,bt);It<ve.length;It++)bi=rt(bt,pe,It,ve[It],Xe),bi!==null&&(s&&bi.alternate!==null&&bt.delete(bi.key===null?It:bi.key),ue=R(bi,ue,It),Tt===null?xt=bi:Tt.sibling=bi,Tt=bi);return s&&bt.forEach(function(ul){return l(pe,ul)}),wn&&Is(pe,It),xt}function vt(pe,ue,ve,Xe){var xt=Z(ve);if(typeof xt!="function")throw Error(t(150));if(ve=xt.call(ve),ve==null)throw Error(t(151));for(var Tt=xt=null,bt=ue,It=ue=0,bi=null,hn=ve.next();bt!==null&&!hn.done;It++,hn=ve.next()){bt.index>It?(bi=bt,bt=null):bi=bt.sibling;var ul=Be(pe,bt,hn.value,Xe);if(ul===null){bt===null&&(bt=bi);break}s&&bt&&ul.alternate===null&&l(pe,bt),ue=R(ul,ue,It),Tt===null?xt=ul:Tt.sibling=ul,Tt=ul,bt=bi}if(hn.done)return p(pe,bt),wn&&Is(pe,It),xt;if(bt===null){for(;!hn.done;It++,hn=ve.next())hn=He(pe,hn.value,Xe),hn!==null&&(ue=R(hn,ue,It),Tt===null?xt=hn:Tt.sibling=hn,Tt=hn);return wn&&Is(pe,It),xt}for(bt=x(pe,bt);!hn.done;It++,hn=ve.next())hn=rt(bt,pe,It,hn.value,Xe),hn!==null&&(s&&hn.alternate!==null&&bt.delete(hn.key===null?It:hn.key),ue=R(hn,ue,It),Tt===null?xt=hn:Tt.sibling=hn,Tt=hn);return s&&bt.forEach(function(EC){return l(pe,EC)}),wn&&Is(pe,It),xt}function ei(pe,ue,ve,Xe){if(typeof ve=="object"&&ve!==null&&ve.type===z&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:e:{for(var xt=ve.key,Tt=ue;Tt!==null;){if(Tt.key===xt){if(xt=ve.type,xt===z){if(Tt.tag===7){p(pe,Tt.sibling),ue=T(Tt,ve.props.children),ue.return=pe,pe=ue;break e}}else if(Tt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ge&&zi(xt)===Tt.type){p(pe,Tt.sibling),ue=T(Tt,ve.props),ue.ref=ea(pe,Tt,ve),ue.return=pe,pe=ue;break e}p(pe,Tt);break}else l(pe,Tt);Tt=Tt.sibling}ve.type===z?(ue=vu(ve.props.children,pe.mode,Xe,ve.key),ue.return=pe,pe=ue):(Xe=hm(ve.type,ve.key,ve.props,null,pe.mode,Xe),Xe.ref=ea(pe,ue,ve),Xe.return=pe,pe=Xe)}return O(pe);case U:e:{for(Tt=ve.key;ue!==null;){if(ue.key===Tt)if(ue.tag===4&&ue.stateNode.containerInfo===ve.containerInfo&&ue.stateNode.implementation===ve.implementation){p(pe,ue.sibling),ue=T(ue,ve.children||[]),ue.return=pe,pe=ue;break e}else{p(pe,ue);break}else l(pe,ue);ue=ue.sibling}ue=H0(ve,pe.mode,Xe),ue.return=pe,pe=ue}return O(pe);case ge:return Tt=ve._init,ei(pe,ue,Tt(ve._payload),Xe)}if(wt(ve))return ft(pe,ue,ve,Xe);if(Z(ve))return vt(pe,ue,ve,Xe);ho(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ue!==null&&ue.tag===6?(p(pe,ue.sibling),ue=T(ue,ve),ue.return=pe,pe=ue):(p(pe,ue),ue=V0(ve,pe.mode,Xe),ue.return=pe,pe=ue),O(pe)):p(pe,ue)}return ei}var po=Qc(!0),ta=Qc(!1),mo={},br=Dn(mo),Cr=Dn(mo),go=Dn(mo);function qi(s){if(s===mo)throw Error(t(174));return s}function Ja(s,l){switch(mn(go,l),mn(Cr,s),mn(br,mo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:je(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=je(l,s)}_n(br),mn(br,l)}function fs(){_n(br),_n(Cr),_n(go)}function qc(s){qi(go.current);var l=qi(br.current),p=je(l,s.type);l!==p&&(mn(Cr,s),mn(br,p))}function $a(s){Cr.current===s&&(_n(br),_n(Cr))}var Sn=Dn(0);function fi(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hs=[];function Zi(){for(var s=0;s<hs.length;s++)hs[s]._workInProgressVersionPrimary=null;hs.length=0}var na=L.ReactCurrentDispatcher,Ei=L.ReactCurrentBatchConfig,vo=0,Mn=null,Vn=null,hi=null,qr=!1,el=!1,tl=0,zh=0;function Un(){throw Error(t(321))}function Zc(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!sr(s[p],l[p]))return!1;return!0}function Kc(s,l,p,x,T,R){if(vo=R,Mn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,na.current=s===null||s.memoizedState===null?f:y,s=p(x,T),el){R=0;do{if(el=!1,tl=0,25<=R)throw Error(t(301));R+=1,hi=Vn=null,l.updateQueue=null,na.current=w,s=p(x,T)}while(el)}if(na.current=c,l=Vn!==null&&Vn.next!==null,vo=0,hi=Vn=Mn=null,qr=!1,l)throw Error(t(300));return s}function au(){var s=tl!==0;return tl=0,s}function lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Mn.memoizedState=hi=s:hi=hi.next=s,hi}function Pr(){if(Vn===null){var s=Mn.alternate;s=s!==null?s.memoizedState:null}else s=Vn.next;var l=hi===null?Mn.memoizedState:hi.next;if(l!==null)hi=l,Vn=s;else{if(s===null)throw Error(t(310));Vn=s,s={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},hi===null?Mn.memoizedState=hi=s:hi=hi.next=s}return hi}function lu(s,l){return typeof l=="function"?l(s):l}function Jc(s){var l=Pr(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=s;var x=Vn,T=x.baseQueue,R=p.pending;if(R!==null){if(T!==null){var O=T.next;T.next=R.next,R.next=O}x.baseQueue=T=R,p.pending=null}if(T!==null){R=T.next,x=x.baseState;var q=O=null,re=null,we=R;do{var ze=we.lane;if((vo&ze)===ze)re!==null&&(re=re.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:s(x,we.action);else{var He={lane:ze,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};re===null?(q=re=He,O=x):re=re.next=He,Mn.lanes|=ze,du|=ze}we=we.next}while(we!==null&&we!==R);re===null?O=x:re.next=q,sr(x,l.memoizedState)||(tt=!0),l.memoizedState=x,l.baseState=O,l.baseQueue=re,p.lastRenderedState=x}if(s=p.interleaved,s!==null){T=s;do R=T.lane,Mn.lanes|=R,du|=R,T=T.next;while(T!==s)}else T===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function $c(s){var l=Pr(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=s;var x=p.dispatch,T=p.pending,R=l.memoizedState;if(T!==null){p.pending=null;var O=T=T.next;do R=s(R,O.action),O=O.next;while(O!==T);sr(R,l.memoizedState)||(tt=!0),l.memoizedState=R,l.baseQueue===null&&(l.baseState=R),p.lastRenderedState=R}return[R,x]}function yo(){}function Gp(s,l){var p=Mn,x=Pr(),T=l(),R=!sr(x.memoizedState,T);if(R&&(x.memoizedState=T,tt=!0),x=x.queue,fu(Vi.bind(null,p,x,s),[s]),x.getSnapshot!==l||R||hi!==null&&hi.memoizedState.tag&1){if(p.flags|=2048,uu(9,Vh.bind(null,p,x,T,l),void 0,null),Ti===null)throw Error(t(349));(vo&30)!==0||xo(p,l,T)}return T}function xo(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=Mn.updateQueue,l===null?(l={lastEffect:null,stores:null},Mn.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function Vh(s,l,p,x){l.value=p,l.getSnapshot=x,Wp(l)&&Hh(s)}function Vi(s,l,p){return p(function(){Wp(l)&&Hh(s)})}function Wp(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!sr(s,p)}catch{return!0}}function Hh(s){var l=Qr(s,1);l!==null&&zs(l,s,1,-1)}function jp(s){var l=lr();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:s},l.queue=s,s=s.dispatch=Zp.bind(null,Mn,s),[l.memoizedState,s]}function uu(s,l,p,x){return s={tag:s,create:l,destroy:p,deps:x,next:null},l=Mn.updateQueue,l===null?(l={lastEffect:null,stores:null},Mn.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,l.lastEffect=s)),s}function Gh(){return Pr().memoizedState}function cu(s,l,p,x){var T=lr();Mn.flags|=s,T.memoizedState=uu(1|l,p,void 0,x===void 0?null:x)}function ef(s,l,p,x){var T=Pr();x=x===void 0?null:x;var R=void 0;if(Vn!==null){var O=Vn.memoizedState;if(R=O.destroy,x!==null&&Zc(x,O.deps)){T.memoizedState=uu(l,p,R,x);return}}Mn.flags|=s,T.memoizedState=uu(1|l,p,R,x)}function ur(s,l){return cu(8390656,8,s,l)}function fu(s,l){return ef(2048,8,s,l)}function Xp(s,l){return ef(4,2,s,l)}function Os(s,l){return ef(4,4,s,l)}function hu(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Ao(s,l,p){return p=p!=null?p.concat([s]):null,ef(4,4,hu.bind(null,l,s),p)}function nl(){}function tf(s,l){var p=Pr();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Zc(l,x[1])?x[0]:(p.memoizedState=[s,l],s)}function nf(s,l){var p=Pr();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Zc(l,x[1])?x[0]:(s=s(),p.memoizedState=[s,l],s)}function Yp(s,l,p){return(vo&21)===0?(s.baseState&&(s.baseState=!1,tt=!0),s.memoizedState=p):(sr(p,l)||(p=vr(),Mn.lanes|=p,du|=p,s.baseState=!0),l)}function Qp(s,l){var p=sn;sn=p!==0&&4>p?p:4,s(!0);var x=Ei.transition;Ei.transition={};try{s(!1),l()}finally{sn=p,Ei.transition=x}}function Wh(){return Pr().memoizedState}function qp(s,l,p){var x=ol(s);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},rf(s))Kp(l,p);else if(p=Yc(s,l,p,x),p!==null){var T=fr();zs(p,s,x,T),Jp(p,l,x)}}function Zp(s,l,p){var x=ol(s),T={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(rf(s))Kp(l,T);else{var R=s.alternate;if(s.lanes===0&&(R===null||R.lanes===0)&&(R=l.lastRenderedReducer,R!==null))try{var O=l.lastRenderedState,q=R(O,p);if(T.hasEagerState=!0,T.eagerState=q,sr(q,O)){var re=l.interleaved;re===null?(T.next=T,su(l)):(T.next=re.next,re.next=T),l.interleaved=T;return}}catch{}p=Yc(s,l,T,x),p!==null&&(T=fr(),zs(p,s,x,T),Jp(p,l,x))}}function rf(s){var l=s.alternate;return s===Mn||l!==null&&l===Mn}function Kp(s,l){el=qr=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function Jp(s,l,p){if((p&4194240)!==0){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,ba(s,p)}}var c={readContext:Fi,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},f={readContext:Fi,useCallback:function(s,l){return lr().memoizedState=[s,l===void 0?null:l],s},useContext:Fi,useEffect:ur,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,cu(4194308,4,hu.bind(null,l,s),p)},useLayoutEffect:function(s,l){return cu(4194308,4,s,l)},useInsertionEffect:function(s,l){return cu(4,2,s,l)},useMemo:function(s,l){var p=lr();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var x=lr();return l=p!==void 0?p(l):l,x.memoizedState=x.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},x.queue=s,s=s.dispatch=qp.bind(null,Mn,s),[x.memoizedState,s]},useRef:function(s){var l=lr();return s={current:s},l.memoizedState=s},useState:jp,useDebugValue:nl,useDeferredValue:function(s){return lr().memoizedState=s},useTransition:function(){var s=jp(!1),l=s[0];return s=Qp.bind(null,s[1]),lr().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var x=Mn,T=lr();if(wn){if(p===void 0)throw Error(t(407));p=p()}else{if(p=l(),Ti===null)throw Error(t(349));(vo&30)!==0||xo(x,l,p)}T.memoizedState=p;var R={value:p,getSnapshot:l};return T.queue=R,ur(Vi.bind(null,x,R,s),[s]),x.flags|=2048,uu(9,Vh.bind(null,x,R,p,l),void 0,null),p},useId:function(){var s=lr(),l=Ti.identifierPrefix;if(wn){var p=Mr,x=qe;p=(x&~(1<<32-xn(x)-1)).toString(32)+p,l=":"+l+"R"+p,p=tl++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=zh++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},y={readContext:Fi,useCallback:tf,useContext:Fi,useEffect:fu,useImperativeHandle:Ao,useInsertionEffect:Xp,useLayoutEffect:Os,useMemo:nf,useReducer:Jc,useRef:Gh,useState:function(){return Jc(lu)},useDebugValue:nl,useDeferredValue:function(s){var l=Pr();return Yp(l,Vn.memoizedState,s)},useTransition:function(){var s=Jc(lu)[0],l=Pr().memoizedState;return[s,l]},useMutableSource:yo,useSyncExternalStore:Gp,useId:Wh,unstable_isNewReconciler:!1},w={readContext:Fi,useCallback:tf,useContext:Fi,useEffect:fu,useImperativeHandle:Ao,useInsertionEffect:Xp,useLayoutEffect:Os,useMemo:nf,useReducer:$c,useRef:Gh,useState:function(){return $c(lu)},useDebugValue:nl,useDeferredValue:function(s){var l=Pr();return Vn===null?l.memoizedState=s:Yp(l,Vn.memoizedState,s)},useTransition:function(){var s=$c(lu)[0],l=Pr().memoizedState;return[s,l]},useMutableSource:yo,useSyncExternalStore:Gp,useId:Wh,unstable_isNewReconciler:!1};function P(s,l){try{var p="",x=l;do p+=Ce(x),x=x.return;while(x);var T=p}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:s,source:l,stack:T,digest:null}}function I(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function X(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var fe=typeof WeakMap=="function"?WeakMap:Map;function Te(s,l,p){p=Tr(-1,p),p.tag=3,p.payload={element:null};var x=l.value;return p.callback=function(){om||(om=!0,N0=x),X(s,l)},p}function We(s,l,p){p=Tr(-1,p),p.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var T=l.value;p.payload=function(){return x(T)},p.callback=function(){X(s,l)}}var R=s.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(p.callback=function(){X(s,l),typeof x!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),p}function ot(s,l,p){var x=s.pingCache;if(x===null){x=s.pingCache=new fe;var T=new Set;x.set(l,T)}else T=x.get(l),T===void 0&&(T=new Set,x.set(l,T));T.has(p)||(T.add(p),s=pC.bind(null,s,l,p),l.then(s,s))}function Dt(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Mt(s,l,p,x,T){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Tr(-1,1),l.tag=2,cs(p,l,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=T,s)}var gn=L.ReactCurrentOwner,tt=!1;function fn(s,l,p,x){l.child=s===null?ta(l,null,p,x):po(l,s.child,p,x)}function cr(s,l,p,x,T){p=p.render;var R=l.ref;return Ds(l,T),x=Kc(s,l,p,x,R,T),p=au(),s!==null&&!tt?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~T,ia(s,l,T)):(wn&&p&&kh(l),l.flags|=1,fn(s,l,x,T),l.child)}function xe(s,l,p,x,T){if(s===null){var R=p.type;return typeof R=="function"&&!z0(R)&&R.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=R,he(s,l,R,x,T)):(s=hm(p.type,null,x,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(R=s.child,(s.lanes&T)===0){var O=R.memoizedProps;if(p=p.compare,p=p!==null?p:Ho,p(O,x)&&s.ref===l.ref)return ia(s,l,T)}return l.flags|=1,s=ll(R,x),s.ref=l.ref,s.return=l,l.child=s}function he(s,l,p,x,T){if(s!==null){var R=s.memoizedProps;if(Ho(R,x)&&s.ref===l.ref)if(tt=!1,l.pendingProps=x=R,(s.lanes&T)!==0)(s.flags&131072)!==0&&(tt=!0);else return l.lanes=s.lanes,ia(s,l,T)}return gt(s,l,p,x,T)}function Me(s,l,p){var x=l.pendingProps,T=x.children,R=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(of,Zr),Zr|=p;else{if((p&1073741824)===0)return s=R!==null?R.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,mn(of,Zr),Zr|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=R!==null?R.baseLanes:p,mn(of,Zr),Zr|=x}else R!==null?(x=R.baseLanes|p,l.memoizedState=null):x=p,mn(of,Zr),Zr|=x;return fn(s,l,T,p),l.child}function Je(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function gt(s,l,p,x,T){var R=Mi(p)?Ls:xi.current;return R=Qo(l,R),Ds(l,T),p=Kc(s,l,p,x,R,T),x=au(),s!==null&&!tt?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~T,ia(s,l,T)):(wn&&x&&kh(l),l.flags|=1,fn(s,l,p,T),l.child)}function zt(s,l,p,x,T){if(Mi(p)){var R=!0;qo(l)}else R=!1;if(Ds(l,T),l.stateNode===null)tm(s,l),Za(l,p,x),Ka(l,p,x,T),x=!0;else if(s===null){var O=l.stateNode,q=l.memoizedProps;O.props=q;var re=O.context,we=p.contextType;typeof we=="object"&&we!==null?we=Fi(we):(we=Mi(p)?Ls:xi.current,we=Qo(l,we));var ze=p.getDerivedStateFromProps,He=typeof ze=="function"||typeof O.getSnapshotBeforeUpdate=="function";He||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==x||re!==we)&&$o(l,O,x,we),Us=!1;var Be=l.memoizedState;O.state=Be,Ln(l,x,O,T),re=l.memoizedState,q!==x||Be!==re||Ui.current||Us?(typeof ze=="function"&&(Bi(l,p,ze,x),re=l.memoizedState),(q=Us||Yn(l,p,q,x,Be,re,we))?(He||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=re),O.props=x,O.state=re,O.context=we,x=q):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,Hp(s,l),q=l.memoizedProps,we=l.type===l.elementType?q:Xr(l.type,q),O.props=we,He=l.pendingProps,Be=O.context,re=p.contextType,typeof re=="object"&&re!==null?re=Fi(re):(re=Mi(p)?Ls:xi.current,re=Qo(l,re));var rt=p.getDerivedStateFromProps;(ze=typeof rt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==He||Be!==re)&&$o(l,O,x,re),Us=!1,Be=l.memoizedState,O.state=Be,Ln(l,x,O,T);var ft=l.memoizedState;q!==He||Be!==ft||Ui.current||Us?(typeof rt=="function"&&(Bi(l,p,rt,x),ft=l.memoizedState),(we=Us||Yn(l,p,we,x,Be,ft,re)||!1)?(ze||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,ft,re),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,ft,re)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||q===s.memoizedProps&&Be===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&Be===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=ft),O.props=x,O.state=ft,O.context=re,x=we):(typeof O.componentDidUpdate!="function"||q===s.memoizedProps&&Be===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&Be===s.memoizedState||(l.flags|=1024),x=!1)}return Lt(s,l,p,x,R,T)}function Lt(s,l,p,x,T,R){Je(s,l);var O=(l.flags&128)!==0;if(!x&&!O)return T&&Dh(l,p,!1),ia(s,l,R);x=l.stateNode,gn.current=l;var q=O&&typeof p.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,s!==null&&O?(l.child=po(l,s.child,null,R),l.child=po(l,null,q,R)):fn(s,l,q,R),l.memoizedState=x.state,T&&Dh(l,p,!0),l.child}function nn(s){var l=s.stateNode;l.pendingContext?Nh(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Nh(s,l.context,!1),Ja(s,l.containerInfo)}function $n(s,l,p,x,T){return fo(),Xa(T),l.flags|=256,fn(s,l,p,x),l.child}var tn={dehydrated:null,treeContext:null,retryLane:0};function ds(s){return{baseLanes:s,cachePool:null,transitions:null}}function $p(s,l,p){var x=l.pendingProps,T=Sn.current,R=!1,O=(l.flags&128)!==0,q;if((q=O)||(q=s!==null&&s.memoizedState===null?!1:(T&2)!==0),q?(R=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(T|=1),mn(Sn,T&1),s===null)return Wc(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=x.children,s=x.fallback,R?(x=l.mode,R=l.child,O={mode:"hidden",children:O},(x&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=O):R=dm(O,x,0,null),s=vu(s,x,p,null),R.return=l,s.return=l,R.sibling=s,l.child=R,l.child.memoizedState=ds(p),l.memoizedState=tn,s):w0(l,O));if(T=s.memoizedState,T!==null&&(q=T.dehydrated,q!==null))return nC(s,l,O,x,q,T,p);if(R){R=x.fallback,O=l.mode,T=s.child,q=T.sibling;var re={mode:"hidden",children:x.children};return(O&1)===0&&l.child!==T?(x=l.child,x.childLanes=0,x.pendingProps=re,l.deletions=null):(x=ll(T,re),x.subtreeFlags=T.subtreeFlags&14680064),q!==null?R=ll(q,R):(R=vu(R,O,p,null),R.flags|=2),R.return=l,x.return=l,x.sibling=R,l.child=x,x=R,R=l.child,O=s.child.memoizedState,O=O===null?ds(p):{baseLanes:O.baseLanes|p,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=s.childLanes&~p,l.memoizedState=tn,x}return R=s.child,s=R.sibling,x=ll(R,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=p),x.return=l,x.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=x,l.memoizedState=null,x}function w0(s,l){return l=dm({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function em(s,l,p,x){return x!==null&&Xa(x),po(l,s.child,null,p),s=w0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function nC(s,l,p,x,T,R,O){if(p)return l.flags&256?(l.flags&=-257,x=I(Error(t(422))),em(s,l,O,x)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(R=x.fallback,T=l.mode,x=dm({mode:"visible",children:x.children},T,0,null),R=vu(R,T,O,null),R.flags|=2,x.return=l,R.return=l,x.sibling=R,l.child=x,(l.mode&1)!==0&&po(l,s.child,null,O),l.child.memoizedState=ds(O),l.memoizedState=tn,R);if((l.mode&1)===0)return em(s,l,O,null);if(T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var q=x.dgst;return x=q,R=Error(t(419)),x=I(R,x,void 0),em(s,l,O,x)}if(q=(O&s.childLanes)!==0,tt||q){if(x=Ti,x!==null){switch(O&-O){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(x.suspendedLanes|O))!==0?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,Qr(s,T),zs(x,s,T,-1))}return B0(),x=I(Error(t(421))),em(s,l,O,x)}return T.data==="$?"?(l.flags|=128,l.child=s.child,l=mC.bind(null,s),T._reactRetry=l,null):(s=R.treeContext,Oi=Cs(T.nextSibling),Ai=l,wn=!0,Er=null,s!==null&&(ki[ui++]=qe,ki[ui++]=Mr,ki[ui++]=Ko,qe=s.id,Mr=s.overflow,Ko=l),l=w0(l,x.children),l.flags|=4096,l)}function VA(s,l,p){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),qa(s.return,l,p)}function M0(s,l,p,x,T){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:T}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=p,R.tailMode=T)}function HA(s,l,p){var x=l.pendingProps,T=x.revealOrder,R=x.tail;if(fn(s,l,x.children,p),x=Sn.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&VA(s,p,l);else if(s.tag===19)VA(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(mn(Sn,x),(l.mode&1)===0)l.memoizedState=null;else switch(T){case"forwards":for(p=l.child,T=null;p!==null;)s=p.alternate,s!==null&&fi(s)===null&&(T=p),p=p.sibling;p=T,p===null?(T=l.child,l.child=null):(T=p.sibling,p.sibling=null),M0(l,!1,T,p,R);break;case"backwards":for(p=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&fi(s)===null){l.child=T;break}s=T.sibling,T.sibling=p,p=T,T=s}M0(l,!0,p,null,R);break;case"together":M0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function tm(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function ia(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),du|=l.lanes,(p&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(t(153));if(l.child!==null){for(s=l.child,p=ll(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=ll(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function iC(s,l,p){switch(l.tag){case 3:nn(l),fo();break;case 5:qc(l);break;case 1:Mi(l.type)&&qo(l);break;case 4:Ja(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,T=l.memoizedProps.value;mn(iu,x._currentValue),x._currentValue=T;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(mn(Sn,Sn.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?$p(s,l,p):(mn(Sn,Sn.current&1),s=ia(s,l,p),s!==null?s.sibling:null);mn(Sn,Sn.current&1);break;case 19:if(x=(p&l.childLanes)!==0,(s.flags&128)!==0){if(x)return HA(s,l,p);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),mn(Sn,Sn.current),x)break;return null;case 22:case 23:return l.lanes=0,Me(s,l,p)}return ia(s,l,p)}var GA,E0,WA,jA;GA=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},E0=function(){},WA=function(s,l,p,x){var T=s.memoizedProps;if(T!==x){s=l.stateNode,qi(br.current);var R=null;switch(p){case"input":T=Ne(s,T),x=Ne(s,x),R=[];break;case"select":T=k({},T,{value:void 0}),x=k({},x,{value:void 0}),R=[];break;case"textarea":T=Y(s,T),x=Y(s,x),R=[];break;default:typeof T.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=Jl)}ie(p,x);var O;p=null;for(we in T)if(!x.hasOwnProperty(we)&&T.hasOwnProperty(we)&&T[we]!=null)if(we==="style"){var q=T[we];for(O in q)q.hasOwnProperty(O)&&(p||(p={}),p[O]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(r.hasOwnProperty(we)?R||(R=[]):(R=R||[]).push(we,null));for(we in x){var re=x[we];if(q=T?.[we],x.hasOwnProperty(we)&&re!==q&&(re!=null||q!=null))if(we==="style")if(q){for(O in q)!q.hasOwnProperty(O)||re&&re.hasOwnProperty(O)||(p||(p={}),p[O]="");for(O in re)re.hasOwnProperty(O)&&q[O]!==re[O]&&(p||(p={}),p[O]=re[O])}else p||(R||(R=[]),R.push(we,p)),p=re;else we==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,q=q?q.__html:void 0,re!=null&&q!==re&&(R=R||[]).push(we,re)):we==="children"?typeof re!="string"&&typeof re!="number"||(R=R||[]).push(we,""+re):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(r.hasOwnProperty(we)?(re!=null&&we==="onScroll"&&An("scroll",s),R||q===re||(R=[])):(R=R||[]).push(we,re))}p&&(R=R||[]).push("style",p);var we=R;(l.updateQueue=we)&&(l.flags|=4)}},jA=function(s,l,p,x){p!==x&&(l.flags|=4)};function jh(s,l){if(!wn)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function Ki(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(l)for(var T=s.child;T!==null;)p|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)p|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=p,l}function rC(s,l,p){var x=l.pendingProps;switch(Ns(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(l),null;case 1:return Mi(l.type)&&$l(),Ki(l),null;case 3:return x=l.stateNode,fs(),_n(Ui),_n(xi),Zi(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(ja(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Er!==null&&(k0(Er),Er=null))),E0(s,l),Ki(l),null;case 5:$a(l);var T=qi(go.current);if(p=l.type,s!==null&&l.stateNode!=null)WA(s,l,p,x,T),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(t(166));return Ki(l),null}if(s=qi(br.current),ja(l)){x=l.stateNode,p=l.type;var R=l.memoizedProps;switch(x[Jn]=l,x[Wa]=R,s=(l.mode&1)!==0,p){case"dialog":An("cancel",x),An("close",x);break;case"iframe":case"object":case"embed":An("load",x);break;case"video":case"audio":for(T=0;T<uo.length;T++)An(uo[T],x);break;case"source":An("error",x);break;case"img":case"image":case"link":An("error",x),An("load",x);break;case"details":An("toggle",x);break;case"input":Ke(x,R),An("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!R.multiple},An("invalid",x);break;case"textarea":H(x,R),An("invalid",x)}ie(p,R),T=null;for(var O in R)if(R.hasOwnProperty(O)){var q=R[O];O==="children"?typeof q=="string"?x.textContent!==q&&(R.suppressHydrationWarning!==!0&&Kl(x.textContent,q,s),T=["children",q]):typeof q=="number"&&x.textContent!==""+q&&(R.suppressHydrationWarning!==!0&&Kl(x.textContent,q,s),T=["children",""+q]):r.hasOwnProperty(O)&&q!=null&&O==="onScroll"&&An("scroll",x)}switch(p){case"input":Oe(x),yt(x,R,!0);break;case"textarea":Oe(x),Fe(x);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(x.onclick=Jl)}x=T,l.updateQueue=x,x!==null&&(l.flags|=4)}else{O=T.nodeType===9?T:T.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ve(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=O.createElement(p,{is:x.is}):(s=O.createElement(p),p==="select"&&(O=s,x.multiple?O.multiple=!0:x.size&&(O.size=x.size))):s=O.createElementNS(s,p),s[Jn]=l,s[Wa]=x,GA(s,l,!1,!1),l.stateNode=s;e:{switch(O=De(p,x),p){case"dialog":An("cancel",s),An("close",s),T=x;break;case"iframe":case"object":case"embed":An("load",s),T=x;break;case"video":case"audio":for(T=0;T<uo.length;T++)An(uo[T],s);T=x;break;case"source":An("error",s),T=x;break;case"img":case"image":case"link":An("error",s),An("load",s),T=x;break;case"details":An("toggle",s),T=x;break;case"input":Ke(s,x),T=Ne(s,x),An("invalid",s);break;case"option":T=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},T=k({},x,{value:void 0}),An("invalid",s);break;case"textarea":H(s,x),T=Y(s,x),An("invalid",s);break;default:T=x}ie(p,T),q=T;for(R in q)if(q.hasOwnProperty(R)){var re=q[R];R==="style"?it(s,re):R==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&nt(s,re)):R==="children"?typeof re=="string"?(p!=="textarea"||re!=="")&&be(s,re):typeof re=="number"&&be(s,""+re):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(r.hasOwnProperty(R)?re!=null&&R==="onScroll"&&An("scroll",s):re!=null&&b(s,R,re,O))}switch(p){case"input":Oe(s),yt(s,x,!1);break;case"textarea":Oe(s),Fe(s);break;case"option":x.value!=null&&s.setAttribute("value",""+Ge(x.value));break;case"select":s.multiple=!!x.multiple,R=x.value,R!=null?Ut(s,!!x.multiple,R,!1):x.defaultValue!=null&&Ut(s,!!x.multiple,x.defaultValue,!0);break;default:typeof T.onClick=="function"&&(s.onclick=Jl)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ki(l),null;case 6:if(s&&l.stateNode!=null)jA(s,l,s.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(t(166));if(p=qi(go.current),qi(br.current),ja(l)){if(x=l.stateNode,p=l.memoizedProps,x[Jn]=l,(R=x.nodeValue!==p)&&(s=Ai,s!==null))switch(s.tag){case 3:Kl(x.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Kl(x.nodeValue,p,(s.mode&1)!==0)}R&&(l.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Jn]=l,l.stateNode=x}return Ki(l),null;case 13:if(_n(Sn),x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wn&&Oi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Bh(),fo(),l.flags|=98560,R=!1;else if(R=ja(l),x!==null&&x.dehydrated!==null){if(s===null){if(!R)throw Error(t(318));if(R=l.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[Jn]=l}else fo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ki(l),R=!1}else Er!==null&&(k0(Er),Er=null),R=!0;if(!R)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Sn.current&1)!==0?_i===0&&(_i=3):B0())),l.updateQueue!==null&&(l.flags|=4),Ki(l),null);case 4:return fs(),E0(s,l),s===null&&Va(l.stateNode.containerInfo),Ki(l),null;case 10:return Qa(l.type._context),Ki(l),null;case 17:return Mi(l.type)&&$l(),Ki(l),null;case 19:if(_n(Sn),R=l.memoizedState,R===null)return Ki(l),null;if(x=(l.flags&128)!==0,O=R.rendering,O===null)if(x)jh(R,!1);else{if(_i!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=fi(s),O!==null){for(l.flags|=128,jh(R,!1),x=O.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=p,p=l.child;p!==null;)R=p,s=x,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=s,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,s=O.dependencies,R.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return mn(Sn,Sn.current&1|2),l.child}s=s.sibling}R.tail!==null&&an()>af&&(l.flags|=128,x=!0,jh(R,!1),l.lanes=4194304)}else{if(!x)if(s=fi(O),s!==null){if(l.flags|=128,x=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),jh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!wn)return Ki(l),null}else 2*an()-R.renderingStartTime>af&&p!==1073741824&&(l.flags|=128,x=!0,jh(R,!1),l.lanes=4194304);R.isBackwards?(O.sibling=l.child,l.child=O):(p=R.last,p!==null?p.sibling=O:l.child=O,R.last=O)}return R.tail!==null?(l=R.tail,R.rendering=l,R.tail=l.sibling,R.renderingStartTime=an(),l.sibling=null,p=Sn.current,mn(Sn,x?p&1|2:p&1),l):(Ki(l),null);case 22:case 23:return F0(),x=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(Zr&1073741824)!==0&&(Ki(l),l.subtreeFlags&6&&(l.flags|=8192)):Ki(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function sC(s,l){switch(Ns(l),l.tag){case 1:return Mi(l.type)&&$l(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return fs(),_n(Ui),_n(xi),Zi(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return $a(l),null;case 13:if(_n(Sn),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(t(340));fo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return _n(Sn),null;case 4:return fs(),null;case 10:return Qa(l.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var nm=!1,Ji=!1,oC=typeof WeakSet=="function"?WeakSet:Set,ut=null;function sf(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Qn(s,l,x)}else p.current=null}function T0(s,l,p){try{p()}catch(x){Qn(s,l,x)}}var XA=!1;function aC(s,l){if(Ga=yr,s=Rn(),si(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var T=x.anchorOffset,R=x.focusNode;x=x.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var O=0,q=-1,re=-1,we=0,ze=0,He=s,Be=null;t:for(;;){for(var rt;He!==p||T!==0&&He.nodeType!==3||(q=O+T),He!==R||x!==0&&He.nodeType!==3||(re=O+x),He.nodeType===3&&(O+=He.nodeValue.length),(rt=He.firstChild)!==null;)Be=He,He=rt;for(;;){if(He===s)break t;if(Be===p&&++we===T&&(q=O),Be===R&&++ze===x&&(re=O),(rt=He.nextSibling)!==null)break;He=Be,Be=He.parentNode}He=rt}p=q===-1||re===-1?null:{start:q,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(bh={focusedElem:s,selectionRange:p},yr=!1,ut=l;ut!==null;)if(l=ut,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ut=s;else for(;ut!==null;){l=ut;try{var ft=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var vt=ft.memoizedProps,ei=ft.memoizedState,pe=l.stateNode,ue=pe.getSnapshotBeforeUpdate(l.elementType===l.type?vt:Xr(l.type,vt),ei);pe.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var ve=l.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Xe){Qn(l,l.return,Xe)}if(s=l.sibling,s!==null){s.return=l.return,ut=s;break}ut=l.return}return ft=XA,XA=!1,ft}function Xh(s,l,p){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&s)===s){var R=T.destroy;T.destroy=void 0,R!==void 0&&T0(l,p,R)}T=T.next}while(T!==x)}}function im(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var x=p.create;p.destroy=x()}p=p.next}while(p!==l)}}function b0(s){var l=s.ref;if(l!==null){var p=s.stateNode;s.tag,s=p,typeof l=="function"?l(s):l.current=s}}function YA(s){var l=s.alternate;l!==null&&(s.alternate=null,YA(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Jn],delete l[Wa],delete l[Yo],delete l[Oc],delete l[Fc])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function QA(s){return s.tag===5||s.tag===3||s.tag===4}function qA(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||QA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C0(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Jl));else if(x!==4&&(s=s.child,s!==null))for(C0(s,l,p),s=s.sibling;s!==null;)C0(s,l,p),s=s.sibling}function P0(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(P0(s,l,p),s=s.sibling;s!==null;)P0(s,l,p),s=s.sibling}var Hi=null,Fs=!1;function il(s,l,p){for(p=p.child;p!==null;)ZA(s,l,p),p=p.sibling}function ZA(s,l,p){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(vi,p)}catch{}switch(p.tag){case 5:Ji||sf(p,l);case 6:var x=Hi,T=Fs;Hi=null,il(s,l,p),Hi=x,Fs=T,Hi!==null&&(Fs?(s=Hi,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Hi.removeChild(p.stateNode));break;case 18:Hi!==null&&(Fs?(s=Hi,p=p.stateNode,s.nodeType===8?kc(s.parentNode,p):s.nodeType===1&&kc(s,p),zl(s)):kc(Hi,p.stateNode));break;case 4:x=Hi,T=Fs,Hi=p.stateNode.containerInfo,Fs=!0,il(s,l,p),Hi=x,Fs=T;break;case 0:case 11:case 14:case 15:if(!Ji&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){T=x=x.next;do{var R=T,O=R.destroy;R=R.tag,O!==void 0&&((R&2)!==0||(R&4)!==0)&&T0(p,l,O),T=T.next}while(T!==x)}il(s,l,p);break;case 1:if(!Ji&&(sf(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(q){Qn(p,l,q)}il(s,l,p);break;case 21:il(s,l,p);break;case 22:p.mode&1?(Ji=(x=Ji)||p.memoizedState!==null,il(s,l,p),Ji=x):il(s,l,p);break;default:il(s,l,p)}}function KA(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new oC),l.forEach(function(x){var T=gC.bind(null,s,x);p.has(x)||(p.add(x),x.then(T,T))})}}function Bs(s,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var T=p[x];try{var R=s,O=l,q=O;e:for(;q!==null;){switch(q.tag){case 5:Hi=q.stateNode,Fs=!1;break e;case 3:Hi=q.stateNode.containerInfo,Fs=!0;break e;case 4:Hi=q.stateNode.containerInfo,Fs=!0;break e}q=q.return}if(Hi===null)throw Error(t(160));ZA(R,O,T),Hi=null,Fs=!1;var re=T.alternate;re!==null&&(re.return=null),T.return=null}catch(we){Qn(T,l,we)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)JA(l,s),l=l.sibling}function JA(s,l){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Bs(l,s),_o(s),x&4){try{Xh(3,s,s.return),im(3,s)}catch(vt){Qn(s,s.return,vt)}try{Xh(5,s,s.return)}catch(vt){Qn(s,s.return,vt)}}break;case 1:Bs(l,s),_o(s),x&512&&p!==null&&sf(p,p.return);break;case 5:if(Bs(l,s),_o(s),x&512&&p!==null&&sf(p,p.return),s.flags&32){var T=s.stateNode;try{be(T,"")}catch(vt){Qn(s,s.return,vt)}}if(x&4&&(T=s.stateNode,T!=null)){var R=s.memoizedProps,O=p!==null?p.memoizedProps:R,q=s.type,re=s.updateQueue;if(s.updateQueue=null,re!==null)try{q==="input"&&R.type==="radio"&&R.name!=null&&Qe(T,R),De(q,O);var we=De(q,R);for(O=0;O<re.length;O+=2){var ze=re[O],He=re[O+1];ze==="style"?it(T,He):ze==="dangerouslySetInnerHTML"?nt(T,He):ze==="children"?be(T,He):b(T,ze,He,we)}switch(q){case"input":lt(T,R);break;case"textarea":_e(T,R);break;case"select":var Be=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!R.multiple;var rt=R.value;rt!=null?Ut(T,!!R.multiple,rt,!1):Be!==!!R.multiple&&(R.defaultValue!=null?Ut(T,!!R.multiple,R.defaultValue,!0):Ut(T,!!R.multiple,R.multiple?[]:"",!1))}T[Wa]=R}catch(vt){Qn(s,s.return,vt)}}break;case 6:if(Bs(l,s),_o(s),x&4){if(s.stateNode===null)throw Error(t(162));T=s.stateNode,R=s.memoizedProps;try{T.nodeValue=R}catch(vt){Qn(s,s.return,vt)}}break;case 3:if(Bs(l,s),_o(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{zl(l.containerInfo)}catch(vt){Qn(s,s.return,vt)}break;case 4:Bs(l,s),_o(s);break;case 13:Bs(l,s),_o(s),T=s.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||(I0=an())),x&4&&KA(s);break;case 22:if(ze=p!==null&&p.memoizedState!==null,s.mode&1?(Ji=(we=Ji)||ze,Bs(l,s),Ji=we):Bs(l,s),_o(s),x&8192){if(we=s.memoizedState!==null,(s.stateNode.isHidden=we)&&!ze&&(s.mode&1)!==0)for(ut=s,ze=s.child;ze!==null;){for(He=ut=ze;ut!==null;){switch(Be=ut,rt=Be.child,Be.tag){case 0:case 11:case 14:case 15:Xh(4,Be,Be.return);break;case 1:sf(Be,Be.return);var ft=Be.stateNode;if(typeof ft.componentWillUnmount=="function"){x=Be,p=Be.return;try{l=x,ft.props=l.memoizedProps,ft.state=l.memoizedState,ft.componentWillUnmount()}catch(vt){Qn(x,p,vt)}}break;case 5:sf(Be,Be.return);break;case 22:if(Be.memoizedState!==null){t_(He);continue}}rt!==null?(rt.return=Be,ut=rt):t_(He)}ze=ze.sibling}e:for(ze=null,He=s;;){if(He.tag===5){if(ze===null){ze=He;try{T=He.stateNode,we?(R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(q=He.stateNode,re=He.memoizedProps.style,O=re!=null&&re.hasOwnProperty("display")?re.display:null,q.style.display=St("display",O))}catch(vt){Qn(s,s.return,vt)}}}else if(He.tag===6){if(ze===null)try{He.stateNode.nodeValue=we?"":He.memoizedProps}catch(vt){Qn(s,s.return,vt)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===s)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===s)break e;for(;He.sibling===null;){if(He.return===null||He.return===s)break e;ze===He&&(ze=null),He=He.return}ze===He&&(ze=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:Bs(l,s),_o(s),x&4&&KA(s);break;case 21:break;default:Bs(l,s),_o(s)}}function _o(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(QA(p)){var x=p;break e}p=p.return}throw Error(t(160))}switch(x.tag){case 5:var T=x.stateNode;x.flags&32&&(be(T,""),x.flags&=-33);var R=qA(s);P0(s,R,T);break;case 3:case 4:var O=x.stateNode.containerInfo,q=qA(s);C0(s,q,O);break;default:throw Error(t(161))}}catch(re){Qn(s,s.return,re)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function lC(s,l,p){ut=s,$A(s)}function $A(s,l,p){for(var x=(s.mode&1)!==0;ut!==null;){var T=ut,R=T.child;if(T.tag===22&&x){var O=T.memoizedState!==null||nm;if(!O){var q=T.alternate,re=q!==null&&q.memoizedState!==null||Ji;q=nm;var we=Ji;if(nm=O,(Ji=re)&&!we)for(ut=T;ut!==null;)O=ut,re=O.child,O.tag===22&&O.memoizedState!==null?n_(T):re!==null?(re.return=O,ut=re):n_(T);for(;R!==null;)ut=R,$A(R),R=R.sibling;ut=T,nm=q,Ji=we}e_(s)}else(T.subtreeFlags&8772)!==0&&R!==null?(R.return=T,ut=R):e_(s)}}function e_(s){for(;ut!==null;){var l=ut;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ji||im(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!Ji)if(p===null)x.componentDidMount();else{var T=l.elementType===l.type?p.memoizedProps:Xr(l.type,p.memoizedProps);x.componentDidUpdate(T,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var R=l.updateQueue;R!==null&&zn(l,R,x);break;case 3:var O=l.updateQueue;if(O!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}zn(l,O,p)}break;case 5:var q=l.stateNode;if(p===null&&l.flags&4){p=q;var re=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&p.focus();break;case"img":re.src&&(p.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var we=l.alternate;if(we!==null){var ze=we.memoizedState;if(ze!==null){var He=ze.dehydrated;He!==null&&zl(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ji||l.flags&512&&b0(l)}catch(Be){Qn(l,l.return,Be)}}if(l===s){ut=null;break}if(p=l.sibling,p!==null){p.return=l.return,ut=p;break}ut=l.return}}function t_(s){for(;ut!==null;){var l=ut;if(l===s){ut=null;break}var p=l.sibling;if(p!==null){p.return=l.return,ut=p;break}ut=l.return}}function n_(s){for(;ut!==null;){var l=ut;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{im(4,l)}catch(re){Qn(l,p,re)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var T=l.return;try{x.componentDidMount()}catch(re){Qn(l,T,re)}}var R=l.return;try{b0(l)}catch(re){Qn(l,R,re)}break;case 5:var O=l.return;try{b0(l)}catch(re){Qn(l,O,re)}}}catch(re){Qn(l,l.return,re)}if(l===s){ut=null;break}var q=l.sibling;if(q!==null){q.return=l.return,ut=q;break}ut=l.return}}var uC=Math.ceil,rm=L.ReactCurrentDispatcher,R0=L.ReactCurrentOwner,ps=L.ReactCurrentBatchConfig,ln=0,Ti=null,di=null,Gi=0,Zr=0,of=Dn(0),_i=0,Yh=null,du=0,sm=0,L0=0,Qh=null,Rr=null,I0=0,af=1/0,ra=null,om=!1,N0=null,rl=null,am=!1,sl=null,lm=0,qh=0,D0=null,um=-1,cm=0;function fr(){return(ln&6)!==0?an():um!==-1?um:um=an()}function ol(s){return(s.mode&1)===0?1:(ln&2)!==0&&Gi!==0?Gi&-Gi:S0.transition!==null?(cm===0&&(cm=vr()),cm):(s=sn,s!==0||(s=window.event,s=s===void 0?16:bp(s.type)),s)}function zs(s,l,p,x){if(50<qh)throw qh=0,D0=null,Error(t(185));kl(s,p,x),((ln&2)===0||s!==Ti)&&(s===Ti&&((ln&2)===0&&(sm|=p),_i===4&&al(s,Gi)),Lr(s,x),p===1&&ln===0&&(l.mode&1)===0&&(af=an()+500,tu&&us()))}function Lr(s,l){var p=s.callbackNode;sc(s,l);var x=Ul(s,s===Ti?Gi:0);if(x===0)p!==null&&on(p),s.callbackNode=null,s.callbackPriority=0;else if(l=x&-x,s.callbackPriority!==l){if(p!=null&&on(p),l===1)s.tag===0?Vp(r_.bind(null,s)):nu(r_.bind(null,s)),_0(function(){(ln&6)===0&&us()}),p=null;else{switch(Ca(x)){case 1:p=Gt;break;case 4:p=to;break;case 16:p=Cn;break;case 536870912:p=rs;break;default:p=Cn}p=h_(p,i_.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function i_(s,l){if(um=-1,cm=0,(ln&6)!==0)throw Error(t(327));var p=s.callbackNode;if(lf()&&s.callbackNode!==p)return null;var x=Ul(s,s===Ti?Gi:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||l)l=fm(s,x);else{l=x;var T=ln;ln|=2;var R=o_();(Ti!==s||Gi!==l)&&(ra=null,af=an()+500,mu(s,l));do try{hC();break}catch(q){s_(s,q)}while(!0);Ya(),rm.current=R,ln=T,di!==null?l=0:(Ti=null,Gi=0,l=_i)}if(l!==0){if(l===2&&(T=oc(s),T!==0&&(x=T,l=U0(s,T))),l===1)throw p=Yh,mu(s,0),al(s,x),Lr(s,an()),p;if(l===6)al(s,x);else{if(T=s.current.alternate,(x&30)===0&&!cC(T)&&(l=fm(s,x),l===2&&(R=oc(s),R!==0&&(x=R,l=U0(s,R))),l===1))throw p=Yh,mu(s,0),al(s,x),Lr(s,an()),p;switch(s.finishedWork=T,s.finishedLanes=x,l){case 0:case 1:throw Error(t(345));case 2:gu(s,Rr,ra);break;case 3:if(al(s,x),(x&130023424)===x&&(l=I0+500-an(),10<l)){if(Ul(s,0)!==0)break;if(T=s.suspendedLanes,(T&x)!==x){fr(),s.pingedLanes|=s.suspendedLanes&T;break}s.timeoutHandle=Ph(gu.bind(null,s,Rr,ra),l);break}gu(s,Rr,ra);break;case 4:if(al(s,x),(x&4194240)===x)break;for(l=s.eventTimes,T=-1;0<x;){var O=31-xn(x);R=1<<O,O=l[O],O>T&&(T=O),x&=~R}if(x=T,x=an()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*uC(x/1960))-x,10<x){s.timeoutHandle=Ph(gu.bind(null,s,Rr,ra),x);break}gu(s,Rr,ra);break;case 5:gu(s,Rr,ra);break;default:throw Error(t(329))}}}return Lr(s,an()),s.callbackNode===p?i_.bind(null,s):null}function U0(s,l){var p=Qh;return s.current.memoizedState.isDehydrated&&(mu(s,l).flags|=256),s=fm(s,l),s!==2&&(l=Rr,Rr=p,l!==null&&k0(l)),s}function k0(s){Rr===null?Rr=s:Rr.push.apply(Rr,s)}function cC(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var T=p[x],R=T.getSnapshot;T=T.value;try{if(!sr(R(),T))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function al(s,l){for(l&=~L0,l&=~sm,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-xn(l),x=1<<p;s[p]=-1,l&=~x}}function r_(s){if((ln&6)!==0)throw Error(t(327));lf();var l=Ul(s,0);if((l&1)===0)return Lr(s,an()),null;var p=fm(s,l);if(s.tag!==0&&p===2){var x=oc(s);x!==0&&(l=x,p=U0(s,x))}if(p===1)throw p=Yh,mu(s,0),al(s,l),Lr(s,an()),p;if(p===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,gu(s,Rr,ra),Lr(s,an()),null}function O0(s,l){var p=ln;ln|=1;try{return s(l)}finally{ln=p,ln===0&&(af=an()+500,tu&&us())}}function pu(s){sl!==null&&sl.tag===0&&(ln&6)===0&&lf();var l=ln;ln|=1;var p=ps.transition,x=sn;try{if(ps.transition=null,sn=1,s)return s()}finally{sn=x,ps.transition=p,ln=l,(ln&6)===0&&us()}}function F0(){Zr=of.current,_n(of)}function mu(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,Rh(p)),di!==null)for(p=di.return;p!==null;){var x=p;switch(Ns(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&$l();break;case 3:fs(),_n(Ui),_n(xi),Zi();break;case 5:$a(x);break;case 4:fs();break;case 13:_n(Sn);break;case 19:_n(Sn);break;case 10:Qa(x.type._context);break;case 22:case 23:F0()}p=p.return}if(Ti=s,di=s=ll(s.current,null),Gi=Zr=l,_i=0,Yh=null,L0=sm=du=0,Rr=Qh=null,Yr!==null){for(l=0;l<Yr.length;l++)if(p=Yr[l],x=p.interleaved,x!==null){p.interleaved=null;var T=x.next,R=p.pending;if(R!==null){var O=R.next;R.next=T,x.next=O}p.pending=x}Yr=null}return s}function s_(s,l){do{var p=di;try{if(Ya(),na.current=c,qr){for(var x=Mn.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}qr=!1}if(vo=0,hi=Vn=Mn=null,el=!1,tl=0,R0.current=null,p===null||p.return===null){_i=1,Yh=l,di=null;break}e:{var R=s,O=p.return,q=p,re=l;if(l=Gi,q.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var we=re,ze=q,He=ze.tag;if((ze.mode&1)===0&&(He===0||He===11||He===15)){var Be=ze.alternate;Be?(ze.updateQueue=Be.updateQueue,ze.memoizedState=Be.memoizedState,ze.lanes=Be.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var rt=Dt(O);if(rt!==null){rt.flags&=-257,Mt(rt,O,q,R,l),rt.mode&1&&ot(R,we,l),l=rt,re=we;var ft=l.updateQueue;if(ft===null){var vt=new Set;vt.add(re),l.updateQueue=vt}else ft.add(re);break e}else{if((l&1)===0){ot(R,we,l),B0();break e}re=Error(t(426))}}else if(wn&&q.mode&1){var ei=Dt(O);if(ei!==null){(ei.flags&65536)===0&&(ei.flags|=256),Mt(ei,O,q,R,l),Xa(P(re,q));break e}}R=re=P(re,q),_i!==4&&(_i=2),Qh===null?Qh=[R]:Qh.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,l&=-l,R.lanes|=l;var pe=Te(R,re,l);Wt(R,pe);break e;case 1:q=re;var ue=R.type,ve=R.stateNode;if((R.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(rl===null||!rl.has(ve)))){R.flags|=65536,l&=-l,R.lanes|=l;var Xe=We(R,q,l);Wt(R,Xe);break e}}R=R.return}while(R!==null)}l_(p)}catch(xt){l=xt,di===p&&p!==null&&(di=p=p.return);continue}break}while(!0)}function o_(){var s=rm.current;return rm.current=c,s===null?c:s}function B0(){(_i===0||_i===3||_i===2)&&(_i=4),Ti===null||(du&268435455)===0&&(sm&268435455)===0||al(Ti,Gi)}function fm(s,l){var p=ln;ln|=2;var x=o_();(Ti!==s||Gi!==l)&&(ra=null,mu(s,l));do try{fC();break}catch(T){s_(s,T)}while(!0);if(Ya(),ln=p,rm.current=x,di!==null)throw Error(t(261));return Ti=null,Gi=0,_i}function fC(){for(;di!==null;)a_(di)}function hC(){for(;di!==null&&!gi();)a_(di)}function a_(s){var l=f_(s.alternate,s,Zr);s.memoizedProps=s.pendingProps,l===null?l_(s):di=l,R0.current=null}function l_(s){var l=s;do{var p=l.alternate;if(s=l.return,(l.flags&32768)===0){if(p=rC(p,l,Zr),p!==null){di=p;return}}else{if(p=sC(p,l),p!==null){p.flags&=32767,di=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{_i=6,di=null;return}}if(l=l.sibling,l!==null){di=l;return}di=l=s}while(l!==null);_i===0&&(_i=5)}function gu(s,l,p){var x=sn,T=ps.transition;try{ps.transition=null,sn=1,dC(s,l,p,x)}finally{ps.transition=T,sn=x}return null}function dC(s,l,p,x){do lf();while(sl!==null);if((ln&6)!==0)throw Error(t(327));p=s.finishedWork;var T=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var R=p.lanes|p.childLanes;if(v0(s,R),s===Ti&&(di=Ti=null,Gi=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||am||(am=!0,h_(Cn,function(){return lf(),null})),R=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||R){R=ps.transition,ps.transition=null;var O=sn;sn=1;var q=ln;ln|=4,R0.current=null,aC(s,p),JA(p,s),oi(bh),yr=!!Ga,bh=Ga=null,s.current=p,lC(p),ir(),ln=q,sn=O,ps.transition=R}else s.current=p;if(am&&(am=!1,sl=s,lm=T),R=s.pendingLanes,R===0&&(rl=null),Ot(p.stateNode),Lr(s,an()),l!==null)for(x=s.onRecoverableError,p=0;p<l.length;p++)T=l[p],x(T.value,{componentStack:T.stack,digest:T.digest});if(om)throw om=!1,s=N0,N0=null,s;return(lm&1)!==0&&s.tag!==0&&lf(),R=s.pendingLanes,(R&1)!==0?s===D0?qh++:(qh=0,D0=s):qh=0,us(),null}function lf(){if(sl!==null){var s=Ca(lm),l=ps.transition,p=sn;try{if(ps.transition=null,sn=16>s?16:s,sl===null)var x=!1;else{if(s=sl,sl=null,lm=0,(ln&6)!==0)throw Error(t(331));var T=ln;for(ln|=4,ut=s.current;ut!==null;){var R=ut,O=R.child;if((ut.flags&16)!==0){var q=R.deletions;if(q!==null){for(var re=0;re<q.length;re++){var we=q[re];for(ut=we;ut!==null;){var ze=ut;switch(ze.tag){case 0:case 11:case 15:Xh(8,ze,R)}var He=ze.child;if(He!==null)He.return=ze,ut=He;else for(;ut!==null;){ze=ut;var Be=ze.sibling,rt=ze.return;if(YA(ze),ze===we){ut=null;break}if(Be!==null){Be.return=rt,ut=Be;break}ut=rt}}}var ft=R.alternate;if(ft!==null){var vt=ft.child;if(vt!==null){ft.child=null;do{var ei=vt.sibling;vt.sibling=null,vt=ei}while(vt!==null)}}ut=R}}if((R.subtreeFlags&2064)!==0&&O!==null)O.return=R,ut=O;else e:for(;ut!==null;){if(R=ut,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Xh(9,R,R.return)}var pe=R.sibling;if(pe!==null){pe.return=R.return,ut=pe;break e}ut=R.return}}var ue=s.current;for(ut=ue;ut!==null;){O=ut;var ve=O.child;if((O.subtreeFlags&2064)!==0&&ve!==null)ve.return=O,ut=ve;else e:for(O=ue;ut!==null;){if(q=ut,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:im(9,q)}}catch(xt){Qn(q,q.return,xt)}if(q===O){ut=null;break e}var Xe=q.sibling;if(Xe!==null){Xe.return=q.return,ut=Xe;break e}ut=q.return}}if(ln=T,us(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(vi,s)}catch{}x=!0}return x}finally{sn=p,ps.transition=l}}return!1}function u_(s,l,p){l=P(p,l),l=Te(s,l,1),s=cs(s,l,1),l=fr(),s!==null&&(kl(s,1,l),Lr(s,l))}function Qn(s,l,p){if(s.tag===3)u_(s,s,p);else for(;l!==null;){if(l.tag===3){u_(l,s,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(rl===null||!rl.has(x))){s=P(p,s),s=We(l,s,1),l=cs(l,s,1),s=fr(),l!==null&&(kl(l,1,s),Lr(l,s));break}}l=l.return}}function pC(s,l,p){var x=s.pingCache;x!==null&&x.delete(l),l=fr(),s.pingedLanes|=s.suspendedLanes&p,Ti===s&&(Gi&p)===p&&(_i===4||_i===3&&(Gi&130023424)===Gi&&500>an()-I0?mu(s,0):L0|=p),Lr(s,l)}function c_(s,l){l===0&&((s.mode&1)===0?l=1:(l=Xn,Xn<<=1,(Xn&130023424)===0&&(Xn=4194304)));var p=fr();s=Qr(s,l),s!==null&&(kl(s,l,p),Lr(s,p))}function mC(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),c_(s,p)}function gC(s,l){var p=0;switch(s.tag){case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(p=T.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(t(314))}x!==null&&x.delete(l),c_(s,p)}var f_;f_=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||Ui.current)tt=!0;else{if((s.lanes&p)===0&&(l.flags&128)===0)return tt=!1,iC(s,l,p);tt=(s.flags&131072)!==0}else tt=!1,wn&&(l.flags&1048576)!==0&&Uh(l,Hc,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;tm(s,l),s=l.pendingProps;var T=Qo(l,xi.current);Ds(l,p),T=Kc(null,l,x,s,T,p);var R=au();return l.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Mi(x)?(R=!0,qo(l)):R=!1,l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,ou(l),T.updater=ks,l.stateNode=T,T._reactInternals=l,Ka(l,x,s,p),l=Lt(null,l,x,!0,R,p)):(l.tag=0,wn&&R&&kh(l),fn(null,l,T,p),l=l.child),l;case 16:x=l.elementType;e:{switch(tm(s,l),s=l.pendingProps,T=x._init,x=T(x._payload),l.type=x,T=l.tag=yC(x),s=Xr(x,s),T){case 0:l=gt(null,l,x,s,p);break e;case 1:l=zt(null,l,x,s,p);break e;case 11:l=cr(null,l,x,s,p);break e;case 14:l=xe(null,l,x,Xr(x.type,s),p);break e}throw Error(t(306,x,""))}return l;case 0:return x=l.type,T=l.pendingProps,T=l.elementType===x?T:Xr(x,T),gt(s,l,x,T,p);case 1:return x=l.type,T=l.pendingProps,T=l.elementType===x?T:Xr(x,T),zt(s,l,x,T,p);case 3:e:{if(nn(l),s===null)throw Error(t(387));x=l.pendingProps,R=l.memoizedState,T=R.element,Hp(s,l),Ln(l,x,null,p);var O=l.memoizedState;if(x=O.element,R.isDehydrated)if(R={element:x,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=R,l.memoizedState=R,l.flags&256){T=P(Error(t(423)),l),l=$n(s,l,x,p,T);break e}else if(x!==T){T=P(Error(t(424)),l),l=$n(s,l,x,p,T);break e}else for(Oi=Cs(l.stateNode.containerInfo.firstChild),Ai=l,wn=!0,Er=null,p=ta(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(fo(),x===T){l=ia(s,l,p);break e}fn(s,l,x,p)}l=l.child}return l;case 5:return qc(l),s===null&&Wc(l),x=l.type,T=l.pendingProps,R=s!==null?s.memoizedProps:null,O=T.children,Ch(x,T)?O=null:R!==null&&Ch(x,R)&&(l.flags|=32),Je(s,l),fn(s,l,O,p),l.child;case 6:return s===null&&Wc(l),null;case 13:return $p(s,l,p);case 4:return Ja(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=po(l,null,x,p):fn(s,l,x,p),l.child;case 11:return x=l.type,T=l.pendingProps,T=l.elementType===x?T:Xr(x,T),cr(s,l,x,T,p);case 7:return fn(s,l,l.pendingProps,p),l.child;case 8:return fn(s,l,l.pendingProps.children,p),l.child;case 12:return fn(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(x=l.type._context,T=l.pendingProps,R=l.memoizedProps,O=T.value,mn(iu,x._currentValue),x._currentValue=O,R!==null)if(sr(R.value,O)){if(R.children===T.children&&!Ui.current){l=ia(s,l,p);break e}}else for(R=l.child,R!==null&&(R.return=l);R!==null;){var q=R.dependencies;if(q!==null){O=R.child;for(var re=q.firstContext;re!==null;){if(re.context===x){if(R.tag===1){re=Tr(-1,p&-p),re.tag=2;var we=R.updateQueue;if(we!==null){we=we.shared;var ze=we.pending;ze===null?re.next=re:(re.next=ze.next,ze.next=re),we.pending=re}}R.lanes|=p,re=R.alternate,re!==null&&(re.lanes|=p),qa(R.return,p,l),q.lanes|=p;break}re=re.next}}else if(R.tag===10)O=R.type===l.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(t(341));O.lanes|=p,q=O.alternate,q!==null&&(q.lanes|=p),qa(O,p,l),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===l){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}fn(s,l,T.children,p),l=l.child}return l;case 9:return T=l.type,x=l.pendingProps.children,Ds(l,p),T=Fi(T),x=x(T),l.flags|=1,fn(s,l,x,p),l.child;case 14:return x=l.type,T=Xr(x,l.pendingProps),T=Xr(x.type,T),xe(s,l,x,T,p);case 15:return he(s,l,l.type,l.pendingProps,p);case 17:return x=l.type,T=l.pendingProps,T=l.elementType===x?T:Xr(x,T),tm(s,l),l.tag=1,Mi(x)?(s=!0,qo(l)):s=!1,Ds(l,p),Za(l,x,T),Ka(l,x,T,p),Lt(null,l,x,!0,s,p);case 19:return HA(s,l,p);case 22:return Me(s,l,p)}throw Error(t(156,l.tag))};function h_(s,l){return jt(s,l)}function vC(s,l,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(s,l,p,x){return new vC(s,l,p,x)}function z0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yC(s){if(typeof s=="function")return z0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===oe)return 11;if(s===le)return 14}return 2}function ll(s,l){var p=s.alternate;return p===null?(p=ms(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function hm(s,l,p,x,T,R){var O=2;if(x=s,typeof s=="function")z0(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case z:return vu(p.children,T,R,l);case V:O=8,T|=8;break;case N:return s=ms(12,p,l,T|2),s.elementType=N,s.lanes=R,s;case te:return s=ms(13,p,l,T),s.elementType=te,s.lanes=R,s;case se:return s=ms(19,p,l,T),s.elementType=se,s.lanes=R,s;case de:return dm(p,T,R,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:O=10;break e;case K:O=9;break e;case oe:O=11;break e;case le:O=14;break e;case ge:O=16,x=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return l=ms(O,p,l,T),l.elementType=s,l.type=x,l.lanes=R,l}function vu(s,l,p,x){return s=ms(7,s,x,l),s.lanes=p,s}function dm(s,l,p,x){return s=ms(22,s,x,l),s.elementType=de,s.lanes=p,s.stateNode={isHidden:!1},s}function V0(s,l,p){return s=ms(6,s,null,l),s.lanes=p,s}function H0(s,l,p){return l=ms(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function xC(s,l,p,x,T){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=x,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function G0(s,l,p,x,T,R,O,q,re){return s=new xC(s,l,p,q,re),l===1?(l=1,R===!0&&(l|=8)):l=0,R=ms(3,null,null,l),s.current=R,R.stateNode=s,R.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(R),s}function AC(s,l,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:x==null?null:""+x,children:s,containerInfo:l,implementation:p}}function d_(s){if(!s)return Rs;s=s._reactInternals;e:{if(mt(s)!==s||s.tag!==1)throw Error(t(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(s.tag===1){var p=s.type;if(Mi(p))return eu(s,p,l)}return l}function p_(s,l,p,x,T,R,O,q,re){return s=G0(p,x,!0,s,T,R,O,q,re),s.context=d_(null),p=s.current,x=fr(),T=ol(p),R=Tr(x,T),R.callback=l??null,cs(p,R,T),s.current.lanes=T,kl(s,T,x),Lr(s,x),s}function pm(s,l,p,x){var T=l.current,R=fr(),O=ol(T);return p=d_(p),l.context===null?l.context=p:l.pendingContext=p,l=Tr(R,O),l.payload={element:s},x=x===void 0?null:x,x!==null&&(l.callback=x),s=cs(T,l,O),s!==null&&(zs(s,T,O,R),bn(s,T,O)),O}function mm(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function m_(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function W0(s,l){m_(s,l),(s=s.alternate)&&m_(s,l)}function _C(){return null}var g_=typeof reportError=="function"?reportError:function(s){console.error(s)};function j0(s){this._internalRoot=s}gm.prototype.render=j0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(t(409));pm(s,l,null,null)},gm.prototype.unmount=j0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;pu(function(){pm(null,s,null,null)}),l[ar]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var l=ac();s={blockedOn:null,target:s,priority:l};for(var p=0;p<io.length&&l!==0&&l<io[p].priority;p++);io.splice(p,0,s),p===0&&cc(s)}};function X0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function v_(){}function SC(s,l,p,x,T){if(T){if(typeof x=="function"){var R=x;x=function(){var we=mm(O);R.call(we)}}var O=p_(l,x,s,0,null,!1,!1,"",v_);return s._reactRootContainer=O,s[ar]=O.current,Va(s.nodeType===8?s.parentNode:s),pu(),O}for(;T=s.lastChild;)s.removeChild(T);if(typeof x=="function"){var q=x;x=function(){var we=mm(re);q.call(we)}}var re=G0(s,0,!1,null,null,!1,!1,"",v_);return s._reactRootContainer=re,s[ar]=re.current,Va(s.nodeType===8?s.parentNode:s),pu(function(){pm(l,re,p,x)}),re}function ym(s,l,p,x,T){var R=p._reactRootContainer;if(R){var O=R;if(typeof T=="function"){var q=T;T=function(){var re=mm(O);q.call(re)}}pm(l,O,s,T)}else O=SC(p,l,s,T,x);return mm(O)}Ol=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=no(l.pendingLanes);p!==0&&(ba(l,p|1),Lr(l,an()),(ln&6)===0&&(af=an()+500,us()))}break;case 13:pu(function(){var x=Qr(s,1);if(x!==null){var T=fr();zs(x,s,1,T)}}),W0(s,1)}},ch=function(s){if(s.tag===13){var l=Qr(s,134217728);if(l!==null){var p=fr();zs(l,s,134217728,p)}W0(s,134217728)}},Tp=function(s){if(s.tag===13){var l=ol(s),p=Qr(s,l);if(p!==null){var x=fr();zs(p,s,l,x)}W0(s,l)}},ac=function(){return sn},lc=function(s,l){var p=sn;try{return sn=s,l()}finally{sn=p}},Se=function(s,l,p){switch(l){case"input":if(lt(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==s&&x.form===s.form){var T=Bc(x);if(!T)throw Error(t(90));Re(x),lt(x,T)}}}break;case"textarea":_e(s,p);break;case"select":l=p.value,l!=null&&Ut(s,!!p.multiple,l,!1)}},dn=O0,ri=pu;var wC={usingClientEntryPoint:!1,Events:[Ps,Bn,Bc,en,Bt,O0]},Zh={findFiberByHostInstance:co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MC={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Vt(s),s===null?null:s.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||_C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{vi=xm.inject(MC),qt=xm}catch{}}return Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC,Ir.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(l))throw Error(t(200));return AC(s,l,null,p)},Ir.createRoot=function(s,l){if(!X0(s))throw Error(t(299));var p=!1,x="",T=g_;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=G0(s,1,!1,null,null,p,!1,x,T),s[ar]=l.current,Va(s.nodeType===8?s.parentNode:s),new j0(l)},Ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Vt(l),s=s===null?null:s.stateNode,s},Ir.flushSync=function(s){return pu(s)},Ir.hydrate=function(s,l,p){if(!vm(l))throw Error(t(200));return ym(null,s,l,!0,p)},Ir.hydrateRoot=function(s,l,p){if(!X0(s))throw Error(t(405));var x=p!=null&&p.hydratedSources||null,T=!1,R="",O=g_;if(p!=null&&(p.unstable_strictMode===!0&&(T=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onRecoverableError!==void 0&&(O=p.onRecoverableError)),l=p_(l,null,s,1,p??null,T,!1,R,O),s[ar]=l.current,Va(s),x)for(s=0;s<x.length;s++)p=x[s],T=p._getVersion,T=T(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,T]:l.mutableSourceEagerHydrationData.push(p,T);return new gm(l)},Ir.render=function(s,l,p){if(!vm(l))throw Error(t(200));return ym(null,s,l,!1,p)},Ir.unmountComponentAtNode=function(s){if(!vm(s))throw Error(t(40));return s._reactRootContainer?(pu(function(){ym(null,null,s,!1,function(){s._reactRootContainer=null,s[ar]=null})}),!0):!1},Ir.unstable_batchedUpdates=O0,Ir.unstable_renderSubtreeIntoContainer=function(s,l,p,x){if(!vm(p))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ym(s,l,p,!1,x)},Ir.version="18.2.0-next-9e3b772b8-20220608",Ir}var E_;function $w(){if(E_)return q0.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),q0.exports=DC(),q0.exports}var T_;function UC(){if(T_)return Am;T_=1;var i=$w();return Am.createRoot=i.createRoot,Am.hydrateRoot=i.hydrateRoot,Am}var eM=UC();const kC=Vg(eM);$w();function Ld(){return Ld=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Ld.apply(this,arguments)}var Du;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Du||(Du={}));const b_="popstate";function OC(i){i===void 0&&(i={});function e(n,r){let{pathname:o,search:a,hash:u}=n.location;return py("",{pathname:o,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Mg(r)}return zC(e,t,null,i)}function Ys(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function FC(i,e){{typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BC(){return Math.random().toString(36).substr(2,8)}function C_(i,e){return{usr:i.state,key:i.key,idx:e}}function py(i,e,t,n){return t===void 0&&(t=null),Ld({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Hg(e):e,{state:t,key:e&&e.key||n||BC()})}function Mg(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hg(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function zC(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:o=!1}=n,a=r.history,u=Du.Pop,h=null,d=m();d==null&&(d=0,a.replaceState(Ld({},a.state,{idx:d}),""));function m(){return(a.state||{idx:null}).idx}function g(){u=Du.Pop;let M=m(),_=M==null?null:M-d;d=M,h&&h({action:u,location:E.location,delta:_})}function v(M,_){u=Du.Push;let C=py(E.location,M,_);d=m()+1;let b=C_(C,d),L=E.createHref(C);try{a.pushState(b,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(L)}o&&h&&h({action:u,location:E.location,delta:1})}function A(M,_){u=Du.Replace;let C=py(E.location,M,_);d=m();let b=C_(C,d),L=E.createHref(C);a.replaceState(b,"",L),o&&h&&h({action:u,location:E.location,delta:0})}function S(M){let _=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof M=="string"?M:Mg(M);return C=C.replace(/ $/,"%20"),Ys(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let E={get action(){return u},get location(){return i(r,a)},listen(M){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(b_,g),h=M,()=>{r.removeEventListener(b_,g),h=null}},createHref(M){return e(r,M)},createURL:S,encodeLocation(M){let _=S(M);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:A,go(M){return a.go(M)}};return E}var P_;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(P_||(P_={}));function tM(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}const VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HC=i=>VC.test(i);function GC(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?Hg(i):i,o;if(t)if(HC(t))o=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),FC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?o=R_(t.substring(1),"/"):o=R_(t,e)}else o=e;return{pathname:o,search:jC(n),hash:XC(r)}}function R_(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function J0(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nM(i,e){let t=WC(i);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function iM(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=Hg(i):(r=Ld({},i),Ys(!r.pathname||!r.pathname.includes("?"),J0("?","pathname","search",r)),Ys(!r.pathname||!r.pathname.includes("#"),J0("#","pathname","hash",r)),Ys(!r.search||!r.search.includes("#"),J0("#","search","hash",r)));let o=i===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?e[g]:"/"}let h=GC(r,u),d=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}const rM=i=>i.join("/").replace(/\/\/+/g,"/"),jC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,XC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,sM=["post","put","patch","delete"];new Set(sM);const YC=["get",...sM];new Set(YC);function Eg(){return Eg=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Eg.apply(this,arguments)}const oM=J.createContext(null),eh=J.createContext(null),Mx=J.createContext(null),Gg=J.createContext({outlet:null,matches:[],isDataRoute:!1});function QC(i,e){let{relative:t}=e===void 0?{}:e;Wg()||Ys(!1);let{basename:n,navigator:r}=J.useContext(eh),{hash:o,pathname:a,search:u}=lM(i,{relative:t}),h=a;return n!=="/"&&(h=a==="/"?n:rM([n,a])),r.createHref({pathname:h,search:u,hash:o})}function Wg(){return J.useContext(Mx)!=null}function Ex(){return Wg()||Ys(!1),J.useContext(Mx).location}function aM(i){J.useContext(eh).static||J.useLayoutEffect(i)}function qC(){let{isDataRoute:i}=J.useContext(Gg);return i?e2():ZC()}function ZC(){Wg()||Ys(!1);let i=J.useContext(oM),{basename:e,future:t,navigator:n}=J.useContext(eh),{matches:r}=J.useContext(Gg),{pathname:o}=Ex(),a=JSON.stringify(nM(r,t.v7_relativeSplatPath)),u=J.useRef(!1);return aM(()=>{u.current=!0}),J.useCallback(function(d,m){if(m===void 0&&(m={}),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=iM(d,JSON.parse(a),o,m.relative==="path");i==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:rM([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,a,o,i])}function lM(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=J.useContext(eh),{matches:r}=J.useContext(Gg),{pathname:o}=Ex(),a=JSON.stringify(nM(r,n.v7_relativeSplatPath));return J.useMemo(()=>iM(i,JSON.parse(a),o,t==="path"),[i,a,o,t])}var uM=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(uM||{}),cM=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(cM||{});function KC(i){let e=J.useContext(oM);return e||Ys(!1),e}function JC(i){let e=J.useContext(Gg);return e||Ys(!1),e}function $C(i){let e=JC(),t=e.matches[e.matches.length-1];return t.route.id||Ys(!1),t.route.id}function e2(){let{router:i}=KC(uM.UseNavigateStable),e=$C(cM.UseNavigateStable),t=J.useRef(!1);return aM(()=>{t.current=!0}),J.useCallback(function(r,o){o===void 0&&(o={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,Eg({fromRouteId:e},o)))},[i,e])}function t2(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function n2(i){let{basename:e="/",children:t=null,location:n,navigationType:r=Du.Pop,navigator:o,static:a=!1,future:u}=i;Wg()&&Ys(!1);let h=e.replace(/^\/*/,"/"),d=J.useMemo(()=>({basename:h,navigator:o,static:a,future:Eg({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof n=="string"&&(n=Hg(n));let{pathname:m="/",search:g="",hash:v="",state:A=null,key:S="default"}=n,E=J.useMemo(()=>{let M=tM(m,h);return M==null?null:{location:{pathname:M,search:g,hash:v,state:A,key:S},navigationType:r}},[h,m,g,v,A,S,r]);return E==null?null:J.createElement(eh.Provider,{value:d},J.createElement(Mx.Provider,{children:t,value:E}))}new Promise(()=>{});function my(){return my=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},my.apply(this,arguments)}function i2(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function r2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function s2(i,e){return i.button===0&&(!e||e==="_self")&&!r2(i)}const o2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a2="6";try{window.__reactRouterVersion=a2}catch{}const l2="startTransition",L_=LC[l2];function u2(i){let{basename:e,children:t,future:n,window:r}=i,o=J.useRef();o.current==null&&(o.current=OC({window:r,v5Compat:!0}));let a=o.current,[u,h]=J.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},m=J.useCallback(g=>{d&&L_?L_(()=>h(g)):h(g)},[h,d]);return J.useLayoutEffect(()=>a.listen(m),[a,m]),J.useEffect(()=>t2(n),[n]),J.createElement(n2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a,future:n})}const c2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h2=J.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:o,replace:a,state:u,target:h,to:d,preventScrollReset:m,viewTransition:g}=e,v=i2(e,o2),{basename:A}=J.useContext(eh),S,E=!1;if(typeof d=="string"&&f2.test(d)&&(S=d,c2))try{let b=new URL(window.location.href),L=d.startsWith("//")?new URL(b.protocol+d):new URL(d),D=tM(L.pathname,A);L.origin===b.origin&&D!=null?d=D+L.search+L.hash:E=!0}catch{}let M=QC(d,{relative:r}),_=d2(d,{replace:a,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:g});function C(b){n&&n(b),b.defaultPrevented||_(b)}return J.createElement("a",my({},v,{href:S||M,onClick:E||o?n:C,ref:t,target:h}))});var I_;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(I_||(I_={}));var N_;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(N_||(N_={}));function d2(i,e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,h=qC(),d=Ex(),m=lM(i,{relative:a});return J.useCallback(g=>{if(s2(g,t)){g.preventDefault();let v=n!==void 0?n:Mg(d)===Mg(m);h(i,{replace:v,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[d,h,m,n,r,t,i,o,a,u])}const jg="152",bu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fM=0,gy=1,hM=2,p2=3,dM=0,Xg=1,xd=2,Ws=3,Aa=0,mr=1,Xs=2,m2=2,va=0,zu=1,vy=2,yy=3,xy=4,pM=5,Iu=100,mM=101,gM=102,Ay=103,_y=104,vM=200,yM=201,xM=202,AM=203,Tx=204,bx=205,_M=206,SM=207,wM=208,MM=209,EM=210,TM=0,bM=1,CM=2,Tg=3,PM=4,RM=5,LM=6,IM=7,ep=0,NM=1,DM=2,Qs=0,UM=1,kM=2,OM=3,Cx=4,FM=5,Yg=300,Ml=301,El=302,Id=303,Nd=304,th=306,Dd=1e3,tr=1001,Ud=1002,ni=1003,bg=1004,g2=1004,Ad=1005,v2=1005,ii=1006,Px=1007,y2=1007,Tl=1008,x2=1008,_a=1009,BM=1010,zM=1011,Rx=1012,VM=1013,xl=1014,ma=1015,Yf=1016,HM=1017,GM=1018,Vu=1020,WM=1021,Ur=1023,jM=1024,XM=1025,Al=1026,Xu=1027,YM=1028,QM=1029,qM=1030,ZM=1031,KM=1033,mg=33776,gg=33777,vg=33778,yg=33779,Sy=35840,wy=35841,My=35842,Ey=35843,JM=36196,Ty=37492,by=37496,Cy=37808,Py=37809,Ry=37810,Ly=37811,Iy=37812,Ny=37813,Dy=37814,Uy=37815,ky=37816,Oy=37817,Fy=37818,By=37819,zy=37820,Vy=37821,xg=36492,$M=36283,Hy=36284,Gy=36285,Wy=36286,eE=2200,tE=2201,nE=2202,kd=2300,Od=2301,Ag=2302,Uu=2400,ku=2401,Fd=2402,Qg=2500,Lx=2501,A2=0,_2=1,S2=2,Ix=3e3,_l=3001,iE=3200,rE=3201,Rl=0,sE=1,Sl="",Yt="srgb",qs="srgb-linear",Nx="display-p3",w2=0,_g=7680,M2=7681,E2=7682,T2=7683,b2=34055,C2=34056,P2=5386,R2=512,L2=513,I2=514,N2=515,D2=516,U2=517,k2=518,oE=519,Bd=35044,O2=35048,F2=35040,B2=35045,z2=35049,V2=35041,H2=35046,G2=35050,W2=35042,j2="100",jy="300 es",Cg=1035;let Ma=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}};const $i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let D_=1234567;const Hu=Math.PI/180,Qf=180/Math.PI;function ts(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return($i[i&255]+$i[i>>8&255]+$i[i>>16&255]+$i[i>>24&255]+"-"+$i[e&255]+$i[e>>8&255]+"-"+$i[e>>16&15|64]+$i[e>>24&255]+"-"+$i[t&63|128]+$i[t>>8&255]+"-"+$i[t>>16&255]+$i[t>>24&255]+$i[n&255]+$i[n>>8&255]+$i[n>>16&255]+$i[n>>24&255]).toLowerCase()}function Zn(i,e,t){return Math.max(e,Math.min(t,i))}function Dx(i,e){return(i%e+e)%e}function X2(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function Y2(i,e,t){return i!==e?(t-i)/(e-i):0}function _d(i,e,t){return(1-t)*i+t*e}function Q2(i,e,t,n){return _d(i,e,1-Math.exp(-t*n))}function q2(i,e=1){return e-Math.abs(Dx(i,e*2)-e)}function Z2(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function K2(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function J2(i,e){return i+Math.floor(Math.random()*(e-i+1))}function $2(i,e){return i+Math.random()*(e-i)}function eP(i){return i*(.5-Math.random())}function tP(i){i!==void 0&&(D_=i);let e=D_+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function nP(i){return i*Hu}function iP(i){return i*Qf}function Xy(i){return(i&i-1)===0&&i!==0}function aE(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function lE(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function rP(i,e,t,n,r){const o=Math.cos,a=Math.sin,u=o(t/2),h=a(t/2),d=o((e+n)/2),m=a((e+n)/2),g=o((e-n)/2),v=a((e-n)/2),A=o((n-e)/2),S=a((n-e)/2);switch(r){case"XYX":i.set(u*m,h*g,h*v,u*d);break;case"YZY":i.set(h*v,u*m,h*g,u*d);break;case"ZXZ":i.set(h*g,h*v,u*m,u*d);break;case"XZX":i.set(u*m,h*S,h*A,u*d);break;case"YXY":i.set(h*A,u*m,h*S,u*d);break;case"ZYZ":i.set(h*S,h*A,u*m,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function es(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Kt(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const uE={DEG2RAD:Hu,RAD2DEG:Qf,generateUUID:ts,clamp:Zn,euclideanModulo:Dx,mapLinear:X2,inverseLerp:Y2,lerp:_d,damp:Q2,pingpong:q2,smoothstep:Z2,smootherstep:K2,randInt:J2,randFloat:$2,randFloatSpread:eP,seededRandom:tP,degToRad:nP,radToDeg:iP,isPowerOfTwo:Xy,ceilPowerOfTwo:aE,floorPowerOfTwo:lE,setQuaternionFromProperEuler:rP,normalize:Kt,denormalize:es};class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*n-a*r+e.x,this.y=o*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $t{constructor(){$t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,o,a,u,h,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=u,m[3]=t,m[4]=o,m[5]=h,m[6]=n,m[7]=a,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],u=n[3],h=n[6],d=n[1],m=n[4],g=n[7],v=n[2],A=n[5],S=n[8],E=r[0],M=r[3],_=r[6],C=r[1],b=r[4],L=r[7],D=r[2],U=r[5],z=r[8];return o[0]=a*E+u*C+h*D,o[3]=a*M+u*b+h*U,o[6]=a*_+u*L+h*z,o[1]=d*E+m*C+g*D,o[4]=d*M+m*b+g*U,o[7]=d*_+m*L+g*z,o[2]=v*E+A*C+S*D,o[5]=v*M+A*b+S*U,o[8]=v*_+A*L+S*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],u=e[5],h=e[6],d=e[7],m=e[8];return t*a*m-t*u*d-n*o*m+n*u*h+r*o*d-r*a*h}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],u=e[5],h=e[6],d=e[7],m=e[8],g=m*a-u*d,v=u*h-m*o,A=d*o-a*h,S=t*g+n*v+r*A;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=g*E,e[1]=(r*d-m*n)*E,e[2]=(u*n-r*a)*E,e[3]=v*E,e[4]=(m*t-r*h)*E,e[5]=(r*o-u*t)*E,e[6]=A*E,e[7]=(n*h-d*t)*E,e[8]=(a*t-n*o)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,a,u){const h=Math.cos(o),d=Math.sin(o);return this.set(n*h,n*d,-n*(h*a+d*u)+a+e,-r*d,r*h,-r*(-d*a+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply($0.makeScale(e,t)),this}rotate(e){return this.premultiply($0.makeRotation(-e)),this}translate(e,t){return this.premultiply($0.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const $0=new $t;function cE(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const sP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Uf(i,e){return new sP[i](e)}function zd(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}const U_={};function Sd(i){i in U_||(U_[i]=!0,console.warn(i))}function Wf(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function ev(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}const oP=new $t().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),aP=new $t().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function lP(i){return i.convertSRGBToLinear().applyMatrix3(aP)}function uP(i){return i.applyMatrix3(oP).convertLinearToSRGB()}const cP={[qs]:i=>i,[Yt]:i=>i.convertSRGBToLinear(),[Nx]:lP},fP={[qs]:i=>i,[Yt]:i=>i.convertLinearToSRGB(),[Nx]:uP},ys={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return qs},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;const n=cP[e],r=fP[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}};let uf;class Ux{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{uf===void 0&&(uf=zd("canvas")),uf.width=e.width,uf.height=e.height;const n=uf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=uf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zd("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=Wf(o[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Wf(t[n]/255)*255):t[n]=Wf(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ou{constructor(e=null){this.isSource=!0,this.uuid=ts(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,u=r.length;a<u;a++)r[a].isDataTexture?o.push(tv(r[a].image)):o.push(tv(r[a]))}else o=tv(r);n.url=o}return t||(e.images[this.uuid]=n),n}}function tv(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?Ux.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let hP=0;class On extends Ma{constructor(e=On.DEFAULT_IMAGE,t=On.DEFAULT_MAPPING,n=tr,r=tr,o=ii,a=Tl,u=Ur,h=_a,d=On.DEFAULT_ANISOTROPY,m=Sl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:hP++}),this.uuid=ts(),this.name="",this.source=new Ou(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=h,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof m=="string"?this.colorSpace=m:(Sd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=m===_l?Yt:Sl),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Yg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Dd:e.x=e.x-Math.floor(e.x);break;case tr:e.x=e.x<0?0:1;break;case Ud:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Dd:e.y=e.y-Math.floor(e.y);break;case tr:e.y=e.y<0?0:1;break;case Ud:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Sd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Yt?_l:Ix}set encoding(e){Sd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===_l?Yt:Sl}}On.DEFAULT_IMAGE=null;On.DEFAULT_MAPPING=Yg;On.DEFAULT_ANISOTROPY=1;class vn{constructor(e=0,t=0,n=0,r=1){vn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*o,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*o,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*o,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const h=e.elements,d=h[0],m=h[4],g=h[8],v=h[1],A=h[5],S=h[9],E=h[2],M=h[6],_=h[10];if(Math.abs(m-v)<.01&&Math.abs(g-E)<.01&&Math.abs(S-M)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+E)<.1&&Math.abs(S+M)<.1&&Math.abs(d+A+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(d+1)/2,L=(A+1)/2,D=(_+1)/2,U=(m+v)/4,z=(g+E)/4,V=(S+M)/4;return b>L&&b>D?b<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(b),r=U/n,o=z/n):L>D?L<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(L),n=U/r,o=V/r):D<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(D),n=z/o,r=V/o),this.set(n,r,o,t),this}let C=Math.sqrt((M-S)*(M-S)+(g-E)*(g-E)+(v-m)*(v-m));return Math.abs(C)<.001&&(C=1),this.x=(M-S)/C,this.y=(g-E)/C,this.z=(v-m)/C,this.w=Math.acos((d+A+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Zs extends Ma{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vn(0,0,e,t),this.scissorTest=!1,this.viewport=new vn(0,0,e,t);const r={width:e,height:t,depth:1};n.encoding!==void 0&&(Sd("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===_l?Yt:Sl),this.texture=new On(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ii,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ou(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qg extends On{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ni,this.minFilter=ni,this.wrapR=tr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dP extends Zs{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new qg(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class kx extends On{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ni,this.minFilter=ni,this.wrapR=tr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pP extends Zs{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new kx(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class mP extends Zs{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class nr{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,a,u){let h=n[r+0],d=n[r+1],m=n[r+2],g=n[r+3];const v=o[a+0],A=o[a+1],S=o[a+2],E=o[a+3];if(u===0){e[t+0]=h,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(u===1){e[t+0]=v,e[t+1]=A,e[t+2]=S,e[t+3]=E;return}if(g!==E||h!==v||d!==A||m!==S){let M=1-u;const _=h*v+d*A+m*S+g*E,C=_>=0?1:-1,b=1-_*_;if(b>Number.EPSILON){const D=Math.sqrt(b),U=Math.atan2(D,_*C);M=Math.sin(M*U)/D,u=Math.sin(u*U)/D}const L=u*C;if(h=h*M+v*L,d=d*M+A*L,m=m*M+S*L,g=g*M+E*L,M===1-u){const D=1/Math.sqrt(h*h+d*d+m*m+g*g);h*=D,d*=D,m*=D,g*=D}}e[t]=h,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,o,a){const u=n[r],h=n[r+1],d=n[r+2],m=n[r+3],g=o[a],v=o[a+1],A=o[a+2],S=o[a+3];return e[t]=u*S+m*g+h*A-d*v,e[t+1]=h*S+m*v+d*g-u*A,e[t+2]=d*S+m*A+u*v-h*g,e[t+3]=m*S-u*g-h*v-d*A,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,o=e._z,a=e._order,u=Math.cos,h=Math.sin,d=u(n/2),m=u(r/2),g=u(o/2),v=h(n/2),A=h(r/2),S=h(o/2);switch(a){case"XYZ":this._x=v*m*g+d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g-v*A*S;break;case"YXZ":this._x=v*m*g+d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g+v*A*S;break;case"ZXY":this._x=v*m*g-d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g-v*A*S;break;case"ZYX":this._x=v*m*g-d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g+v*A*S;break;case"YZX":this._x=v*m*g+d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g-v*A*S;break;case"XZY":this._x=v*m*g-d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g+v*A*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],a=t[1],u=t[5],h=t[9],d=t[2],m=t[6],g=t[10],v=n+u+g;if(v>0){const A=.5/Math.sqrt(v+1);this._w=.25/A,this._x=(m-h)*A,this._y=(o-d)*A,this._z=(a-r)*A}else if(n>u&&n>g){const A=2*Math.sqrt(1+n-u-g);this._w=(m-h)/A,this._x=.25*A,this._y=(r+a)/A,this._z=(o+d)/A}else if(u>g){const A=2*Math.sqrt(1+u-n-g);this._w=(o-d)/A,this._x=(r+a)/A,this._y=.25*A,this._z=(h+m)/A}else{const A=2*Math.sqrt(1+g-n-u);this._w=(a-r)/A,this._x=(o+d)/A,this._y=(h+m)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,a=e._w,u=t._x,h=t._y,d=t._z,m=t._w;return this._x=n*m+a*u+r*d-o*h,this._y=r*m+a*h+o*u-n*d,this._z=o*m+a*d+n*h-r*u,this._w=a*m-n*u-r*h-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,a=this._w;let u=a*e._w+n*e._x+r*e._y+o*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=a,this._x=n,this._y=r,this._z=o,this;const h=1-u*u;if(h<=Number.EPSILON){const A=1-t;return this._w=A*a+t*this._w,this._x=A*n+t*this._x,this._y=A*r+t*this._y,this._z=A*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(h),m=Math.atan2(d,u),g=Math.sin((1-t)*m)/d,v=Math.sin(t*m)/d;return this._w=a*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=o*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,t=0,n=0){G.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(k_.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(k_.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,a=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*a,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*a,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,a=e.y,u=e.z,h=e.w,d=h*t+a*r-u*n,m=h*n+u*t-o*r,g=h*r+o*n-a*t,v=-o*t-a*n-u*r;return this.x=d*h+v*-o+m*-u-g*-a,this.y=m*h+v*-a+g*-o-d*-u,this.z=g*h+v*-u+d*-a-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,a=t.x,u=t.y,h=t.z;return this.x=r*h-o*u,this.y=o*a-n*h,this.z=n*u-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return nv.copy(this).projectOnVector(e),this.sub(nv)}reflect(e){return this.sub(nv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nv=new G,k_=new nr;class Po{constructor(e=new G(1/0,1/0,1/0),t=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(oa.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(oa.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=oa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),cf.copy(e.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const o=r.attributes.position;for(let a=0,u=o.count;a<u;a++)oa.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(oa)}else r.boundingBox===null&&r.computeBoundingBox(),cf.copy(r.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf)}const n=e.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,oa),oa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jh),_m.subVectors(this.max,Jh),ff.subVectors(e.a,Jh),hf.subVectors(e.b,Jh),df.subVectors(e.c,Jh),cl.subVectors(hf,ff),fl.subVectors(df,hf),yu.subVectors(ff,df);let t=[0,-cl.z,cl.y,0,-fl.z,fl.y,0,-yu.z,yu.y,cl.z,0,-cl.x,fl.z,0,-fl.x,yu.z,0,-yu.x,-cl.y,cl.x,0,-fl.y,fl.x,0,-yu.y,yu.x,0];return!iv(t,ff,hf,df,_m)||(t=[1,0,0,0,1,0,0,0,1],!iv(t,ff,hf,df,_m))?!1:(Sm.crossVectors(cl,fl),t=[Sm.x,Sm.y,Sm.z],iv(t,ff,hf,df,_m))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(oa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(sa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sa=[new G,new G,new G,new G,new G,new G,new G,new G],oa=new G,cf=new Po,ff=new G,hf=new G,df=new G,cl=new G,fl=new G,yu=new G,Jh=new G,_m=new G,Sm=new G,xu=new G;function iv(i,e,t,n,r){for(let o=0,a=i.length-3;o<=a;o+=3){xu.fromArray(i,o);const u=r.x*Math.abs(xu.x)+r.y*Math.abs(xu.y)+r.z*Math.abs(xu.z),h=e.dot(xu),d=t.dot(xu),m=n.dot(xu);if(Math.max(-Math.max(h,d,m),Math.min(h,d,m))>u)return!1}return!0}const gP=new Po,$h=new G,rv=new G;class Ro{constructor(e=new G,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):gP.setFromPoints(e).getCenter(n);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$h.subVectors(e,this.center);const t=$h.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector($h,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($h.copy(e.center).add(rv)),this.expandByPoint($h.copy(e.center).sub(rv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const aa=new G,sv=new G,wm=new G,hl=new G,ov=new G,Mm=new G,av=new G;class nh{constructor(e=new G,t=new G(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,aa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=aa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(aa.copy(this.origin).addScaledVector(this.direction,t),aa.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){sv.copy(e).add(t).multiplyScalar(.5),wm.copy(t).sub(e).normalize(),hl.copy(this.origin).sub(sv);const o=e.distanceTo(t)*.5,a=-this.direction.dot(wm),u=hl.dot(this.direction),h=-hl.dot(wm),d=hl.lengthSq(),m=Math.abs(1-a*a);let g,v,A,S;if(m>0)if(g=a*h-u,v=a*u-h,S=o*m,g>=0)if(v>=-S)if(v<=S){const E=1/m;g*=E,v*=E,A=g*(g+a*v+2*u)+v*(a*g+v+2*h)+d}else v=o,g=Math.max(0,-(a*v+u)),A=-g*g+v*(v+2*h)+d;else v=-o,g=Math.max(0,-(a*v+u)),A=-g*g+v*(v+2*h)+d;else v<=-S?(g=Math.max(0,-(-a*o+u)),v=g>0?-o:Math.min(Math.max(-o,-h),o),A=-g*g+v*(v+2*h)+d):v<=S?(g=0,v=Math.min(Math.max(-o,-h),o),A=v*(v+2*h)+d):(g=Math.max(0,-(a*o+u)),v=g>0?o:Math.min(Math.max(-o,-h),o),A=-g*g+v*(v+2*h)+d);else v=a>0?-o:o,g=Math.max(0,-(a*v+u)),A=-g*g+v*(v+2*h)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(sv).addScaledVector(wm,v),A}intersectSphere(e,t){aa.subVectors(e.center,this.origin);const n=aa.dot(this.direction),r=aa.dot(aa)-n*n,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),u=n-a,h=n+a;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,a,u,h;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(n=(e.min.x-v.x)*d,r=(e.max.x-v.x)*d):(n=(e.max.x-v.x)*d,r=(e.min.x-v.x)*d),m>=0?(o=(e.min.y-v.y)*m,a=(e.max.y-v.y)*m):(o=(e.max.y-v.y)*m,a=(e.min.y-v.y)*m),n>a||o>r||((o>n||isNaN(n))&&(n=o),(a<r||isNaN(r))&&(r=a),g>=0?(u=(e.min.z-v.z)*g,h=(e.max.z-v.z)*g):(u=(e.max.z-v.z)*g,h=(e.min.z-v.z)*g),n>h||u>r)||((u>n||n!==n)&&(n=u),(h<r||r!==r)&&(r=h),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,aa)!==null}intersectTriangle(e,t,n,r,o){ov.subVectors(t,e),Mm.subVectors(n,e),av.crossVectors(ov,Mm);let a=this.direction.dot(av),u;if(a>0){if(r)return null;u=1}else if(a<0)u=-1,a=-a;else return null;hl.subVectors(this.origin,e);const h=u*this.direction.dot(Mm.crossVectors(hl,Mm));if(h<0)return null;const d=u*this.direction.dot(ov.cross(hl));if(d<0||h+d>a)return null;const m=-u*hl.dot(av);return m<0?null:this.at(m/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ft{constructor(){Ft.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,o,a,u,h,d,m,g,v,A,S,E,M){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=r,_[1]=o,_[5]=a,_[9]=u,_[13]=h,_[2]=d,_[6]=m,_[10]=g,_[14]=v,_[3]=A,_[7]=S,_[11]=E,_[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ft().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/pf.setFromMatrixColumn(e,0).length(),o=1/pf.setFromMatrixColumn(e,1).length(),a=1/pf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),u=Math.sin(n),h=Math.cos(r),d=Math.sin(r),m=Math.cos(o),g=Math.sin(o);if(e.order==="XYZ"){const v=a*m,A=a*g,S=u*m,E=u*g;t[0]=h*m,t[4]=-h*g,t[8]=d,t[1]=A+S*d,t[5]=v-E*d,t[9]=-u*h,t[2]=E-v*d,t[6]=S+A*d,t[10]=a*h}else if(e.order==="YXZ"){const v=h*m,A=h*g,S=d*m,E=d*g;t[0]=v+E*u,t[4]=S*u-A,t[8]=a*d,t[1]=a*g,t[5]=a*m,t[9]=-u,t[2]=A*u-S,t[6]=E+v*u,t[10]=a*h}else if(e.order==="ZXY"){const v=h*m,A=h*g,S=d*m,E=d*g;t[0]=v-E*u,t[4]=-a*g,t[8]=S+A*u,t[1]=A+S*u,t[5]=a*m,t[9]=E-v*u,t[2]=-a*d,t[6]=u,t[10]=a*h}else if(e.order==="ZYX"){const v=a*m,A=a*g,S=u*m,E=u*g;t[0]=h*m,t[4]=S*d-A,t[8]=v*d+E,t[1]=h*g,t[5]=E*d+v,t[9]=A*d-S,t[2]=-d,t[6]=u*h,t[10]=a*h}else if(e.order==="YZX"){const v=a*h,A=a*d,S=u*h,E=u*d;t[0]=h*m,t[4]=E-v*g,t[8]=S*g+A,t[1]=g,t[5]=a*m,t[9]=-u*m,t[2]=-d*m,t[6]=A*g+S,t[10]=v-E*g}else if(e.order==="XZY"){const v=a*h,A=a*d,S=u*h,E=u*d;t[0]=h*m,t[4]=-g,t[8]=d*m,t[1]=v*g+E,t[5]=a*m,t[9]=A*g-S,t[2]=S*g-A,t[6]=u*m,t[10]=E*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vP,e,yP)}lookAt(e,t,n){const r=this.elements;return Kr.subVectors(e,t),Kr.lengthSq()===0&&(Kr.z=1),Kr.normalize(),dl.crossVectors(n,Kr),dl.lengthSq()===0&&(Math.abs(n.z)===1?Kr.x+=1e-4:Kr.z+=1e-4,Kr.normalize(),dl.crossVectors(n,Kr)),dl.normalize(),Em.crossVectors(Kr,dl),r[0]=dl.x,r[4]=Em.x,r[8]=Kr.x,r[1]=dl.y,r[5]=Em.y,r[9]=Kr.y,r[2]=dl.z,r[6]=Em.z,r[10]=Kr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,a=n[0],u=n[4],h=n[8],d=n[12],m=n[1],g=n[5],v=n[9],A=n[13],S=n[2],E=n[6],M=n[10],_=n[14],C=n[3],b=n[7],L=n[11],D=n[15],U=r[0],z=r[4],V=r[8],N=r[12],F=r[1],K=r[5],oe=r[9],te=r[13],se=r[2],le=r[6],ge=r[10],de=r[14],B=r[3],Z=r[7],k=r[11],Q=r[15];return o[0]=a*U+u*F+h*se+d*B,o[4]=a*z+u*K+h*le+d*Z,o[8]=a*V+u*oe+h*ge+d*k,o[12]=a*N+u*te+h*de+d*Q,o[1]=m*U+g*F+v*se+A*B,o[5]=m*z+g*K+v*le+A*Z,o[9]=m*V+g*oe+v*ge+A*k,o[13]=m*N+g*te+v*de+A*Q,o[2]=S*U+E*F+M*se+_*B,o[6]=S*z+E*K+M*le+_*Z,o[10]=S*V+E*oe+M*ge+_*k,o[14]=S*N+E*te+M*de+_*Q,o[3]=C*U+b*F+L*se+D*B,o[7]=C*z+b*K+L*le+D*Z,o[11]=C*V+b*oe+L*ge+D*k,o[15]=C*N+b*te+L*de+D*Q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],a=e[1],u=e[5],h=e[9],d=e[13],m=e[2],g=e[6],v=e[10],A=e[14],S=e[3],E=e[7],M=e[11],_=e[15];return S*(+o*h*g-r*d*g-o*u*v+n*d*v+r*u*A-n*h*A)+E*(+t*h*A-t*d*v+o*a*v-r*a*A+r*d*m-o*h*m)+M*(+t*d*g-t*u*A-o*a*g+n*a*A+o*u*m-n*d*m)+_*(-r*u*m-t*h*g+t*u*v+r*a*g-n*a*v+n*h*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],u=e[5],h=e[6],d=e[7],m=e[8],g=e[9],v=e[10],A=e[11],S=e[12],E=e[13],M=e[14],_=e[15],C=g*M*d-E*v*d+E*h*A-u*M*A-g*h*_+u*v*_,b=S*v*d-m*M*d-S*h*A+a*M*A+m*h*_-a*v*_,L=m*E*d-S*g*d+S*u*A-a*E*A-m*u*_+a*g*_,D=S*g*h-m*E*h-S*u*v+a*E*v+m*u*M-a*g*M,U=t*C+n*b+r*L+o*D;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/U;return e[0]=C*z,e[1]=(E*v*o-g*M*o-E*r*A+n*M*A+g*r*_-n*v*_)*z,e[2]=(u*M*o-E*h*o+E*r*d-n*M*d-u*r*_+n*h*_)*z,e[3]=(g*h*o-u*v*o-g*r*d+n*v*d+u*r*A-n*h*A)*z,e[4]=b*z,e[5]=(m*M*o-S*v*o+S*r*A-t*M*A-m*r*_+t*v*_)*z,e[6]=(S*h*o-a*M*o-S*r*d+t*M*d+a*r*_-t*h*_)*z,e[7]=(a*v*o-m*h*o+m*r*d-t*v*d-a*r*A+t*h*A)*z,e[8]=L*z,e[9]=(S*g*o-m*E*o-S*n*A+t*E*A+m*n*_-t*g*_)*z,e[10]=(a*E*o-S*u*o+S*n*d-t*E*d-a*n*_+t*u*_)*z,e[11]=(m*u*o-a*g*o-m*n*d+t*g*d+a*n*A-t*u*A)*z,e[12]=D*z,e[13]=(m*E*r-S*g*r+S*n*v-t*E*v-m*n*M+t*g*M)*z,e[14]=(S*u*r-a*E*r-S*n*h+t*E*h+a*n*M-t*u*M)*z,e[15]=(a*g*r-m*u*r+m*n*h-t*g*h-a*n*v+t*u*v)*z,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,a=e.x,u=e.y,h=e.z,d=o*a,m=o*u;return this.set(d*a+n,d*u-r*h,d*h+r*u,0,d*u+r*h,m*u+n,m*h-r*a,0,d*h-r*u,m*h+r*a,o*h*h+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,a){return this.set(1,n,o,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,a=t._y,u=t._z,h=t._w,d=o+o,m=a+a,g=u+u,v=o*d,A=o*m,S=o*g,E=a*m,M=a*g,_=u*g,C=h*d,b=h*m,L=h*g,D=n.x,U=n.y,z=n.z;return r[0]=(1-(E+_))*D,r[1]=(A+L)*D,r[2]=(S-b)*D,r[3]=0,r[4]=(A-L)*U,r[5]=(1-(v+_))*U,r[6]=(M+C)*U,r[7]=0,r[8]=(S+b)*z,r[9]=(M-C)*z,r[10]=(1-(v+E))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=pf.set(r[0],r[1],r[2]).length();const a=pf.set(r[4],r[5],r[6]).length(),u=pf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Vs.copy(this);const d=1/o,m=1/a,g=1/u;return Vs.elements[0]*=d,Vs.elements[1]*=d,Vs.elements[2]*=d,Vs.elements[4]*=m,Vs.elements[5]*=m,Vs.elements[6]*=m,Vs.elements[8]*=g,Vs.elements[9]*=g,Vs.elements[10]*=g,t.setFromRotationMatrix(Vs),n.x=o,n.y=a,n.z=u,this}makePerspective(e,t,n,r,o,a){const u=this.elements,h=2*o/(t-e),d=2*o/(n-r),m=(t+e)/(t-e),g=(n+r)/(n-r),v=-(a+o)/(a-o),A=-2*a*o/(a-o);return u[0]=h,u[4]=0,u[8]=m,u[12]=0,u[1]=0,u[5]=d,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=A,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,r,o,a){const u=this.elements,h=1/(t-e),d=1/(n-r),m=1/(a-o),g=(t+e)*h,v=(n+r)*d,A=(a+o)*m;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-v,u[2]=0,u[6]=0,u[10]=-2*m,u[14]=-A,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const pf=new G,Vs=new Ft,vP=new G(0,0,0),yP=new G(1,1,1),dl=new G,Em=new G,Kr=new G,O_=new Ft,F_=new nr;class Ju{constructor(e=0,t=0,n=0,r=Ju.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],a=r[4],u=r[8],h=r[1],d=r[5],m=r[9],g=r[2],v=r[6],A=r[10];switch(t){case"XYZ":this._y=Math.asin(Zn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,A),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,A),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,A),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-Zn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,A),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Zn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(u,A));break;case"XZY":this._z=Math.asin(-Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-m,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return O_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(O_,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return F_.setFromEuler(this),this.setFromQuaternion(F_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ju.DEFAULT_ORDER="XYZ";class Gu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xP=0;const B_=new G,mf=new nr,la=new Ft,Tm=new G,ed=new G,AP=new G,_P=new nr,z_=new G(1,0,0),V_=new G(0,1,0),H_=new G(0,0,1),SP={type:"added"},G_={type:"removed"};class cn extends Ma{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xP++}),this.uuid=ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=cn.DEFAULT_UP.clone();const e=new G,t=new Ju,n=new nr,r=new G(1,1,1);function o(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ft},normalMatrix:{value:new $t}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=cn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Gu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return mf.setFromAxisAngle(e,t),this.quaternion.multiply(mf),this}rotateOnWorldAxis(e,t){return mf.setFromAxisAngle(e,t),this.quaternion.premultiply(mf),this}rotateX(e){return this.rotateOnAxis(z_,e)}rotateY(e){return this.rotateOnAxis(V_,e)}rotateZ(e){return this.rotateOnAxis(H_,e)}translateOnAxis(e,t){return B_.copy(e).applyQuaternion(this.quaternion),this.position.add(B_.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(z_,e)}translateY(e){return this.translateOnAxis(V_,e)}translateZ(e){return this.translateOnAxis(H_,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(la.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Tm.copy(e):Tm.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ed.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?la.lookAt(ed,Tm,this.up):la.lookAt(Tm,ed,this.up),this.quaternion.setFromRotationMatrix(la),r&&(la.extractRotation(r.matrixWorld),mf.setFromRotationMatrix(la),this.quaternion.premultiply(mf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(SP)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(G_)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(G_)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),la.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),la.multiply(e.parent.matrixWorld)),e.applyMatrix4(la),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ed,e,AP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ed,_P,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++){const u=r[o];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let d=0,m=h.length;d<m;d++){const g=h[d];o(e.shapes,g)}else o(e.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,d=this.material.length;h<d;h++)u.push(o(e.materials,this.material[h]));r.material=u}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];r.animations.push(o(e.animations,h))}}if(t){const u=a(e.geometries),h=a(e.materials),d=a(e.textures),m=a(e.images),g=a(e.shapes),v=a(e.skeletons),A=a(e.animations),S=a(e.nodes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),A.length>0&&(n.animations=A),S.length>0&&(n.nodes=S)}return n.object=r,n;function a(u){const h=[];for(const d in u){const m=u[d];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}cn.DEFAULT_UP=new G(0,1,0);cn.DEFAULT_MATRIX_AUTO_UPDATE=!0;cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Hs=new G,ua=new G,lv=new G,ca=new G,gf=new G,vf=new G,W_=new G,uv=new G,cv=new G,fv=new G;let bm=!1;class Dr{constructor(e=new G,t=new G,n=new G){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Hs.subVectors(e,t),r.cross(Hs);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){Hs.subVectors(r,t),ua.subVectors(n,t),lv.subVectors(e,t);const a=Hs.dot(Hs),u=Hs.dot(ua),h=Hs.dot(lv),d=ua.dot(ua),m=ua.dot(lv),g=a*d-u*u;if(g===0)return o.set(-2,-1,-1);const v=1/g,A=(d*h-u*m)*v,S=(a*m-u*h)*v;return o.set(1-A-S,S,A)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,ca),ca.x>=0&&ca.y>=0&&ca.x+ca.y<=1}static getUV(e,t,n,r,o,a,u,h){return bm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bm=!0),this.getInterpolation(e,t,n,r,o,a,u,h)}static getInterpolation(e,t,n,r,o,a,u,h){return this.getBarycoord(e,t,n,r,ca),h.setScalar(0),h.addScaledVector(o,ca.x),h.addScaledVector(a,ca.y),h.addScaledVector(u,ca.z),h}static isFrontFacing(e,t,n,r){return Hs.subVectors(n,t),ua.subVectors(e,t),Hs.cross(ua).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hs.subVectors(this.c,this.b),ua.subVectors(this.a,this.b),Hs.cross(ua).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Dr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Dr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return bm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bm=!0),Dr.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}getInterpolation(e,t,n,r,o){return Dr.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return Dr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Dr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let a,u;gf.subVectors(r,n),vf.subVectors(o,n),uv.subVectors(e,n);const h=gf.dot(uv),d=vf.dot(uv);if(h<=0&&d<=0)return t.copy(n);cv.subVectors(e,r);const m=gf.dot(cv),g=vf.dot(cv);if(m>=0&&g<=m)return t.copy(r);const v=h*g-m*d;if(v<=0&&h>=0&&m<=0)return a=h/(h-m),t.copy(n).addScaledVector(gf,a);fv.subVectors(e,o);const A=gf.dot(fv),S=vf.dot(fv);if(S>=0&&A<=S)return t.copy(o);const E=A*d-h*S;if(E<=0&&d>=0&&S<=0)return u=d/(d-S),t.copy(n).addScaledVector(vf,u);const M=m*S-A*g;if(M<=0&&g-m>=0&&A-S>=0)return W_.subVectors(o,r),u=(g-m)/(g-m+(A-S)),t.copy(r).addScaledVector(W_,u);const _=1/(M+E+v);return a=E*_,u=v*_,t.copy(n).addScaledVector(gf,a).addScaledVector(vf,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let wP=0;class Wi extends Ma{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wP++}),this.uuid=ts(),this.name="",this.type="Material",this.blending=zu,this.side=Aa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Tx,this.blendDst=bx,this.blendEquation=Iu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Tg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_g,this.stencilZFail=_g,this.stencilZPass=_g,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==zu&&(n.blending=this.blending),this.side!==Aa&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){const a=[];for(const u in o){const h=o[u];delete h.metadata,a.push(h)}return a}if(t){const o=r(e.textures),a=r(e.images);o.length>0&&(n.textures=o),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const fE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gs={h:0,s:0,l:0},Cm={h:0,s:0,l:0};function hv(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class at{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Yt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ys.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=ys.workingColorSpace){return this.r=e,this.g=t,this.b=n,ys.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=ys.workingColorSpace){if(e=Dx(e,1),t=Zn(t,0,1),n=Zn(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o;this.r=hv(a,o,e+1/3),this.g=hv(a,o,e),this.b=hv(a,o,e-1/3)}return ys.toWorkingColorSpace(this,r),this}setStyle(e,t=Yt){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],u=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Yt){const n=fE[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wf(e.r),this.g=Wf(e.g),this.b=Wf(e.b),this}copyLinearToSRGB(e){return this.r=ev(e.r),this.g=ev(e.g),this.b=ev(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Yt){return ys.fromWorkingColorSpace(er.copy(this),e),Math.round(Zn(er.r*255,0,255))*65536+Math.round(Zn(er.g*255,0,255))*256+Math.round(Zn(er.b*255,0,255))}getHexString(e=Yt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ys.workingColorSpace){ys.fromWorkingColorSpace(er.copy(this),t);const n=er.r,r=er.g,o=er.b,a=Math.max(n,r,o),u=Math.min(n,r,o);let h,d;const m=(u+a)/2;if(u===a)h=0,d=0;else{const g=a-u;switch(d=m<=.5?g/(a+u):g/(2-a-u),a){case n:h=(r-o)/g+(r<o?6:0);break;case r:h=(o-n)/g+2;break;case o:h=(n-r)/g+4;break}h/=6}return e.h=h,e.s=d,e.l=m,e}getRGB(e,t=ys.workingColorSpace){return ys.fromWorkingColorSpace(er.copy(this),t),e.r=er.r,e.g=er.g,e.b=er.b,e}getStyle(e=Yt){ys.fromWorkingColorSpace(er.copy(this),e);const t=er.r,n=er.g,r=er.b;return e!==Yt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Gs),Gs.h+=e,Gs.s+=t,Gs.l+=n,this.setHSL(Gs.h,Gs.s,Gs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Gs),e.getHSL(Cm);const n=_d(Gs.h,Cm.h,t),r=_d(Gs.s,Cm.s,t),o=_d(Gs.l,Cm.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const er=new at;at.NAMES=fE;class Ll extends Wi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const da=MP();function MP(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const d=h-127;d<-27?(n[h]=0,n[h|256]=32768,r[h]=24,r[h|256]=24):d<-14?(n[h]=1024>>-d-14,n[h|256]=1024>>-d-14|32768,r[h]=-d-1,r[h|256]=-d-1):d<=15?(n[h]=d+15<<10,n[h|256]=d+15<<10|32768,r[h]=13,r[h|256]=13):d<128?(n[h]=31744,n[h|256]=64512,r[h]=24,r[h|256]=24):(n[h]=31744,n[h|256]=64512,r[h]=13,r[h|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let d=h<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,o[h]=d|m}for(let h=1024;h<2048;++h)o[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)a[h]=h<<23;a[31]=1199570944,a[32]=2147483648;for(let h=33;h<63;++h)a[h]=2147483648+(h-32<<23);a[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:u}}function Nr(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Zn(i,-65504,65504),da.floatView[0]=i;const e=da.uint32View[0],t=e>>23&511;return da.baseTable[t]+((e&8388607)>>da.shiftTable[t])}function gd(i){const e=i>>10;return da.uint32View[0]=da.mantissaTable[da.offsetTable[e]+(i&1023)]+da.exponentTable[e],da.floatView[0]}const EP={toHalfFloat:Nr,fromHalfFloat:gd},pi=new G,Pm=new Ie;class En{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Bd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Pm.fromBufferAttribute(this,t),Pm.applyMatrix3(e),this.setXY(t,Pm.x,Pm.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix3(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),o=Kt(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Bd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class TP extends En{constructor(e,t,n){super(new Int8Array(e),t,n)}}class bP extends En{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class CP extends En{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class PP extends En{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Ox extends En{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class RP extends En{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Fx extends En{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class LP extends En{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=gd(this.array[e*this.itemSize]);return this.normalized&&(t=es(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=Nr(t),this}getY(e){let t=gd(this.array[e*this.itemSize+1]);return this.normalized&&(t=es(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=Nr(t),this}getZ(e){let t=gd(this.array[e*this.itemSize+2]);return this.normalized&&(t=es(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=Nr(t),this}getW(e){let t=gd(this.array[e*this.itemSize+3]);return this.normalized&&(t=es(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=Nr(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.array[e+0]=Nr(t),this.array[e+1]=Nr(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.array[e+0]=Nr(t),this.array[e+1]=Nr(n),this.array[e+2]=Nr(r),this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),o=Kt(o,this.array)),this.array[e+0]=Nr(t),this.array[e+1]=Nr(n),this.array[e+2]=Nr(r),this.array[e+3]=Nr(o),this}}class ht extends En{constructor(e,t,n){super(new Float32Array(e),t,n)}}class IP extends En{constructor(e,t,n){super(new Float64Array(e),t,n)}}let NP=0;const gs=new Ft,dv=new cn,yf=new G,Jr=new Po,td=new Po,Ci=new G;class Qt extends Ma{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NP++}),this.uuid=ts(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(cE(e)?Fx:Ox)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new $t().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,t,n){return gs.makeTranslation(e,t,n),this.applyMatrix4(gs),this}scale(e,t,n){return gs.makeScale(e,t,n),this.applyMatrix4(gs),this}lookAt(e){return dv.lookAt(e),dv.updateMatrix(),this.applyMatrix4(dv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yf).negate(),this.translate(yf.x,yf.y,yf.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new ht(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Po);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];Jr.setFromBufferAttribute(o),this.morphTargetsRelative?(Ci.addVectors(this.boundingBox.min,Jr.min),this.boundingBox.expandByPoint(Ci),Ci.addVectors(this.boundingBox.max,Jr.max),this.boundingBox.expandByPoint(Ci)):(this.boundingBox.expandByPoint(Jr.min),this.boundingBox.expandByPoint(Jr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ro);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const n=this.boundingSphere.center;if(Jr.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const u=t[o];td.setFromBufferAttribute(u),this.morphTargetsRelative?(Ci.addVectors(Jr.min,td.min),Jr.expandByPoint(Ci),Ci.addVectors(Jr.max,td.max),Jr.expandByPoint(Ci)):(Jr.expandByPoint(td.min),Jr.expandByPoint(td.max))}Jr.getCenter(n);let r=0;for(let o=0,a=e.count;o<a;o++)Ci.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(Ci));if(t)for(let o=0,a=t.length;o<a;o++){const u=t[o],h=this.morphTargetsRelative;for(let d=0,m=u.count;d<m;d++)Ci.fromBufferAttribute(u,d),h&&(yf.fromBufferAttribute(e,d),Ci.add(yf)),r=Math.max(r,n.distanceToSquared(Ci))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,a=t.uv.array,u=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new En(new Float32Array(4*u),4));const h=this.getAttribute("tangent").array,d=[],m=[];for(let F=0;F<u;F++)d[F]=new G,m[F]=new G;const g=new G,v=new G,A=new G,S=new Ie,E=new Ie,M=new Ie,_=new G,C=new G;function b(F,K,oe){g.fromArray(r,F*3),v.fromArray(r,K*3),A.fromArray(r,oe*3),S.fromArray(a,F*2),E.fromArray(a,K*2),M.fromArray(a,oe*2),v.sub(g),A.sub(g),E.sub(S),M.sub(S);const te=1/(E.x*M.y-M.x*E.y);isFinite(te)&&(_.copy(v).multiplyScalar(M.y).addScaledVector(A,-E.y).multiplyScalar(te),C.copy(A).multiplyScalar(E.x).addScaledVector(v,-M.x).multiplyScalar(te),d[F].add(_),d[K].add(_),d[oe].add(_),m[F].add(C),m[K].add(C),m[oe].add(C))}let L=this.groups;L.length===0&&(L=[{start:0,count:n.length}]);for(let F=0,K=L.length;F<K;++F){const oe=L[F],te=oe.start,se=oe.count;for(let le=te,ge=te+se;le<ge;le+=3)b(n[le+0],n[le+1],n[le+2])}const D=new G,U=new G,z=new G,V=new G;function N(F){z.fromArray(o,F*3),V.copy(z);const K=d[F];D.copy(K),D.sub(z.multiplyScalar(z.dot(K))).normalize(),U.crossVectors(V,K);const te=U.dot(m[F])<0?-1:1;h[F*4]=D.x,h[F*4+1]=D.y,h[F*4+2]=D.z,h[F*4+3]=te}for(let F=0,K=L.length;F<K;++F){const oe=L[F],te=oe.start,se=oe.count;for(let le=te,ge=te+se;le<ge;le+=3)N(n[le+0]),N(n[le+1]),N(n[le+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new En(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,A=n.count;v<A;v++)n.setXYZ(v,0,0,0);const r=new G,o=new G,a=new G,u=new G,h=new G,d=new G,m=new G,g=new G;if(e)for(let v=0,A=e.count;v<A;v+=3){const S=e.getX(v+0),E=e.getX(v+1),M=e.getX(v+2);r.fromBufferAttribute(t,S),o.fromBufferAttribute(t,E),a.fromBufferAttribute(t,M),m.subVectors(a,o),g.subVectors(r,o),m.cross(g),u.fromBufferAttribute(n,S),h.fromBufferAttribute(n,E),d.fromBufferAttribute(n,M),u.add(m),h.add(m),d.add(m),n.setXYZ(S,u.x,u.y,u.z),n.setXYZ(E,h.x,h.y,h.z),n.setXYZ(M,d.x,d.y,d.z)}else for(let v=0,A=t.count;v<A;v+=3)r.fromBufferAttribute(t,v+0),o.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),m.subVectors(a,o),g.subVectors(r,o),m.cross(g),n.setXYZ(v+0,m.x,m.y,m.z),n.setXYZ(v+1,m.x,m.y,m.z),n.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ci.fromBufferAttribute(e,t),Ci.normalize(),e.setXYZ(t,Ci.x,Ci.y,Ci.z)}toNonIndexed(){function e(u,h){const d=u.array,m=u.itemSize,g=u.normalized,v=new d.constructor(h.length*m);let A=0,S=0;for(let E=0,M=h.length;E<M;E++){u.isInterleavedBufferAttribute?A=h[E]*u.data.stride+u.offset:A=h[E]*m;for(let _=0;_<m;_++)v[S++]=d[A++]}return new En(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qt,n=this.index.array,r=this.attributes;for(const u in r){const h=r[u],d=e(h,n);t.setAttribute(u,d)}const o=this.morphAttributes;for(const u in o){const h=[],d=o[u];for(let m=0,g=d.length;m<g;m++){const v=d[m],A=e(v,n);h.push(A)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let u=0,h=a.length;u<h;u++){const d=a[u];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const d in h)h[d]!==void 0&&(e[d]=h[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const h in n){const d=n[h];e.data.attributes[h]=d.toJSON(e.data)}const r={};let o=!1;for(const h in this.morphAttributes){const d=this.morphAttributes[h],m=[];for(let g=0,v=d.length;g<v;g++){const A=d[g];m.push(A.toJSON(e.data))}m.length>0&&(r[h]=m,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(t))}const o=e.morphAttributes;for(const d in o){const m=[],g=o[d];for(let v=0,A=g.length;v<A;v++)m.push(g[v].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,m=a.length;d<m;d++){const g=a[d];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const j_=new Ft,So=new nh,Rm=new Ro,X_=new G,xf=new G,Af=new G,_f=new G,pv=new G,Lm=new G,Im=new Ie,Nm=new Ie,Dm=new Ie,Y_=new G,Q_=new G,q_=new G,Um=new G,km=new G;class Li extends cn{constructor(e=new Qt,t=new Ll){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(o&&u){Lm.set(0,0,0);for(let h=0,d=o.length;h<d;h++){const m=u[h],g=o[h];m!==0&&(pv.fromBufferAttribute(g,e),a?Lm.addScaledVector(pv,m):Lm.addScaledVector(pv.sub(t),m))}t.add(Lm)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Rm.copy(n.boundingSphere),Rm.applyMatrix4(o),So.copy(e.ray).recast(e.near),!(Rm.containsPoint(So.origin)===!1&&(So.intersectSphere(Rm,X_)===null||So.origin.distanceToSquared(X_)>(e.far-e.near)**2))&&(j_.copy(o).invert(),So.copy(e.ray).applyMatrix4(j_),!(n.boundingBox!==null&&So.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let n;const r=this.geometry,o=this.material,a=r.index,u=r.attributes.position,h=r.attributes.uv,d=r.attributes.uv1,m=r.attributes.normal,g=r.groups,v=r.drawRange;if(a!==null)if(Array.isArray(o))for(let A=0,S=g.length;A<S;A++){const E=g[A],M=o[E.materialIndex],_=Math.max(E.start,v.start),C=Math.min(a.count,Math.min(E.start+E.count,v.start+v.count));for(let b=_,L=C;b<L;b+=3){const D=a.getX(b),U=a.getX(b+1),z=a.getX(b+2);n=Om(this,M,e,So,h,d,m,D,U,z),n&&(n.faceIndex=Math.floor(b/3),n.face.materialIndex=E.materialIndex,t.push(n))}}else{const A=Math.max(0,v.start),S=Math.min(a.count,v.start+v.count);for(let E=A,M=S;E<M;E+=3){const _=a.getX(E),C=a.getX(E+1),b=a.getX(E+2);n=Om(this,o,e,So,h,d,m,_,C,b),n&&(n.faceIndex=Math.floor(E/3),t.push(n))}}else if(u!==void 0)if(Array.isArray(o))for(let A=0,S=g.length;A<S;A++){const E=g[A],M=o[E.materialIndex],_=Math.max(E.start,v.start),C=Math.min(u.count,Math.min(E.start+E.count,v.start+v.count));for(let b=_,L=C;b<L;b+=3){const D=b,U=b+1,z=b+2;n=Om(this,M,e,So,h,d,m,D,U,z),n&&(n.faceIndex=Math.floor(b/3),n.face.materialIndex=E.materialIndex,t.push(n))}}else{const A=Math.max(0,v.start),S=Math.min(u.count,v.start+v.count);for(let E=A,M=S;E<M;E+=3){const _=E,C=E+1,b=E+2;n=Om(this,o,e,So,h,d,m,_,C,b),n&&(n.faceIndex=Math.floor(E/3),t.push(n))}}}}function DP(i,e,t,n,r,o,a,u){let h;if(e.side===mr?h=n.intersectTriangle(a,o,r,!0,u):h=n.intersectTriangle(r,o,a,e.side===Aa,u),h===null)return null;km.copy(u),km.applyMatrix4(i.matrixWorld);const d=t.ray.origin.distanceTo(km);return d<t.near||d>t.far?null:{distance:d,point:km.clone(),object:i}}function Om(i,e,t,n,r,o,a,u,h,d){i.getVertexPosition(u,xf),i.getVertexPosition(h,Af),i.getVertexPosition(d,_f);const m=DP(i,e,t,n,xf,Af,_f,Um);if(m){r&&(Im.fromBufferAttribute(r,u),Nm.fromBufferAttribute(r,h),Dm.fromBufferAttribute(r,d),m.uv=Dr.getInterpolation(Um,xf,Af,_f,Im,Nm,Dm,new Ie)),o&&(Im.fromBufferAttribute(o,u),Nm.fromBufferAttribute(o,h),Dm.fromBufferAttribute(o,d),m.uv1=Dr.getInterpolation(Um,xf,Af,_f,Im,Nm,Dm,new Ie),m.uv2=m.uv1),a&&(Y_.fromBufferAttribute(a,u),Q_.fromBufferAttribute(a,h),q_.fromBufferAttribute(a,d),m.normal=Dr.getInterpolation(Um,xf,Af,_f,Y_,Q_,q_,new G),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const g={a:u,b:h,c:d,normal:new G,materialIndex:0};Dr.getNormal(xf,Af,_f,g.normal),m.face=g}return m}class Il extends Qt{constructor(e=1,t=1,n=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:a};const u=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const h=[],d=[],m=[],g=[];let v=0,A=0;S("z","y","x",-1,-1,n,t,e,a,o,0),S("z","y","x",1,-1,n,t,-e,a,o,1),S("x","z","y",1,1,e,n,t,r,a,2),S("x","z","y",1,-1,e,n,-t,r,a,3),S("x","y","z",1,-1,e,t,n,r,o,4),S("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(h),this.setAttribute("position",new ht(d,3)),this.setAttribute("normal",new ht(m,3)),this.setAttribute("uv",new ht(g,2));function S(E,M,_,C,b,L,D,U,z,V,N){const F=L/z,K=D/V,oe=L/2,te=D/2,se=U/2,le=z+1,ge=V+1;let de=0,B=0;const Z=new G;for(let k=0;k<ge;k++){const Q=k*K-te;for(let ne=0;ne<le;ne++){const ae=ne*F-oe;Z[E]=ae*C,Z[M]=Q*b,Z[_]=se,d.push(Z.x,Z.y,Z.z),Z[E]=0,Z[M]=0,Z[_]=U>0?1:-1,m.push(Z.x,Z.y,Z.z),g.push(ne/z),g.push(1-k/V),de+=1}}for(let k=0;k<V;k++)for(let Q=0;Q<z;Q++){const ne=v+Q+le*k,ae=v+Q+le*(k+1),ce=v+(Q+1)+le*(k+1),Ce=v+(Q+1)+le*k;h.push(ne,ae,Ce),h.push(ae,ce,Ce),B+=6}u.addGroup(A,B,N),A+=B,v+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Il(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function qf(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function dr(i){const e={};for(let t=0;t<i.length;t++){const n=qf(i[t]);for(const r in n)e[r]=n[r]}return e}function UP(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function hE(i){return i.getRenderTarget()===null?i.outputColorSpace:qs}const dE={clone:qf,merge:dr};var kP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,OP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Co extends Wi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kP,this.fragmentShader=OP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qf(e.uniforms),this.uniformsGroups=UP(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class tp extends cn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Hn extends tp{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Qf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Hu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Qf*2*Math.atan(Math.tan(Hu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Hu*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const h=a.fullWidth,d=a.fullHeight;o+=a.offsetX*r/h,t-=a.offsetY*n/d,r*=a.width/h,n*=a.height/d}const u=this.filmOffset;u!==0&&(o+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Sf=-90,wf=1;class Bx extends cn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Hn(Sf,wf,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Hn(Sf,wf,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const a=new Hn(Sf,wf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const u=new Hn(Sf,wf,e,t);u.layers=this.layers,u.up.set(0,0,1),u.lookAt(0,-1,0),this.add(u);const h=new Hn(Sf,wf,e,t);h.layers=this.layers,h.up.set(0,1,0),h.lookAt(0,0,1),this.add(h);const d=new Hn(Sf,wf,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,a,u,h,d]=this.children,m=e.getRenderTarget(),g=e.toneMapping,v=e.xr.enabled;e.toneMapping=Qs,e.xr.enabled=!1;const A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,u),e.setRenderTarget(n,4),e.render(t,h),n.texture.generateMipmaps=A,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(m),e.toneMapping=g,e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class np extends On{constructor(e,t,n,r,o,a,u,h,d,m){e=e!==void 0?e:[],t=t!==void 0?t:Ml,super(e,t,n,r,o,a,u,h,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zx extends Zs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(Sd("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===_l?Yt:Sl),this.texture=new np(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ii}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Il(5,5,5),o=new Co({name:"CubemapFromEquirect",uniforms:qf(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:mr,blending:va});o.uniforms.tEquirect.value=t;const a=new Li(r,o),u=t.minFilter;return t.minFilter===Tl&&(t.minFilter=ii),new Bx(1,10,this).update(e,a),t.minFilter=u,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(o)}}const mv=new G,FP=new G,BP=new $t;class ha{constructor(e=new G(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=mv.subVectors(n,t).cross(FP.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(mv),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||BP.getNormalMatrix(e),r=this.coplanarPoint(mv).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Au=new Ro,Fm=new G;class Zg{constructor(e=new ha,t=new ha,n=new ha,r=new ha,o=new ha,a=new ha){this.planes=[e,t,n,r,o,a]}set(e,t,n,r,o,a){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(r),u[4].copy(o),u[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],a=n[2],u=n[3],h=n[4],d=n[5],m=n[6],g=n[7],v=n[8],A=n[9],S=n[10],E=n[11],M=n[12],_=n[13],C=n[14],b=n[15];return t[0].setComponents(u-r,g-h,E-v,b-M).normalize(),t[1].setComponents(u+r,g+h,E+v,b+M).normalize(),t[2].setComponents(u+o,g+d,E+A,b+_).normalize(),t[3].setComponents(u-o,g-d,E-A,b-_).normalize(),t[4].setComponents(u-a,g-m,E-S,b-C).normalize(),t[5].setComponents(u+a,g+m,E+S,b+C).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Au.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Au.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Au)}intersectsSprite(e){return Au.center.set(0,0,0),Au.radius=.7071067811865476,Au.applyMatrix4(e.matrixWorld),this.intersectsSphere(Au)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Fm.x=r.normal.x>0?e.max.x:e.min.x,Fm.y=r.normal.y>0?e.max.y:e.min.y,Fm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Fm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pE(){let i=null,e=!1,t=null,n=null;function r(o,a){t(o,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){i=o}}}function zP(i,e){const t=e.isWebGL2,n=new WeakMap;function r(d,m){const g=d.array,v=d.usage,A=i.createBuffer();i.bindBuffer(m,A),i.bufferData(m,g,v),d.onUploadCallback();let S;if(g instanceof Float32Array)S=i.FLOAT;else if(g instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)S=i.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=i.UNSIGNED_SHORT;else if(g instanceof Int16Array)S=i.SHORT;else if(g instanceof Uint32Array)S=i.UNSIGNED_INT;else if(g instanceof Int32Array)S=i.INT;else if(g instanceof Int8Array)S=i.BYTE;else if(g instanceof Uint8Array)S=i.UNSIGNED_BYTE;else if(g instanceof Uint8ClampedArray)S=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:A,type:S,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function o(d,m,g){const v=m.array,A=m.updateRange;i.bindBuffer(g,d),A.count===-1?i.bufferSubData(g,0,v):(t?i.bufferSubData(g,A.offset*v.BYTES_PER_ELEMENT,v,A.offset,A.count):i.bufferSubData(g,A.offset*v.BYTES_PER_ELEMENT,v.subarray(A.offset,A.offset+A.count)),A.count=-1),m.onUploadCallback()}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function u(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m&&(i.deleteBuffer(m.buffer),n.delete(d))}function h(d,m){if(d.isGLBufferAttribute){const v=n.get(d);(!v||v.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=n.get(d);g===void 0?n.set(d,r(d,m)):g.version<d.version&&(o(g.buffer,d,m),g.version=d.version)}return{get:a,remove:u,update:h}}class ih extends Qt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,a=t/2,u=Math.floor(n),h=Math.floor(r),d=u+1,m=h+1,g=e/u,v=t/h,A=[],S=[],E=[],M=[];for(let _=0;_<m;_++){const C=_*v-a;for(let b=0;b<d;b++){const L=b*g-o;S.push(L,-C,0),E.push(0,0,1),M.push(b/u),M.push(1-_/h)}}for(let _=0;_<h;_++)for(let C=0;C<u;C++){const b=C+d*_,L=C+d*(_+1),D=C+1+d*(_+1),U=C+1+d*_;A.push(b,L,U),A.push(L,D,U)}this.setIndex(A),this.setAttribute("position",new ht(S,3)),this.setAttribute("normal",new ht(E,3)),this.setAttribute("uv",new ht(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ih(e.width,e.height,e.widthSegments,e.heightSegments)}}var VP=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,HP=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GP=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,WP=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,jP=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,XP=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YP="vec3 transformed = vec3( position );",QP=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qP=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ZP=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,KP=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,JP=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,$P=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,eR=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,tR=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,nR=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,iR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,sR=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,oR=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,aR=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,lR=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uR=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cR=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,fR=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,hR=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,dR="gl_FragColor = linearToOutputTexel( gl_FragColor );",pR=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,mR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,gR=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vR=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,_R=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,SR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,wR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,MR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ER=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,TR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,bR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,CR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,PR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,RR=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,LR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,IR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,NR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,DR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,UR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,kR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,OR=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,FR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,BR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,zR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,VR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,HR=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,GR=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,WR=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,jR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YR=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QR=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qR=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ZR=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,KR=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,JR=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,$R=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,eL=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,tL=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nL=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iL=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rL=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,sL=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,oL=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,aL=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lL=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uL=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,cL=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,fL=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hL=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,dL=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,pL=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mL=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,gL=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vL=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yL=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,xL=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AL=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,_L=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SL=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wL=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,ML=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,EL=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,TL=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,bL=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,CL=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,PL=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,RL=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,LL=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,IL=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NL=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,DL=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,UL=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const kL=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,OL=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,FL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,BL=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VL=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,HL=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,GL=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,WL=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jL=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XL=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,YL=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,QL=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qL=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZL=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,KL=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JL=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$L=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e3=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,t3=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n3=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,i3=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,r3=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,s3=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o3=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a3=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l3=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u3=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,f3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,h3=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d3=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,p3=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zt={alphamap_fragment:VP,alphamap_pars_fragment:HP,alphatest_fragment:GP,alphatest_pars_fragment:WP,aomap_fragment:jP,aomap_pars_fragment:XP,begin_vertex:YP,beginnormal_vertex:QP,bsdfs:qP,iridescence_fragment:ZP,bumpmap_pars_fragment:KP,clipping_planes_fragment:JP,clipping_planes_pars_fragment:$P,clipping_planes_pars_vertex:eR,clipping_planes_vertex:tR,color_fragment:nR,color_pars_fragment:iR,color_pars_vertex:rR,color_vertex:sR,common:oR,cube_uv_reflection_fragment:aR,defaultnormal_vertex:lR,displacementmap_pars_vertex:uR,displacementmap_vertex:cR,emissivemap_fragment:fR,emissivemap_pars_fragment:hR,encodings_fragment:dR,encodings_pars_fragment:pR,envmap_fragment:mR,envmap_common_pars_fragment:gR,envmap_pars_fragment:vR,envmap_pars_vertex:yR,envmap_physical_pars_fragment:RR,envmap_vertex:xR,fog_vertex:AR,fog_pars_vertex:_R,fog_fragment:SR,fog_pars_fragment:wR,gradientmap_pars_fragment:MR,lightmap_fragment:ER,lightmap_pars_fragment:TR,lights_lambert_fragment:bR,lights_lambert_pars_fragment:CR,lights_pars_begin:PR,lights_toon_fragment:LR,lights_toon_pars_fragment:IR,lights_phong_fragment:NR,lights_phong_pars_fragment:DR,lights_physical_fragment:UR,lights_physical_pars_fragment:kR,lights_fragment_begin:OR,lights_fragment_maps:FR,lights_fragment_end:BR,logdepthbuf_fragment:zR,logdepthbuf_pars_fragment:VR,logdepthbuf_pars_vertex:HR,logdepthbuf_vertex:GR,map_fragment:WR,map_pars_fragment:jR,map_particle_fragment:XR,map_particle_pars_fragment:YR,metalnessmap_fragment:QR,metalnessmap_pars_fragment:qR,morphcolor_vertex:ZR,morphnormal_vertex:KR,morphtarget_pars_vertex:JR,morphtarget_vertex:$R,normal_fragment_begin:eL,normal_fragment_maps:tL,normal_pars_fragment:nL,normal_pars_vertex:iL,normal_vertex:rL,normalmap_pars_fragment:sL,clearcoat_normal_fragment_begin:oL,clearcoat_normal_fragment_maps:aL,clearcoat_pars_fragment:lL,iridescence_pars_fragment:uL,output_fragment:cL,packing:fL,premultiplied_alpha_fragment:hL,project_vertex:dL,dithering_fragment:pL,dithering_pars_fragment:mL,roughnessmap_fragment:gL,roughnessmap_pars_fragment:vL,shadowmap_pars_fragment:yL,shadowmap_pars_vertex:xL,shadowmap_vertex:AL,shadowmask_pars_fragment:_L,skinbase_vertex:SL,skinning_pars_vertex:wL,skinning_vertex:ML,skinnormal_vertex:EL,specularmap_fragment:TL,specularmap_pars_fragment:bL,tonemapping_fragment:CL,tonemapping_pars_fragment:PL,transmission_fragment:RL,transmission_pars_fragment:LL,uv_pars_fragment:IL,uv_pars_vertex:NL,uv_vertex:DL,worldpos_vertex:UL,background_vert:kL,background_frag:OL,backgroundCube_vert:FL,backgroundCube_frag:BL,cube_vert:zL,cube_frag:VL,depth_vert:HL,depth_frag:GL,distanceRGBA_vert:WL,distanceRGBA_frag:jL,equirect_vert:XL,equirect_frag:YL,linedashed_vert:QL,linedashed_frag:qL,meshbasic_vert:ZL,meshbasic_frag:KL,meshlambert_vert:JL,meshlambert_frag:$L,meshmatcap_vert:e3,meshmatcap_frag:t3,meshnormal_vert:n3,meshnormal_frag:i3,meshphong_vert:r3,meshphong_frag:s3,meshphysical_vert:o3,meshphysical_frag:a3,meshtoon_vert:l3,meshtoon_frag:u3,points_vert:c3,points_frag:f3,shadow_vert:h3,shadow_frag:d3,sprite_vert:p3,sprite_frag:m3},Ze={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new $t},alphaMap:{value:null},alphaMapTransform:{value:new $t},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new $t}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new $t}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new $t}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new $t},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new $t},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new $t},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new $t}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new $t}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new $t}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $t}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new $t},alphaMap:{value:null},alphaTest:{value:0}}},js={basic:{uniforms:dr([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:dr([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new at(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:dr([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:dr([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:dr([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new at(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:dr([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:dr([Ze.points,Ze.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:dr([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:dr([Ze.common,Ze.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:dr([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:dr([Ze.sprite,Ze.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new $t},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Zt.backgroundCube_vert,fragmentShader:Zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:dr([Ze.common,Ze.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:dr([Ze.lights,Ze.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};js.physical={uniforms:dr([js.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new $t},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new $t},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new $t},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new $t},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new $t},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new $t},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new $t},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new $t},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new $t},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new $t},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new $t}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};const Bm={r:0,b:0,g:0};function g3(i,e,t,n,r,o,a){const u=new at(0);let h=o===!0?0:1,d,m,g=null,v=0,A=null;function S(M,_){let C=!1,b=_.isScene===!0?_.background:null;switch(b&&b.isTexture&&(b=(_.backgroundBlurriness>0?t:e).get(b)),b===null?E(u,h):b&&b.isColor&&(E(b,1),C=!0),i.xr.getEnvironmentBlendMode()){case"opaque":C=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,a),C=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,a),C=!0;break}(i.autoClear||C)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),b&&(b.isCubeTexture||b.mapping===th)?(m===void 0&&(m=new Li(new Il(1,1,1),new Co({name:"BackgroundCubeMaterial",uniforms:qf(js.backgroundCube.uniforms),vertexShader:js.backgroundCube.vertexShader,fragmentShader:js.backgroundCube.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,z,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),m.material.uniforms.envMap.value=b,m.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,m.material.toneMapped=b.colorSpace!==Yt,(g!==b||v!==b.version||A!==i.toneMapping)&&(m.material.needsUpdate=!0,g=b,v=b.version,A=i.toneMapping),m.layers.enableAll(),M.unshift(m,m.geometry,m.material,0,0,null)):b&&b.isTexture&&(d===void 0&&(d=new Li(new ih(2,2),new Co({name:"BackgroundMaterial",uniforms:qf(js.background.uniforms),vertexShader:js.background.vertexShader,fragmentShader:js.background.fragmentShader,side:Aa,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=b,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.toneMapped=b.colorSpace!==Yt,b.matrixAutoUpdate===!0&&b.updateMatrix(),d.material.uniforms.uvTransform.value.copy(b.matrix),(g!==b||v!==b.version||A!==i.toneMapping)&&(d.material.needsUpdate=!0,g=b,v=b.version,A=i.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null))}function E(M,_){M.getRGB(Bm,hE(i)),n.buffers.color.setClear(Bm.r,Bm.g,Bm.b,_,a)}return{getClearColor:function(){return u},setClearColor:function(M,_=1){u.set(M),h=_,E(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(M){h=M,E(u,h)},render:S}}function v3(i,e,t,n){const r=i.getParameter(i.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||o!==null,u={},h=M(null);let d=h,m=!1;function g(se,le,ge,de,B){let Z=!1;if(a){const k=E(de,ge,le);d!==k&&(d=k,A(d.object)),Z=_(se,de,ge,B),Z&&C(se,de,ge,B)}else{const k=le.wireframe===!0;(d.geometry!==de.id||d.program!==ge.id||d.wireframe!==k)&&(d.geometry=de.id,d.program=ge.id,d.wireframe=k,Z=!0)}B!==null&&t.update(B,i.ELEMENT_ARRAY_BUFFER),(Z||m)&&(m=!1,V(se,le,ge,de),B!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(B).buffer))}function v(){return n.isWebGL2?i.createVertexArray():o.createVertexArrayOES()}function A(se){return n.isWebGL2?i.bindVertexArray(se):o.bindVertexArrayOES(se)}function S(se){return n.isWebGL2?i.deleteVertexArray(se):o.deleteVertexArrayOES(se)}function E(se,le,ge){const de=ge.wireframe===!0;let B=u[se.id];B===void 0&&(B={},u[se.id]=B);let Z=B[le.id];Z===void 0&&(Z={},B[le.id]=Z);let k=Z[de];return k===void 0&&(k=M(v()),Z[de]=k),k}function M(se){const le=[],ge=[],de=[];for(let B=0;B<r;B++)le[B]=0,ge[B]=0,de[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:le,enabledAttributes:ge,attributeDivisors:de,object:se,attributes:{},index:null}}function _(se,le,ge,de){const B=d.attributes,Z=le.attributes;let k=0;const Q=ge.getAttributes();for(const ne in Q)if(Q[ne].location>=0){const ce=B[ne];let Ce=Z[ne];if(Ce===void 0&&(ne==="instanceMatrix"&&se.instanceMatrix&&(Ce=se.instanceMatrix),ne==="instanceColor"&&se.instanceColor&&(Ce=se.instanceColor)),ce===void 0||ce.attribute!==Ce||Ce&&ce.data!==Ce.data)return!0;k++}return d.attributesNum!==k||d.index!==de}function C(se,le,ge,de){const B={},Z=le.attributes;let k=0;const Q=ge.getAttributes();for(const ne in Q)if(Q[ne].location>=0){let ce=Z[ne];ce===void 0&&(ne==="instanceMatrix"&&se.instanceMatrix&&(ce=se.instanceMatrix),ne==="instanceColor"&&se.instanceColor&&(ce=se.instanceColor));const Ce={};Ce.attribute=ce,ce&&ce.data&&(Ce.data=ce.data),B[ne]=Ce,k++}d.attributes=B,d.attributesNum=k,d.index=de}function b(){const se=d.newAttributes;for(let le=0,ge=se.length;le<ge;le++)se[le]=0}function L(se){D(se,0)}function D(se,le){const ge=d.newAttributes,de=d.enabledAttributes,B=d.attributeDivisors;ge[se]=1,de[se]===0&&(i.enableVertexAttribArray(se),de[se]=1),B[se]!==le&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](se,le),B[se]=le)}function U(){const se=d.newAttributes,le=d.enabledAttributes;for(let ge=0,de=le.length;ge<de;ge++)le[ge]!==se[ge]&&(i.disableVertexAttribArray(ge),le[ge]=0)}function z(se,le,ge,de,B,Z){n.isWebGL2===!0&&(ge===i.INT||ge===i.UNSIGNED_INT)?i.vertexAttribIPointer(se,le,ge,B,Z):i.vertexAttribPointer(se,le,ge,de,B,Z)}function V(se,le,ge,de){if(n.isWebGL2===!1&&(se.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const B=de.attributes,Z=ge.getAttributes(),k=le.defaultAttributeValues;for(const Q in Z){const ne=Z[Q];if(ne.location>=0){let ae=B[Q];if(ae===void 0&&(Q==="instanceMatrix"&&se.instanceMatrix&&(ae=se.instanceMatrix),Q==="instanceColor"&&se.instanceColor&&(ae=se.instanceColor)),ae!==void 0){const ce=ae.normalized,Ce=ae.itemSize,Ee=t.get(ae);if(Ee===void 0)continue;const $=Ee.buffer,Ge=Ee.type,$e=Ee.bytesPerElement;if(ae.isInterleavedBufferAttribute){const Ue=ae.data,Oe=Ue.stride,Re=ae.offset;if(Ue.isInstancedInterleavedBuffer){for(let Ae=0;Ae<ne.locationSize;Ae++)D(ne.location+Ae,Ue.meshPerAttribute);se.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let Ae=0;Ae<ne.locationSize;Ae++)L(ne.location+Ae);i.bindBuffer(i.ARRAY_BUFFER,$);for(let Ae=0;Ae<ne.locationSize;Ae++)z(ne.location+Ae,Ce/ne.locationSize,Ge,ce,Oe*$e,(Re+Ce/ne.locationSize*Ae)*$e)}else{if(ae.isInstancedBufferAttribute){for(let Ue=0;Ue<ne.locationSize;Ue++)D(ne.location+Ue,ae.meshPerAttribute);se.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Ue=0;Ue<ne.locationSize;Ue++)L(ne.location+Ue);i.bindBuffer(i.ARRAY_BUFFER,$);for(let Ue=0;Ue<ne.locationSize;Ue++)z(ne.location+Ue,Ce/ne.locationSize,Ge,ce,Ce*$e,Ce/ne.locationSize*Ue*$e)}}else if(k!==void 0){const ce=k[Q];if(ce!==void 0)switch(ce.length){case 2:i.vertexAttrib2fv(ne.location,ce);break;case 3:i.vertexAttrib3fv(ne.location,ce);break;case 4:i.vertexAttrib4fv(ne.location,ce);break;default:i.vertexAttrib1fv(ne.location,ce)}}}}U()}function N(){oe();for(const se in u){const le=u[se];for(const ge in le){const de=le[ge];for(const B in de)S(de[B].object),delete de[B];delete le[ge]}delete u[se]}}function F(se){if(u[se.id]===void 0)return;const le=u[se.id];for(const ge in le){const de=le[ge];for(const B in de)S(de[B].object),delete de[B];delete le[ge]}delete u[se.id]}function K(se){for(const le in u){const ge=u[le];if(ge[se.id]===void 0)continue;const de=ge[se.id];for(const B in de)S(de[B].object),delete de[B];delete ge[se.id]}}function oe(){te(),m=!0,d!==h&&(d=h,A(d.object))}function te(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:g,reset:oe,resetDefaultState:te,dispose:N,releaseStatesOfGeometry:F,releaseStatesOfProgram:K,initAttributes:b,enableAttribute:L,disableUnusedAttributes:U}}function y3(i,e,t,n){const r=n.isWebGL2;let o;function a(d){o=d}function u(d,m){i.drawArrays(o,d,m),t.update(m,o,1)}function h(d,m,g){if(g===0)return;let v,A;if(r)v=i,A="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[A](o,d,m,g),t.update(m,o,g)}this.setMode=a,this.render=u,this.renderInstances=h}function x3(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(z){if(z==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext";let u=t.precision!==void 0?t.precision:"highp";const h=o(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const d=a||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,g=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),v=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=i.getParameter(i.MAX_TEXTURE_SIZE),S=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),E=i.getParameter(i.MAX_VERTEX_ATTRIBS),M=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),_=i.getParameter(i.MAX_VARYING_VECTORS),C=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),b=v>0,L=a||e.has("OES_texture_float"),D=b&&L,U=a?i.getParameter(i.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:m,maxTextures:g,maxVertexTextures:v,maxTextureSize:A,maxCubemapSize:S,maxAttributes:E,maxVertexUniforms:M,maxVaryings:_,maxFragmentUniforms:C,vertexTextures:b,floatFragmentTextures:L,floatVertexTextures:D,maxSamples:U}}function A3(i){const e=this;let t=null,n=0,r=!1,o=!1;const a=new ha,u=new $t,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const A=g.length!==0||v||n!==0||r;return r=v,n=g.length,A},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,A){const S=g.clippingPlanes,E=g.clipIntersection,M=g.clipShadows,_=i.get(g);if(!r||S===null||S.length===0||o&&!M)o?m(null):d();else{const C=o?0:n,b=C*4;let L=_.clippingState||null;h.value=L,L=m(S,v,b,A);for(let D=0;D!==b;++D)L[D]=t[D];_.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=C}};function d(){h.value!==t&&(h.value=t,h.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,v,A,S){const E=g!==null?g.length:0;let M=null;if(E!==0){if(M=h.value,S!==!0||M===null){const _=A+E*4,C=v.matrixWorldInverse;u.getNormalMatrix(C),(M===null||M.length<_)&&(M=new Float32Array(_));for(let b=0,L=A;b!==E;++b,L+=4)a.copy(g[b]).applyMatrix4(C,u),a.normal.toArray(M,L),M[L+3]=a.constant}h.value=M,h.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,M}}function _3(i){let e=new WeakMap;function t(a,u){return u===Id?a.mapping=Ml:u===Nd&&(a.mapping=El),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const u=a.mapping;if(u===Id||u===Nd)if(e.has(a)){const h=e.get(a).texture;return t(h,a.mapping)}else{const h=a.image;if(h&&h.height>0){const d=new zx(h.height/2);return d.fromEquirectangularTexture(i,a),e.set(a,d),a.addEventListener("dispose",r),t(d.texture,a.mapping)}else return null}}return a}function r(a){const u=a.target;u.removeEventListener("dispose",r);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class Eo extends tp{constructor(e=-1,t=1,n=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,a=n+e,u=r+t,h=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,a=o+d*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(o,a,u,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const kf=4,Z_=[.125,.215,.35,.446,.526,.582],Nu=20,gv=new Eo,K_=new at;let vv=null;const Pu=(1+Math.sqrt(5))/2,Mf=1/Pu,J_=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Pu,Mf),new G(0,Pu,-Mf),new G(Mf,0,Pu),new G(-Mf,0,Pu),new G(Pu,Mf,0),new G(-Pu,Mf,0)];class Yy{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){vv=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=t1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=e1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vv),e.scissorTest=!1,zm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ml||e.mapping===El?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vv=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ii,minFilter:ii,generateMipmaps:!1,type:Yf,format:Ur,colorSpace:qs,depthBuffer:!1},r=$_(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$_(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=S3(o)),this._blurMaterial=w3(o,e,t)}return r}_compileMaterial(e){const t=new Li(this._lodPlanes[0],e);this._renderer.compile(t,gv)}_sceneToCubeUV(e,t,n,r){const u=new Hn(90,1,t,n),h=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,v=m.toneMapping;m.getClearColor(K_),m.toneMapping=Qs,m.autoClear=!1;const A=new Ll({name:"PMREM.Background",side:mr,depthWrite:!1,depthTest:!1}),S=new Li(new Il,A);let E=!1;const M=e.background;M?M.isColor&&(A.color.copy(M),e.background=null,E=!0):(A.color.copy(K_),E=!0);for(let _=0;_<6;_++){const C=_%3;C===0?(u.up.set(0,h[_],0),u.lookAt(d[_],0,0)):C===1?(u.up.set(0,0,h[_]),u.lookAt(0,d[_],0)):(u.up.set(0,h[_],0),u.lookAt(0,0,d[_]));const b=this._cubeSize;zm(r,C*b,_>2?b:0,b,b),m.setRenderTarget(r),E&&m.render(S,u),m.render(e,u)}S.geometry.dispose(),S.material.dispose(),m.toneMapping=v,m.autoClear=g,e.background=M}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Ml||e.mapping===El;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=t1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=e1());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new Li(this._lodPlanes[0],o),u=o.uniforms;u.envMap.value=e;const h=this._cubeSize;zm(t,0,0,3*h,2*h),n.setRenderTarget(t),n.render(a,gv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=J_[(r-1)%J_.length];this._blur(e,r-1,r,o,a)}t.autoClear=n}_blur(e,t,n,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",o),this._halfBlur(a,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,a,u){const h=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Li(this._lodPlanes[r],d),v=d.uniforms,A=this._sizeLods[n]-1,S=isFinite(o)?Math.PI/(2*A):2*Math.PI/(2*Nu-1),E=o/S,M=isFinite(o)?1+Math.floor(m*E):Nu;M>Nu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Nu}`);const _=[];let C=0;for(let z=0;z<Nu;++z){const V=z/E,N=Math.exp(-V*V/2);_.push(N),z===0?C+=N:z<M&&(C+=2*N)}for(let z=0;z<_.length;z++)_[z]=_[z]/C;v.envMap.value=e.texture,v.samples.value=M,v.weights.value=_,v.latitudinal.value=a==="latitudinal",u&&(v.poleAxis.value=u);const{_lodMax:b}=this;v.dTheta.value=S,v.mipInt.value=b-n;const L=this._sizeLods[r],D=3*L*(r>b-kf?r-b+kf:0),U=4*(this._cubeSize-L);zm(t,D,U,3*L,2*L),h.setRenderTarget(t),h.render(g,gv)}}function S3(i){const e=[],t=[],n=[];let r=i;const o=i-kf+1+Z_.length;for(let a=0;a<o;a++){const u=Math.pow(2,r);t.push(u);let h=1/u;a>i-kf?h=Z_[a-i+kf-1]:a===0&&(h=0),n.push(h);const d=1/(u-2),m=-d,g=1+d,v=[m,m,g,m,g,g,m,m,g,g,m,g],A=6,S=6,E=3,M=2,_=1,C=new Float32Array(E*S*A),b=new Float32Array(M*S*A),L=new Float32Array(_*S*A);for(let U=0;U<A;U++){const z=U%3*2/3-1,V=U>2?0:-1,N=[z,V,0,z+2/3,V,0,z+2/3,V+1,0,z,V,0,z+2/3,V+1,0,z,V+1,0];C.set(N,E*S*U),b.set(v,M*S*U);const F=[U,U,U,U,U,U];L.set(F,_*S*U)}const D=new Qt;D.setAttribute("position",new En(C,E)),D.setAttribute("uv",new En(b,M)),D.setAttribute("faceIndex",new En(L,_)),e.push(D),r>kf&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function $_(i,e,t){const n=new Zs(i,e,t);return n.texture.mapping=th,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function zm(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function w3(i,e,t){const n=new Float32Array(Nu),r=new G(0,1,0);return new Co({name:"SphericalGaussianBlur",defines:{n:Nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Vx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function e1(){return new Co({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Vx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function t1(){return new Co({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Vx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function Vx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function M3(i){let e=new WeakMap,t=null;function n(u){if(u&&u.isTexture){const h=u.mapping,d=h===Id||h===Nd,m=h===Ml||h===El;if(d||m)if(u.isRenderTargetTexture&&u.needsPMREMUpdate===!0){u.needsPMREMUpdate=!1;let g=e.get(u);return t===null&&(t=new Yy(i)),g=d?t.fromEquirectangular(u,g):t.fromCubemap(u,g),e.set(u,g),g.texture}else{if(e.has(u))return e.get(u).texture;{const g=u.image;if(d&&g&&g.height>0||m&&g&&r(g)){t===null&&(t=new Yy(i));const v=d?t.fromEquirectangular(u):t.fromCubemap(u);return e.set(u,v),u.addEventListener("dispose",o),v.texture}else return null}}}return u}function r(u){let h=0;const d=6;for(let m=0;m<d;m++)u[m]!==void 0&&h++;return h===d}function o(u){const h=u.target;h.removeEventListener("dispose",o);const d=e.get(h);d!==void 0&&(e.delete(h),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function E3(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function T3(i,e,t,n){const r={},o=new WeakMap;function a(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);v.removeEventListener("dispose",a),delete r[v.id];const A=o.get(v);A&&(e.remove(A),o.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function u(g,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function h(g){const v=g.attributes;for(const S in v)e.update(v[S],i.ARRAY_BUFFER);const A=g.morphAttributes;for(const S in A){const E=A[S];for(let M=0,_=E.length;M<_;M++)e.update(E[M],i.ARRAY_BUFFER)}}function d(g){const v=[],A=g.index,S=g.attributes.position;let E=0;if(A!==null){const C=A.array;E=A.version;for(let b=0,L=C.length;b<L;b+=3){const D=C[b+0],U=C[b+1],z=C[b+2];v.push(D,U,U,z,z,D)}}else{const C=S.array;E=S.version;for(let b=0,L=C.length/3-1;b<L;b+=3){const D=b+0,U=b+1,z=b+2;v.push(D,U,U,z,z,D)}}const M=new(cE(v)?Fx:Ox)(v,1);M.version=E;const _=o.get(g);_&&e.remove(_),o.set(g,M)}function m(g){const v=o.get(g);if(v){const A=g.index;A!==null&&v.version<A.version&&d(g)}else d(g);return o.get(g)}return{get:u,update:h,getWireframeAttribute:m}}function b3(i,e,t,n){const r=n.isWebGL2;let o;function a(v){o=v}let u,h;function d(v){u=v.type,h=v.bytesPerElement}function m(v,A){i.drawElements(o,A,u,v*h),t.update(A,o,1)}function g(v,A,S){if(S===0)return;let E,M;if(r)E=i,M="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[M](o,A,u,v*h,S),t.update(A,o,S)}this.setMode=a,this.setIndex=d,this.render=m,this.renderInstances=g}function C3(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,a,u){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=u*(o/3);break;case i.LINES:t.lines+=u*(o/2);break;case i.LINE_STRIP:t.lines+=u*(o-1);break;case i.LINE_LOOP:t.lines+=u*o;break;case i.POINTS:t.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function P3(i,e){return i[0]-e[0]}function R3(i,e){return Math.abs(e[1])-Math.abs(i[1])}function L3(i,e,t){const n={},r=new Float32Array(8),o=new WeakMap,a=new vn,u=[];for(let d=0;d<8;d++)u[d]=[d,0];function h(d,m,g){const v=d.morphTargetInfluences;if(e.isWebGL2===!0){const S=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,E=S!==void 0?S.length:0;let M=o.get(m);if(M===void 0||M.count!==E){let le=function(){te.dispose(),o.delete(m),m.removeEventListener("dispose",le)};var A=le;M!==void 0&&M.texture.dispose();const b=m.morphAttributes.position!==void 0,L=m.morphAttributes.normal!==void 0,D=m.morphAttributes.color!==void 0,U=m.morphAttributes.position||[],z=m.morphAttributes.normal||[],V=m.morphAttributes.color||[];let N=0;b===!0&&(N=1),L===!0&&(N=2),D===!0&&(N=3);let F=m.attributes.position.count*N,K=1;F>e.maxTextureSize&&(K=Math.ceil(F/e.maxTextureSize),F=e.maxTextureSize);const oe=new Float32Array(F*K*4*E),te=new qg(oe,F,K,E);te.type=ma,te.needsUpdate=!0;const se=N*4;for(let ge=0;ge<E;ge++){const de=U[ge],B=z[ge],Z=V[ge],k=F*K*4*ge;for(let Q=0;Q<de.count;Q++){const ne=Q*se;b===!0&&(a.fromBufferAttribute(de,Q),oe[k+ne+0]=a.x,oe[k+ne+1]=a.y,oe[k+ne+2]=a.z,oe[k+ne+3]=0),L===!0&&(a.fromBufferAttribute(B,Q),oe[k+ne+4]=a.x,oe[k+ne+5]=a.y,oe[k+ne+6]=a.z,oe[k+ne+7]=0),D===!0&&(a.fromBufferAttribute(Z,Q),oe[k+ne+8]=a.x,oe[k+ne+9]=a.y,oe[k+ne+10]=a.z,oe[k+ne+11]=Z.itemSize===4?a.w:1)}}M={count:E,texture:te,size:new Ie(F,K)},o.set(m,M),m.addEventListener("dispose",le)}let _=0;for(let b=0;b<v.length;b++)_+=v[b];const C=m.morphTargetsRelative?1:1-_;g.getUniforms().setValue(i,"morphTargetBaseInfluence",C),g.getUniforms().setValue(i,"morphTargetInfluences",v),g.getUniforms().setValue(i,"morphTargetsTexture",M.texture,t),g.getUniforms().setValue(i,"morphTargetsTextureSize",M.size)}else{const S=v===void 0?0:v.length;let E=n[m.id];if(E===void 0||E.length!==S){E=[];for(let L=0;L<S;L++)E[L]=[L,0];n[m.id]=E}for(let L=0;L<S;L++){const D=E[L];D[0]=L,D[1]=v[L]}E.sort(R3);for(let L=0;L<8;L++)L<S&&E[L][1]?(u[L][0]=E[L][0],u[L][1]=E[L][1]):(u[L][0]=Number.MAX_SAFE_INTEGER,u[L][1]=0);u.sort(P3);const M=m.morphAttributes.position,_=m.morphAttributes.normal;let C=0;for(let L=0;L<8;L++){const D=u[L],U=D[0],z=D[1];U!==Number.MAX_SAFE_INTEGER&&z?(M&&m.getAttribute("morphTarget"+L)!==M[U]&&m.setAttribute("morphTarget"+L,M[U]),_&&m.getAttribute("morphNormal"+L)!==_[U]&&m.setAttribute("morphNormal"+L,_[U]),r[L]=z,C+=z):(M&&m.hasAttribute("morphTarget"+L)===!0&&m.deleteAttribute("morphTarget"+L),_&&m.hasAttribute("morphNormal"+L)===!0&&m.deleteAttribute("morphNormal"+L),r[L]=0)}const b=m.morphTargetsRelative?1:1-C;g.getUniforms().setValue(i,"morphTargetBaseInfluence",b),g.getUniforms().setValue(i,"morphTargetInfluences",r)}}return{update:h}}function I3(i,e,t,n){let r=new WeakMap;function o(h){const d=n.render.frame,m=h.geometry,g=e.get(h,m);return r.get(g)!==d&&(e.update(g),r.set(g,d)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),t.update(h.instanceMatrix,i.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,i.ARRAY_BUFFER)),g}function a(){r=new WeakMap}function u(h){const d=h.target;d.removeEventListener("dispose",u),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:a}}const mE=new On,gE=new qg,vE=new kx,yE=new np,n1=[],i1=[],r1=new Float32Array(16),s1=new Float32Array(9),o1=new Float32Array(4);function rh(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let o=n1[r];if(o===void 0&&(o=new Float32Array(r),n1[r]=o),e!==0){n.toArray(o,0);for(let a=1,u=0;a!==e;++a)u+=t,i[a].toArray(o,u)}return o}function Si(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function wi(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Kg(i,e){let t=i1[e];t===void 0&&(t=new Int32Array(e),i1[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function N3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function D3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Si(t,e))return;i.uniform2fv(this.addr,e),wi(t,e)}}function U3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Si(t,e))return;i.uniform3fv(this.addr,e),wi(t,e)}}function k3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Si(t,e))return;i.uniform4fv(this.addr,e),wi(t,e)}}function O3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Si(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),wi(t,e)}else{if(Si(t,n))return;o1.set(n),i.uniformMatrix2fv(this.addr,!1,o1),wi(t,n)}}function F3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Si(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),wi(t,e)}else{if(Si(t,n))return;s1.set(n),i.uniformMatrix3fv(this.addr,!1,s1),wi(t,n)}}function B3(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Si(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),wi(t,e)}else{if(Si(t,n))return;r1.set(n),i.uniformMatrix4fv(this.addr,!1,r1),wi(t,n)}}function z3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function V3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Si(t,e))return;i.uniform2iv(this.addr,e),wi(t,e)}}function H3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Si(t,e))return;i.uniform3iv(this.addr,e),wi(t,e)}}function G3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Si(t,e))return;i.uniform4iv(this.addr,e),wi(t,e)}}function W3(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function j3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Si(t,e))return;i.uniform2uiv(this.addr,e),wi(t,e)}}function X3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Si(t,e))return;i.uniform3uiv(this.addr,e),wi(t,e)}}function Y3(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Si(t,e))return;i.uniform4uiv(this.addr,e),wi(t,e)}}function Q3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||mE,r)}function q3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||vE,r)}function Z3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||yE,r)}function K3(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||gE,r)}function J3(i){switch(i){case 5126:return N3;case 35664:return D3;case 35665:return U3;case 35666:return k3;case 35674:return O3;case 35675:return F3;case 35676:return B3;case 5124:case 35670:return z3;case 35667:case 35671:return V3;case 35668:case 35672:return H3;case 35669:case 35673:return G3;case 5125:return W3;case 36294:return j3;case 36295:return X3;case 36296:return Y3;case 35678:case 36198:case 36298:case 36306:case 35682:return Q3;case 35679:case 36299:case 36307:return q3;case 35680:case 36300:case 36308:case 36293:return Z3;case 36289:case 36303:case 36311:case 36292:return K3}}function $3(i,e){i.uniform1fv(this.addr,e)}function eI(i,e){const t=rh(e,this.size,2);i.uniform2fv(this.addr,t)}function tI(i,e){const t=rh(e,this.size,3);i.uniform3fv(this.addr,t)}function nI(i,e){const t=rh(e,this.size,4);i.uniform4fv(this.addr,t)}function iI(i,e){const t=rh(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function rI(i,e){const t=rh(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function sI(i,e){const t=rh(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function oI(i,e){i.uniform1iv(this.addr,e)}function aI(i,e){i.uniform2iv(this.addr,e)}function lI(i,e){i.uniform3iv(this.addr,e)}function uI(i,e){i.uniform4iv(this.addr,e)}function cI(i,e){i.uniform1uiv(this.addr,e)}function fI(i,e){i.uniform2uiv(this.addr,e)}function hI(i,e){i.uniform3uiv(this.addr,e)}function dI(i,e){i.uniform4uiv(this.addr,e)}function pI(i,e,t){const n=this.cache,r=e.length,o=Kg(t,r);Si(n,o)||(i.uniform1iv(this.addr,o),wi(n,o));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||mE,o[a])}function mI(i,e,t){const n=this.cache,r=e.length,o=Kg(t,r);Si(n,o)||(i.uniform1iv(this.addr,o),wi(n,o));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||vE,o[a])}function gI(i,e,t){const n=this.cache,r=e.length,o=Kg(t,r);Si(n,o)||(i.uniform1iv(this.addr,o),wi(n,o));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||yE,o[a])}function vI(i,e,t){const n=this.cache,r=e.length,o=Kg(t,r);Si(n,o)||(i.uniform1iv(this.addr,o),wi(n,o));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||gE,o[a])}function yI(i){switch(i){case 5126:return $3;case 35664:return eI;case 35665:return tI;case 35666:return nI;case 35674:return iI;case 35675:return rI;case 35676:return sI;case 5124:case 35670:return oI;case 35667:case 35671:return aI;case 35668:case 35672:return lI;case 35669:case 35673:return uI;case 5125:return cI;case 36294:return fI;case 36295:return hI;case 36296:return dI;case 35678:case 36198:case 36298:case 36306:case 35682:return pI;case 35679:case 36299:case 36307:return mI;case 35680:case 36300:case 36308:case 36293:return gI;case 36289:case 36303:case 36311:case 36292:return vI}}class xI{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=J3(t.type)}}class AI{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=yI(t.type)}}class _I{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const u=r[o];u.setValue(e,t[u.id],n)}}}const yv=/(\w+)(\])?(\[|\.)?/g;function a1(i,e){i.seq.push(e),i.map[e.id]=e}function SI(i,e,t){const n=i.name,r=n.length;for(yv.lastIndex=0;;){const o=yv.exec(n),a=yv.lastIndex;let u=o[1];const h=o[2]==="]",d=o[3];if(h&&(u=u|0),d===void 0||d==="["&&a+2===r){a1(t,d===void 0?new xI(u,i,e):new AI(u,i,e));break}else{let g=t.map[u];g===void 0&&(g=new _I(u),a1(t,g)),t=g}}}class Sg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),a=e.getUniformLocation(t,o.name);SI(o,a,this)}}setValue(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,a=t.length;o!==a;++o){const u=t[o],h=n[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function l1(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}let wI=0;function MI(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=r;a<o;a++){const u=a+1;n.push(`${u===e?">":" "} ${u}: ${t[a]}`)}return n.join(`
`)}function EI(i){switch(i){case qs:return["Linear","( value )"];case Yt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),["Linear","( value )"]}}function u1(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+MI(i.getShaderSource(e),a)}else return r}function TI(i,e){const t=EI(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function bI(i,e){let t;switch(e){case UM:t="Linear";break;case kM:t="Reinhard";break;case OM:t="OptimizedCineon";break;case Cx:t="ACESFilmic";break;case FM:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function CI(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vd).join(`
`)}function PI(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function RI(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const o=i.getActiveAttrib(e,r),a=o.name;let u=1;o.type===i.FLOAT_MAT2&&(u=2),o.type===i.FLOAT_MAT3&&(u=3),o.type===i.FLOAT_MAT4&&(u=4),t[a]={type:o.type,location:i.getAttribLocation(e,a),locationSize:u}}return t}function vd(i){return i!==""}function c1(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function f1(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const LI=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qy(i){return i.replace(LI,II)}function II(i,e){const t=Zt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Qy(t)}const NI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function h1(i){return i.replace(NI,DI)}function DI(i,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function d1(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UI(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===Xg?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===xd?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ws&&(e="SHADOWMAP_TYPE_VSM"),e}function kI(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Ml:case El:e="ENVMAP_TYPE_CUBE";break;case th:e="ENVMAP_TYPE_CUBE_UV";break}return e}function OI(i){let e="ENVMAP_MODE_REFLECTION";return i.envMap&&i.envMapMode===El&&(e="ENVMAP_MODE_REFRACTION"),e}function FI(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case ep:e="ENVMAP_BLENDING_MULTIPLY";break;case NM:e="ENVMAP_BLENDING_MIX";break;case DM:e="ENVMAP_BLENDING_ADD";break}return e}function BI(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function zI(i,e,t,n){const r=i.getContext(),o=t.defines;let a=t.vertexShader,u=t.fragmentShader;const h=UI(t),d=kI(t),m=OI(t),g=FI(t),v=BI(t),A=t.isWebGL2?"":CI(t),S=PI(o),E=r.createProgram();let M,_,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=[S].filter(vd).join(`
`),M.length>0&&(M+=`
`),_=[A,S].filter(vd).join(`
`),_.length>0&&(_+=`
`)):(M=[d1(t),"#define SHADER_NAME "+t.shaderName,S,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vd).join(`
`),_=[A,d1(t),"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qs?"#define TONE_MAPPING":"",t.toneMapping!==Qs?Zt.tonemapping_pars_fragment:"",t.toneMapping!==Qs?bI("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Zt.encodings_pars_fragment,TI("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(vd).join(`
`)),a=Qy(a),a=c1(a,t),a=f1(a,t),u=Qy(u),u=c1(u,t),u=f1(u,t),a=h1(a),u=h1(u),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,_=["#define varying in",t.glslVersion===jy?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===jy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const b=C+M+a,L=C+_+u,D=l1(r,r.VERTEX_SHADER,b),U=l1(r,r.FRAGMENT_SHADER,L);if(r.attachShader(E,D),r.attachShader(E,U),t.index0AttributeName!==void 0?r.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E),i.debug.checkShaderErrors){const N=r.getProgramInfoLog(E).trim(),F=r.getShaderInfoLog(D).trim(),K=r.getShaderInfoLog(U).trim();let oe=!0,te=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if(oe=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,E,D,U);else{const se=u1(r,D,"vertex"),le=u1(r,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Program Info Log: `+N+`
`+se+`
`+le)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(F===""||K==="")&&(te=!1);te&&(this.diagnostics={runnable:oe,programLog:N,vertexShader:{log:F,prefix:M},fragmentShader:{log:K,prefix:_}})}r.deleteShader(D),r.deleteShader(U);let z;this.getUniforms=function(){return z===void 0&&(z=new Sg(r,E)),z};let V;return this.getAttributes=function(){return V===void 0&&(V=RI(r,E)),V},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.name=t.shaderName,this.id=wI++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=D,this.fragmentShader=U,this}let VI=0;class HI{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new GI(e),t.set(e,n)),n}}class GI{constructor(e){this.id=VI++,this.code=e,this.usedTimes=0}}function WI(i,e,t,n,r,o,a){const u=new Gu,h=new HI,d=[],m=r.isWebGL2,g=r.logarithmicDepthBuffer,v=r.vertexTextures;let A=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(N){return N===1?"uv1":N===2?"uv2":N===3?"uv3":"uv"}function M(N,F,K,oe,te){const se=oe.fog,le=te.geometry,ge=N.isMeshStandardMaterial?oe.environment:null,de=(N.isMeshStandardMaterial?t:e).get(N.envMap||ge),B=de&&de.mapping===th?de.image.height:null,Z=S[N.type];N.precision!==null&&(A=r.getMaxPrecision(N.precision),A!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",A,"instead."));const k=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,Q=k!==void 0?k.length:0;let ne=0;le.morphAttributes.position!==void 0&&(ne=1),le.morphAttributes.normal!==void 0&&(ne=2),le.morphAttributes.color!==void 0&&(ne=3);let ae,ce,Ce,Ee;if(Z){const en=js[Z];ae=en.vertexShader,ce=en.fragmentShader}else ae=N.vertexShader,ce=N.fragmentShader,h.update(N),Ce=h.getVertexShaderID(N),Ee=h.getFragmentShaderID(N);const $=i.getRenderTarget(),Ge=te.isInstancedMesh===!0,$e=!!N.map,Ue=!!N.matcap,Oe=!!de,Re=!!N.aoMap,Ae=!!N.lightMap,Ne=!!N.bumpMap,Ke=!!N.normalMap,Qe=!!N.displacementMap,lt=!!N.emissiveMap,yt=!!N.metalnessMap,ct=!!N.roughnessMap,wt=N.clearcoat>0,Ut=N.iridescence>0,Y=N.sheen>0,H=N.transmission>0,_e=wt&&!!N.clearcoatMap,Fe=wt&&!!N.clearcoatNormalMap,Ve=wt&&!!N.clearcoatRoughnessMap,je=Ut&&!!N.iridescenceMap,At=Ut&&!!N.iridescenceThicknessMap,nt=Y&&!!N.sheenColorMap,be=Y&&!!N.sheenRoughnessMap,st=!!N.specularMap,_t=!!N.specularColorMap,St=!!N.specularIntensityMap,it=H&&!!N.transmissionMap,dt=H&&!!N.thicknessMap,ie=!!N.gradientMap,De=!!N.alphaMap,et=N.alphaTest>0,ee=!!N.extensions,Se=!!le.attributes.uv1,ke=!!le.attributes.uv2,Ye=!!le.attributes.uv3;return{isWebGL2:m,shaderID:Z,shaderName:N.type,vertexShader:ae,fragmentShader:ce,defines:N.defines,customVertexShaderID:Ce,customFragmentShaderID:Ee,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:A,instancing:Ge,instancingColor:Ge&&te.instanceColor!==null,supportsVertexTextures:v,outputColorSpace:$===null?i.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:qs,map:$e,matcap:Ue,envMap:Oe,envMapMode:Oe&&de.mapping,envMapCubeUVHeight:B,aoMap:Re,lightMap:Ae,bumpMap:Ne,normalMap:Ke,displacementMap:v&&Qe,emissiveMap:lt,normalMapObjectSpace:Ke&&N.normalMapType===sE,normalMapTangentSpace:Ke&&N.normalMapType===Rl,metalnessMap:yt,roughnessMap:ct,clearcoat:wt,clearcoatMap:_e,clearcoatNormalMap:Fe,clearcoatRoughnessMap:Ve,iridescence:Ut,iridescenceMap:je,iridescenceThicknessMap:At,sheen:Y,sheenColorMap:nt,sheenRoughnessMap:be,specularMap:st,specularColorMap:_t,specularIntensityMap:St,transmission:H,transmissionMap:it,thicknessMap:dt,gradientMap:ie,opaque:N.transparent===!1&&N.blending===zu,alphaMap:De,alphaTest:et,combine:N.combine,mapUv:$e&&E(N.map.channel),aoMapUv:Re&&E(N.aoMap.channel),lightMapUv:Ae&&E(N.lightMap.channel),bumpMapUv:Ne&&E(N.bumpMap.channel),normalMapUv:Ke&&E(N.normalMap.channel),displacementMapUv:Qe&&E(N.displacementMap.channel),emissiveMapUv:lt&&E(N.emissiveMap.channel),metalnessMapUv:yt&&E(N.metalnessMap.channel),roughnessMapUv:ct&&E(N.roughnessMap.channel),clearcoatMapUv:_e&&E(N.clearcoatMap.channel),clearcoatNormalMapUv:Fe&&E(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ve&&E(N.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&E(N.iridescenceMap.channel),iridescenceThicknessMapUv:At&&E(N.iridescenceThicknessMap.channel),sheenColorMapUv:nt&&E(N.sheenColorMap.channel),sheenRoughnessMapUv:be&&E(N.sheenRoughnessMap.channel),specularMapUv:st&&E(N.specularMap.channel),specularColorMapUv:_t&&E(N.specularColorMap.channel),specularIntensityMapUv:St&&E(N.specularIntensityMap.channel),transmissionMapUv:it&&E(N.transmissionMap.channel),thicknessMapUv:dt&&E(N.thicknessMap.channel),alphaMapUv:De&&E(N.alphaMap.channel),vertexTangents:Ke&&!!le.attributes.tangent,vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,vertexUv1s:Se,vertexUv2s:ke,vertexUv3s:Ye,pointsUvs:te.isPoints===!0&&!!le.attributes.uv&&($e||De),fog:!!se,useFog:N.fog===!0,fogExp2:se&&se.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:te.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:ne,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:N.dithering,shadowMapEnabled:i.shadowMap.enabled&&K.length>0,shadowMapType:i.shadowMap.type,toneMapping:N.toneMapped?i.toneMapping:Qs,useLegacyLights:i.useLegacyLights,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Xs,flipSided:N.side===mr,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:ee&&N.extensions.derivatives===!0,extensionFragDepth:ee&&N.extensions.fragDepth===!0,extensionDrawBuffers:ee&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:ee&&N.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:m||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:m||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:m||n.has("EXT_shader_texture_lod"),customProgramCacheKey:N.customProgramCacheKey()}}function _(N){const F=[];if(N.shaderID?F.push(N.shaderID):(F.push(N.customVertexShaderID),F.push(N.customFragmentShaderID)),N.defines!==void 0)for(const K in N.defines)F.push(K),F.push(N.defines[K]);return N.isRawShaderMaterial===!1&&(C(F,N),b(F,N),F.push(i.outputColorSpace)),F.push(N.customProgramCacheKey),F.join()}function C(N,F){N.push(F.precision),N.push(F.outputColorSpace),N.push(F.envMapMode),N.push(F.envMapCubeUVHeight),N.push(F.mapUv),N.push(F.alphaMapUv),N.push(F.lightMapUv),N.push(F.aoMapUv),N.push(F.bumpMapUv),N.push(F.normalMapUv),N.push(F.displacementMapUv),N.push(F.emissiveMapUv),N.push(F.metalnessMapUv),N.push(F.roughnessMapUv),N.push(F.clearcoatMapUv),N.push(F.clearcoatNormalMapUv),N.push(F.clearcoatRoughnessMapUv),N.push(F.iridescenceMapUv),N.push(F.iridescenceThicknessMapUv),N.push(F.sheenColorMapUv),N.push(F.sheenRoughnessMapUv),N.push(F.specularMapUv),N.push(F.specularColorMapUv),N.push(F.specularIntensityMapUv),N.push(F.transmissionMapUv),N.push(F.thicknessMapUv),N.push(F.combine),N.push(F.fogExp2),N.push(F.sizeAttenuation),N.push(F.morphTargetsCount),N.push(F.morphAttributeCount),N.push(F.numDirLights),N.push(F.numPointLights),N.push(F.numSpotLights),N.push(F.numSpotLightMaps),N.push(F.numHemiLights),N.push(F.numRectAreaLights),N.push(F.numDirLightShadows),N.push(F.numPointLightShadows),N.push(F.numSpotLightShadows),N.push(F.numSpotLightShadowsWithMaps),N.push(F.shadowMapType),N.push(F.toneMapping),N.push(F.numClippingPlanes),N.push(F.numClipIntersection),N.push(F.depthPacking)}function b(N,F){u.disableAll(),F.isWebGL2&&u.enable(0),F.supportsVertexTextures&&u.enable(1),F.instancing&&u.enable(2),F.instancingColor&&u.enable(3),F.matcap&&u.enable(4),F.envMap&&u.enable(5),F.normalMapObjectSpace&&u.enable(6),F.normalMapTangentSpace&&u.enable(7),F.clearcoat&&u.enable(8),F.iridescence&&u.enable(9),F.alphaTest&&u.enable(10),F.vertexColors&&u.enable(11),F.vertexAlphas&&u.enable(12),F.vertexUv1s&&u.enable(13),F.vertexUv2s&&u.enable(14),F.vertexUv3s&&u.enable(15),F.vertexTangents&&u.enable(16),N.push(u.mask),u.disableAll(),F.fog&&u.enable(0),F.useFog&&u.enable(1),F.flatShading&&u.enable(2),F.logarithmicDepthBuffer&&u.enable(3),F.skinning&&u.enable(4),F.morphTargets&&u.enable(5),F.morphNormals&&u.enable(6),F.morphColors&&u.enable(7),F.premultipliedAlpha&&u.enable(8),F.shadowMapEnabled&&u.enable(9),F.useLegacyLights&&u.enable(10),F.doubleSided&&u.enable(11),F.flipSided&&u.enable(12),F.useDepthPacking&&u.enable(13),F.dithering&&u.enable(14),F.transmission&&u.enable(15),F.sheen&&u.enable(16),F.opaque&&u.enable(17),F.pointsUvs&&u.enable(18),N.push(u.mask)}function L(N){const F=S[N.type];let K;if(F){const oe=js[F];K=dE.clone(oe.uniforms)}else K=N.uniforms;return K}function D(N,F){let K;for(let oe=0,te=d.length;oe<te;oe++){const se=d[oe];if(se.cacheKey===F){K=se,++K.usedTimes;break}}return K===void 0&&(K=new zI(i,F,N,o),d.push(K)),K}function U(N){if(--N.usedTimes===0){const F=d.indexOf(N);d[F]=d[d.length-1],d.pop(),N.destroy()}}function z(N){h.remove(N)}function V(){h.dispose()}return{getParameters:M,getProgramCacheKey:_,getUniforms:L,acquireProgram:D,releaseProgram:U,releaseShaderCache:z,programs:d,dispose:V}}function jI(){let i=new WeakMap;function e(o){let a=i.get(o);return a===void 0&&(a={},i.set(o,a)),a}function t(o){i.delete(o)}function n(o,a,u){i.get(o)[a]=u}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function XI(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function p1(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function m1(){const i=[];let e=0;const t=[],n=[],r=[];function o(){e=0,t.length=0,n.length=0,r.length=0}function a(g,v,A,S,E,M){let _=i[e];return _===void 0?(_={id:g.id,object:g,geometry:v,material:A,groupOrder:S,renderOrder:g.renderOrder,z:E,group:M},i[e]=_):(_.id=g.id,_.object=g,_.geometry=v,_.material=A,_.groupOrder=S,_.renderOrder=g.renderOrder,_.z=E,_.group=M),e++,_}function u(g,v,A,S,E,M){const _=a(g,v,A,S,E,M);A.transmission>0?n.push(_):A.transparent===!0?r.push(_):t.push(_)}function h(g,v,A,S,E,M){const _=a(g,v,A,S,E,M);A.transmission>0?n.unshift(_):A.transparent===!0?r.unshift(_):t.unshift(_)}function d(g,v){t.length>1&&t.sort(g||XI),n.length>1&&n.sort(v||p1),r.length>1&&r.sort(v||p1)}function m(){for(let g=e,v=i.length;g<v;g++){const A=i[g];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.group=null}}return{opaque:t,transmissive:n,transparent:r,init:o,push:u,unshift:h,finish:m,sort:d}}function YI(){let i=new WeakMap;function e(n,r){const o=i.get(n);let a;return o===void 0?(a=new m1,i.set(n,[a])):r>=o.length?(a=new m1,o.push(a)):a=o[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function QI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new G,color:new at};break;case"SpotLight":t={position:new G,direction:new G,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new G,color:new at,distance:0,decay:0};break;case"HemisphereLight":t={direction:new G,skyColor:new at,groundColor:new at};break;case"RectAreaLight":t={color:new at,position:new G,halfWidth:new G,halfHeight:new G};break}return i[e.id]=t,t}}}function qI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let ZI=0;function KI(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function JI(i,e){const t=new QI,n=qI(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let m=0;m<9;m++)r.probe.push(new G);const o=new G,a=new Ft,u=new Ft;function h(m,g){let v=0,A=0,S=0;for(let K=0;K<9;K++)r.probe[K].set(0,0,0);let E=0,M=0,_=0,C=0,b=0,L=0,D=0,U=0,z=0,V=0;m.sort(KI);const N=g===!0?Math.PI:1;for(let K=0,oe=m.length;K<oe;K++){const te=m[K],se=te.color,le=te.intensity,ge=te.distance,de=te.shadow&&te.shadow.map?te.shadow.map.texture:null;if(te.isAmbientLight)v+=se.r*le*N,A+=se.g*le*N,S+=se.b*le*N;else if(te.isLightProbe)for(let B=0;B<9;B++)r.probe[B].addScaledVector(te.sh.coefficients[B],le);else if(te.isDirectionalLight){const B=t.get(te);if(B.color.copy(te.color).multiplyScalar(te.intensity*N),te.castShadow){const Z=te.shadow,k=n.get(te);k.shadowBias=Z.bias,k.shadowNormalBias=Z.normalBias,k.shadowRadius=Z.radius,k.shadowMapSize=Z.mapSize,r.directionalShadow[E]=k,r.directionalShadowMap[E]=de,r.directionalShadowMatrix[E]=te.shadow.matrix,L++}r.directional[E]=B,E++}else if(te.isSpotLight){const B=t.get(te);B.position.setFromMatrixPosition(te.matrixWorld),B.color.copy(se).multiplyScalar(le*N),B.distance=ge,B.coneCos=Math.cos(te.angle),B.penumbraCos=Math.cos(te.angle*(1-te.penumbra)),B.decay=te.decay,r.spot[_]=B;const Z=te.shadow;if(te.map&&(r.spotLightMap[z]=te.map,z++,Z.updateMatrices(te),te.castShadow&&V++),r.spotLightMatrix[_]=Z.matrix,te.castShadow){const k=n.get(te);k.shadowBias=Z.bias,k.shadowNormalBias=Z.normalBias,k.shadowRadius=Z.radius,k.shadowMapSize=Z.mapSize,r.spotShadow[_]=k,r.spotShadowMap[_]=de,U++}_++}else if(te.isRectAreaLight){const B=t.get(te);B.color.copy(se).multiplyScalar(le),B.halfWidth.set(te.width*.5,0,0),B.halfHeight.set(0,te.height*.5,0),r.rectArea[C]=B,C++}else if(te.isPointLight){const B=t.get(te);if(B.color.copy(te.color).multiplyScalar(te.intensity*N),B.distance=te.distance,B.decay=te.decay,te.castShadow){const Z=te.shadow,k=n.get(te);k.shadowBias=Z.bias,k.shadowNormalBias=Z.normalBias,k.shadowRadius=Z.radius,k.shadowMapSize=Z.mapSize,k.shadowCameraNear=Z.camera.near,k.shadowCameraFar=Z.camera.far,r.pointShadow[M]=k,r.pointShadowMap[M]=de,r.pointShadowMatrix[M]=te.shadow.matrix,D++}r.point[M]=B,M++}else if(te.isHemisphereLight){const B=t.get(te);B.skyColor.copy(te.color).multiplyScalar(le*N),B.groundColor.copy(te.groundColor).multiplyScalar(le*N),r.hemi[b]=B,b++}}C>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ze.LTC_FLOAT_1,r.rectAreaLTC2=Ze.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ze.LTC_HALF_1,r.rectAreaLTC2=Ze.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=v,r.ambient[1]=A,r.ambient[2]=S;const F=r.hash;(F.directionalLength!==E||F.pointLength!==M||F.spotLength!==_||F.rectAreaLength!==C||F.hemiLength!==b||F.numDirectionalShadows!==L||F.numPointShadows!==D||F.numSpotShadows!==U||F.numSpotMaps!==z)&&(r.directional.length=E,r.spot.length=_,r.rectArea.length=C,r.point.length=M,r.hemi.length=b,r.directionalShadow.length=L,r.directionalShadowMap.length=L,r.pointShadow.length=D,r.pointShadowMap.length=D,r.spotShadow.length=U,r.spotShadowMap.length=U,r.directionalShadowMatrix.length=L,r.pointShadowMatrix.length=D,r.spotLightMatrix.length=U+z-V,r.spotLightMap.length=z,r.numSpotLightShadowsWithMaps=V,F.directionalLength=E,F.pointLength=M,F.spotLength=_,F.rectAreaLength=C,F.hemiLength=b,F.numDirectionalShadows=L,F.numPointShadows=D,F.numSpotShadows=U,F.numSpotMaps=z,r.version=ZI++)}function d(m,g){let v=0,A=0,S=0,E=0,M=0;const _=g.matrixWorldInverse;for(let C=0,b=m.length;C<b;C++){const L=m[C];if(L.isDirectionalLight){const D=r.directional[v];D.direction.setFromMatrixPosition(L.matrixWorld),o.setFromMatrixPosition(L.target.matrixWorld),D.direction.sub(o),D.direction.transformDirection(_),v++}else if(L.isSpotLight){const D=r.spot[S];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(_),D.direction.setFromMatrixPosition(L.matrixWorld),o.setFromMatrixPosition(L.target.matrixWorld),D.direction.sub(o),D.direction.transformDirection(_),S++}else if(L.isRectAreaLight){const D=r.rectArea[E];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(_),u.identity(),a.copy(L.matrixWorld),a.premultiply(_),u.extractRotation(a),D.halfWidth.set(L.width*.5,0,0),D.halfHeight.set(0,L.height*.5,0),D.halfWidth.applyMatrix4(u),D.halfHeight.applyMatrix4(u),E++}else if(L.isPointLight){const D=r.point[A];D.position.setFromMatrixPosition(L.matrixWorld),D.position.applyMatrix4(_),A++}else if(L.isHemisphereLight){const D=r.hemi[M];D.direction.setFromMatrixPosition(L.matrixWorld),D.direction.transformDirection(_),M++}}}return{setup:h,setupView:d,state:r}}function g1(i,e){const t=new JI(i,e),n=[],r=[];function o(){n.length=0,r.length=0}function a(g){n.push(g)}function u(g){r.push(g)}function h(g){t.setup(n,g)}function d(g){t.setupView(n,g)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:h,setupLightsView:d,pushLight:a,pushShadow:u}}function $I(i,e){let t=new WeakMap;function n(o,a=0){const u=t.get(o);let h;return u===void 0?(h=new g1(i,e),t.set(o,[h])):a>=u.length?(h=new g1(i,e),u.push(h)):h=u[a],h}function r(){t=new WeakMap}return{get:n,dispose:r}}class Hx extends Wi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=iE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Gx extends Wi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const eN=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tN=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nN(i,e,t){let n=new Zg;const r=new Ie,o=new Ie,a=new vn,u=new Hx({depthPacking:rE}),h=new Gx,d={},m=t.maxTextureSize,g={[Aa]:mr,[mr]:Aa,[Xs]:Xs},v=new Co({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:eN,fragmentShader:tN}),A=v.clone();A.defines.HORIZONTAL_PASS=1;const S=new Qt;S.setAttribute("position",new En(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Li(S,v),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xg;let _=this.type;this.render=function(D,U,z){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||D.length===0)return;const V=i.getRenderTarget(),N=i.getActiveCubeFace(),F=i.getActiveMipmapLevel(),K=i.state;K.setBlending(va),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const oe=_!==Ws&&this.type===Ws,te=_===Ws&&this.type!==Ws;for(let se=0,le=D.length;se<le;se++){const ge=D[se],de=ge.shadow;if(de===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(de.autoUpdate===!1&&de.needsUpdate===!1)continue;r.copy(de.mapSize);const B=de.getFrameExtents();if(r.multiply(B),o.copy(de.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(o.x=Math.floor(m/B.x),r.x=o.x*B.x,de.mapSize.x=o.x),r.y>m&&(o.y=Math.floor(m/B.y),r.y=o.y*B.y,de.mapSize.y=o.y)),de.map===null||oe===!0||te===!0){const k=this.type!==Ws?{minFilter:ni,magFilter:ni}:{};de.map!==null&&de.map.dispose(),de.map=new Zs(r.x,r.y,k),de.map.texture.name=ge.name+".shadowMap",de.camera.updateProjectionMatrix()}i.setRenderTarget(de.map),i.clear();const Z=de.getViewportCount();for(let k=0;k<Z;k++){const Q=de.getViewport(k);a.set(o.x*Q.x,o.y*Q.y,o.x*Q.z,o.y*Q.w),K.viewport(a),de.updateMatrices(ge,k),n=de.getFrustum(),L(U,z,de.camera,ge,this.type)}de.isPointLightShadow!==!0&&this.type===Ws&&C(de,z),de.needsUpdate=!1}_=this.type,M.needsUpdate=!1,i.setRenderTarget(V,N,F)};function C(D,U){const z=e.update(E);v.defines.VSM_SAMPLES!==D.blurSamples&&(v.defines.VSM_SAMPLES=D.blurSamples,A.defines.VSM_SAMPLES=D.blurSamples,v.needsUpdate=!0,A.needsUpdate=!0),D.mapPass===null&&(D.mapPass=new Zs(r.x,r.y)),v.uniforms.shadow_pass.value=D.map.texture,v.uniforms.resolution.value=D.mapSize,v.uniforms.radius.value=D.radius,i.setRenderTarget(D.mapPass),i.clear(),i.renderBufferDirect(U,null,z,v,E,null),A.uniforms.shadow_pass.value=D.mapPass.texture,A.uniforms.resolution.value=D.mapSize,A.uniforms.radius.value=D.radius,i.setRenderTarget(D.map),i.clear(),i.renderBufferDirect(U,null,z,A,E,null)}function b(D,U,z,V){let N=null;const F=z.isPointLight===!0?D.customDistanceMaterial:D.customDepthMaterial;if(F!==void 0)N=F;else if(N=z.isPointLight===!0?h:u,i.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0){const K=N.uuid,oe=U.uuid;let te=d[K];te===void 0&&(te={},d[K]=te);let se=te[oe];se===void 0&&(se=N.clone(),te[oe]=se),N=se}if(N.visible=U.visible,N.wireframe=U.wireframe,V===Ws?N.side=U.shadowSide!==null?U.shadowSide:U.side:N.side=U.shadowSide!==null?U.shadowSide:g[U.side],N.alphaMap=U.alphaMap,N.alphaTest=U.alphaTest,N.map=U.map,N.clipShadows=U.clipShadows,N.clippingPlanes=U.clippingPlanes,N.clipIntersection=U.clipIntersection,N.displacementMap=U.displacementMap,N.displacementScale=U.displacementScale,N.displacementBias=U.displacementBias,N.wireframeLinewidth=U.wireframeLinewidth,N.linewidth=U.linewidth,z.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const K=i.properties.get(N);K.light=z}return N}function L(D,U,z,V,N){if(D.visible===!1)return;if(D.layers.test(U.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&N===Ws)&&(!D.frustumCulled||n.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,D.matrixWorld);const oe=e.update(D),te=D.material;if(Array.isArray(te)){const se=oe.groups;for(let le=0,ge=se.length;le<ge;le++){const de=se[le],B=te[de.materialIndex];if(B&&B.visible){const Z=b(D,B,V,N);i.renderBufferDirect(z,null,oe,Z,D,de)}}}else if(te.visible){const se=b(D,te,V,N);i.renderBufferDirect(z,null,oe,se,D,null)}}const K=D.children;for(let oe=0,te=K.length;oe<te;oe++)L(K[oe],U,z,V,N)}}function iN(i,e,t){const n=t.isWebGL2;function r(){let ee=!1;const Se=new vn;let ke=null;const Ye=new vn(0,0,0,0);return{setMask:function(pt){ke!==pt&&!ee&&(i.colorMask(pt,pt,pt,pt),ke=pt)},setLocked:function(pt){ee=pt},setClear:function(pt,en,Bt,dn,ri){ri===!0&&(pt*=dn,en*=dn,Bt*=dn),Se.set(pt,en,Bt,dn),Ye.equals(Se)===!1&&(i.clearColor(pt,en,Bt,dn),Ye.copy(Se))},reset:function(){ee=!1,ke=null,Ye.set(-1,0,0,0)}}}function o(){let ee=!1,Se=null,ke=null,Ye=null;return{setTest:function(pt){pt?$(i.DEPTH_TEST):Ge(i.DEPTH_TEST)},setMask:function(pt){Se!==pt&&!ee&&(i.depthMask(pt),Se=pt)},setFunc:function(pt){if(ke!==pt){switch(pt){case TM:i.depthFunc(i.NEVER);break;case bM:i.depthFunc(i.ALWAYS);break;case CM:i.depthFunc(i.LESS);break;case Tg:i.depthFunc(i.LEQUAL);break;case PM:i.depthFunc(i.EQUAL);break;case RM:i.depthFunc(i.GEQUAL);break;case LM:i.depthFunc(i.GREATER);break;case IM:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}ke=pt}},setLocked:function(pt){ee=pt},setClear:function(pt){Ye!==pt&&(i.clearDepth(pt),Ye=pt)},reset:function(){ee=!1,Se=null,ke=null,Ye=null}}}function a(){let ee=!1,Se=null,ke=null,Ye=null,pt=null,en=null,Bt=null,dn=null,ri=null;return{setTest:function(rn){ee||(rn?$(i.STENCIL_TEST):Ge(i.STENCIL_TEST))},setMask:function(rn){Se!==rn&&!ee&&(i.stencilMask(rn),Se=rn)},setFunc:function(rn,Nn,Fn){(ke!==rn||Ye!==Nn||pt!==Fn)&&(i.stencilFunc(rn,Nn,Fn),ke=rn,Ye=Nn,pt=Fn)},setOp:function(rn,Nn,Fn){(en!==rn||Bt!==Nn||dn!==Fn)&&(i.stencilOp(rn,Nn,Fn),en=rn,Bt=Nn,dn=Fn)},setLocked:function(rn){ee=rn},setClear:function(rn){ri!==rn&&(i.clearStencil(rn),ri=rn)},reset:function(){ee=!1,Se=null,ke=null,Ye=null,pt=null,en=null,Bt=null,dn=null,ri=null}}}const u=new r,h=new o,d=new a,m=new WeakMap,g=new WeakMap;let v={},A={},S=new WeakMap,E=[],M=null,_=!1,C=null,b=null,L=null,D=null,U=null,z=null,V=null,N=!1,F=null,K=null,oe=null,te=null,se=null;const le=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ge=!1,de=0;const B=i.getParameter(i.VERSION);B.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(B)[1]),ge=de>=1):B.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),ge=de>=2);let Z=null,k={};const Q=i.getParameter(i.SCISSOR_BOX),ne=i.getParameter(i.VIEWPORT),ae=new vn().fromArray(Q),ce=new vn().fromArray(ne);function Ce(ee,Se,ke,Ye){const pt=new Uint8Array(4),en=i.createTexture();i.bindTexture(ee,en),i.texParameteri(ee,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(ee,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Bt=0;Bt<ke;Bt++)n&&(ee===i.TEXTURE_3D||ee===i.TEXTURE_2D_ARRAY)?i.texImage3D(Se,0,i.RGBA,1,1,Ye,0,i.RGBA,i.UNSIGNED_BYTE,pt):i.texImage2D(Se+Bt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,pt);return en}const Ee={};Ee[i.TEXTURE_2D]=Ce(i.TEXTURE_2D,i.TEXTURE_2D,1),Ee[i.TEXTURE_CUBE_MAP]=Ce(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(Ee[i.TEXTURE_2D_ARRAY]=Ce(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),Ee[i.TEXTURE_3D]=Ce(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),$(i.DEPTH_TEST),h.setFunc(Tg),Qe(!1),lt(gy),$(i.CULL_FACE),Ne(va);function $(ee){v[ee]!==!0&&(i.enable(ee),v[ee]=!0)}function Ge(ee){v[ee]!==!1&&(i.disable(ee),v[ee]=!1)}function $e(ee,Se){return A[ee]!==Se?(i.bindFramebuffer(ee,Se),A[ee]=Se,n&&(ee===i.DRAW_FRAMEBUFFER&&(A[i.FRAMEBUFFER]=Se),ee===i.FRAMEBUFFER&&(A[i.DRAW_FRAMEBUFFER]=Se)),!0):!1}function Ue(ee,Se){let ke=E,Ye=!1;if(ee)if(ke=S.get(Se),ke===void 0&&(ke=[],S.set(Se,ke)),ee.isWebGLMultipleRenderTargets){const pt=ee.texture;if(ke.length!==pt.length||ke[0]!==i.COLOR_ATTACHMENT0){for(let en=0,Bt=pt.length;en<Bt;en++)ke[en]=i.COLOR_ATTACHMENT0+en;ke.length=pt.length,Ye=!0}}else ke[0]!==i.COLOR_ATTACHMENT0&&(ke[0]=i.COLOR_ATTACHMENT0,Ye=!0);else ke[0]!==i.BACK&&(ke[0]=i.BACK,Ye=!0);Ye&&(t.isWebGL2?i.drawBuffers(ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}function Oe(ee){return M!==ee?(i.useProgram(ee),M=ee,!0):!1}const Re={[Iu]:i.FUNC_ADD,[mM]:i.FUNC_SUBTRACT,[gM]:i.FUNC_REVERSE_SUBTRACT};if(n)Re[Ay]=i.MIN,Re[_y]=i.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(Re[Ay]=ee.MIN_EXT,Re[_y]=ee.MAX_EXT)}const Ae={[vM]:i.ZERO,[yM]:i.ONE,[xM]:i.SRC_COLOR,[Tx]:i.SRC_ALPHA,[EM]:i.SRC_ALPHA_SATURATE,[wM]:i.DST_COLOR,[_M]:i.DST_ALPHA,[AM]:i.ONE_MINUS_SRC_COLOR,[bx]:i.ONE_MINUS_SRC_ALPHA,[MM]:i.ONE_MINUS_DST_COLOR,[SM]:i.ONE_MINUS_DST_ALPHA};function Ne(ee,Se,ke,Ye,pt,en,Bt,dn){if(ee===va){_===!0&&(Ge(i.BLEND),_=!1);return}if(_===!1&&($(i.BLEND),_=!0),ee!==pM){if(ee!==C||dn!==N){if((b!==Iu||U!==Iu)&&(i.blendEquation(i.FUNC_ADD),b=Iu,U=Iu),dn)switch(ee){case zu:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case vy:i.blendFunc(i.ONE,i.ONE);break;case yy:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case xy:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case zu:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case vy:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case yy:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case xy:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}L=null,D=null,z=null,V=null,C=ee,N=dn}return}pt=pt||Se,en=en||ke,Bt=Bt||Ye,(Se!==b||pt!==U)&&(i.blendEquationSeparate(Re[Se],Re[pt]),b=Se,U=pt),(ke!==L||Ye!==D||en!==z||Bt!==V)&&(i.blendFuncSeparate(Ae[ke],Ae[Ye],Ae[en],Ae[Bt]),L=ke,D=Ye,z=en,V=Bt),C=ee,N=!1}function Ke(ee,Se){ee.side===Xs?Ge(i.CULL_FACE):$(i.CULL_FACE);let ke=ee.side===mr;Se&&(ke=!ke),Qe(ke),ee.blending===zu&&ee.transparent===!1?Ne(va):Ne(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),h.setFunc(ee.depthFunc),h.setTest(ee.depthTest),h.setMask(ee.depthWrite),u.setMask(ee.colorWrite);const Ye=ee.stencilWrite;d.setTest(Ye),Ye&&(d.setMask(ee.stencilWriteMask),d.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),d.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),ct(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?$(i.SAMPLE_ALPHA_TO_COVERAGE):Ge(i.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(ee){F!==ee&&(ee?i.frontFace(i.CW):i.frontFace(i.CCW),F=ee)}function lt(ee){ee!==fM?($(i.CULL_FACE),ee!==K&&(ee===gy?i.cullFace(i.BACK):ee===hM?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ge(i.CULL_FACE),K=ee}function yt(ee){ee!==oe&&(ge&&i.lineWidth(ee),oe=ee)}function ct(ee,Se,ke){ee?($(i.POLYGON_OFFSET_FILL),(te!==Se||se!==ke)&&(i.polygonOffset(Se,ke),te=Se,se=ke)):Ge(i.POLYGON_OFFSET_FILL)}function wt(ee){ee?$(i.SCISSOR_TEST):Ge(i.SCISSOR_TEST)}function Ut(ee){ee===void 0&&(ee=i.TEXTURE0+le-1),Z!==ee&&(i.activeTexture(ee),Z=ee)}function Y(ee,Se,ke){ke===void 0&&(Z===null?ke=i.TEXTURE0+le-1:ke=Z);let Ye=k[ke];Ye===void 0&&(Ye={type:void 0,texture:void 0},k[ke]=Ye),(Ye.type!==ee||Ye.texture!==Se)&&(Z!==ke&&(i.activeTexture(ke),Z=ke),i.bindTexture(ee,Se||Ee[ee]),Ye.type=ee,Ye.texture=Se)}function H(){const ee=k[Z];ee!==void 0&&ee.type!==void 0&&(i.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function _e(){try{i.compressedTexImage2D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Fe(){try{i.compressedTexImage3D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ve(){try{i.texSubImage2D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function je(){try{i.texSubImage3D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function At(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function nt(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function be(){try{i.texStorage2D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function st(){try{i.texStorage3D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function _t(){try{i.texImage2D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function St(){try{i.texImage3D.apply(i,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function it(ee){ae.equals(ee)===!1&&(i.scissor(ee.x,ee.y,ee.z,ee.w),ae.copy(ee))}function dt(ee){ce.equals(ee)===!1&&(i.viewport(ee.x,ee.y,ee.z,ee.w),ce.copy(ee))}function ie(ee,Se){let ke=g.get(Se);ke===void 0&&(ke=new WeakMap,g.set(Se,ke));let Ye=ke.get(ee);Ye===void 0&&(Ye=i.getUniformBlockIndex(Se,ee.name),ke.set(ee,Ye))}function De(ee,Se){const Ye=g.get(Se).get(ee);m.get(Se)!==Ye&&(i.uniformBlockBinding(Se,Ye,ee.__bindingPointIndex),m.set(Se,Ye))}function et(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),n===!0&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),v={},Z=null,k={},A={},S=new WeakMap,E=[],M=null,_=!1,C=null,b=null,L=null,D=null,U=null,z=null,V=null,N=!1,F=null,K=null,oe=null,te=null,se=null,ae.set(0,0,i.canvas.width,i.canvas.height),ce.set(0,0,i.canvas.width,i.canvas.height),u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:$,disable:Ge,bindFramebuffer:$e,drawBuffers:Ue,useProgram:Oe,setBlending:Ne,setMaterial:Ke,setFlipSided:Qe,setCullFace:lt,setLineWidth:yt,setPolygonOffset:ct,setScissorTest:wt,activeTexture:Ut,bindTexture:Y,unbindTexture:H,compressedTexImage2D:_e,compressedTexImage3D:Fe,texImage2D:_t,texImage3D:St,updateUBOMapping:ie,uniformBlockBinding:De,texStorage2D:be,texStorage3D:st,texSubImage2D:Ve,texSubImage3D:je,compressedTexSubImage2D:At,compressedTexSubImage3D:nt,scissor:it,viewport:dt,reset:et}}function rN(i,e,t,n,r,o,a){const u=r.isWebGL2,h=r.maxTextures,d=r.maxCubemapSize,m=r.maxTextureSize,g=r.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,A=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),S=new WeakMap;let E;const M=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(Y,H){return _?new OffscreenCanvas(Y,H):zd("canvas")}function b(Y,H,_e,Fe){let Ve=1;if((Y.width>Fe||Y.height>Fe)&&(Ve=Fe/Math.max(Y.width,Y.height)),Ve<1||H===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const je=H?lE:Math.floor,At=je(Ve*Y.width),nt=je(Ve*Y.height);E===void 0&&(E=C(At,nt));const be=_e?C(At,nt):E;return be.width=At,be.height=nt,be.getContext("2d").drawImage(Y,0,0,At,nt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+At+"x"+nt+")."),be}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function L(Y){return Xy(Y.width)&&Xy(Y.height)}function D(Y){return u?!1:Y.wrapS!==tr||Y.wrapT!==tr||Y.minFilter!==ni&&Y.minFilter!==ii}function U(Y,H){return Y.generateMipmaps&&H&&Y.minFilter!==ni&&Y.minFilter!==ii}function z(Y){i.generateMipmap(Y)}function V(Y,H,_e,Fe,Ve=!1){if(u===!1)return H;if(Y!==null){if(i[Y]!==void 0)return i[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let je=H;return H===i.RED&&(_e===i.FLOAT&&(je=i.R32F),_e===i.HALF_FLOAT&&(je=i.R16F),_e===i.UNSIGNED_BYTE&&(je=i.R8)),H===i.RG&&(_e===i.FLOAT&&(je=i.RG32F),_e===i.HALF_FLOAT&&(je=i.RG16F),_e===i.UNSIGNED_BYTE&&(je=i.RG8)),H===i.RGBA&&(_e===i.FLOAT&&(je=i.RGBA32F),_e===i.HALF_FLOAT&&(je=i.RGBA16F),_e===i.UNSIGNED_BYTE&&(je=Fe===Yt&&Ve===!1?i.SRGB8_ALPHA8:i.RGBA8),_e===i.UNSIGNED_SHORT_4_4_4_4&&(je=i.RGBA4),_e===i.UNSIGNED_SHORT_5_5_5_1&&(je=i.RGB5_A1)),(je===i.R16F||je===i.R32F||je===i.RG16F||je===i.RG32F||je===i.RGBA16F||je===i.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function N(Y,H,_e){return U(Y,_e)===!0||Y.isFramebufferTexture&&Y.minFilter!==ni&&Y.minFilter!==ii?Math.log2(Math.max(H.width,H.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?H.mipmaps.length:1}function F(Y){return Y===ni||Y===bg||Y===Ad?i.NEAREST:i.LINEAR}function K(Y){const H=Y.target;H.removeEventListener("dispose",K),te(H),H.isVideoTexture&&S.delete(H)}function oe(Y){const H=Y.target;H.removeEventListener("dispose",oe),le(H)}function te(Y){const H=n.get(Y);if(H.__webglInit===void 0)return;const _e=Y.source,Fe=M.get(_e);if(Fe){const Ve=Fe[H.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&se(Y),Object.keys(Fe).length===0&&M.delete(_e)}n.remove(Y)}function se(Y){const H=n.get(Y);i.deleteTexture(H.__webglTexture);const _e=Y.source,Fe=M.get(_e);delete Fe[H.__cacheKey],a.memory.textures--}function le(Y){const H=Y.texture,_e=n.get(Y),Fe=n.get(H);if(Fe.__webglTexture!==void 0&&(i.deleteTexture(Fe.__webglTexture),a.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++)i.deleteFramebuffer(_e.__webglFramebuffer[Ve]),_e.__webglDepthbuffer&&i.deleteRenderbuffer(_e.__webglDepthbuffer[Ve]);else{if(i.deleteFramebuffer(_e.__webglFramebuffer),_e.__webglDepthbuffer&&i.deleteRenderbuffer(_e.__webglDepthbuffer),_e.__webglMultisampledFramebuffer&&i.deleteFramebuffer(_e.__webglMultisampledFramebuffer),_e.__webglColorRenderbuffer)for(let Ve=0;Ve<_e.__webglColorRenderbuffer.length;Ve++)_e.__webglColorRenderbuffer[Ve]&&i.deleteRenderbuffer(_e.__webglColorRenderbuffer[Ve]);_e.__webglDepthRenderbuffer&&i.deleteRenderbuffer(_e.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let Ve=0,je=H.length;Ve<je;Ve++){const At=n.get(H[Ve]);At.__webglTexture&&(i.deleteTexture(At.__webglTexture),a.memory.textures--),n.remove(H[Ve])}n.remove(H),n.remove(Y)}let ge=0;function de(){ge=0}function B(){const Y=ge;return Y>=h&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+h),ge+=1,Y}function Z(Y){const H=[];return H.push(Y.wrapS),H.push(Y.wrapT),H.push(Y.wrapR||0),H.push(Y.magFilter),H.push(Y.minFilter),H.push(Y.anisotropy),H.push(Y.internalFormat),H.push(Y.format),H.push(Y.type),H.push(Y.generateMipmaps),H.push(Y.premultiplyAlpha),H.push(Y.flipY),H.push(Y.unpackAlignment),H.push(Y.colorSpace),H.join()}function k(Y,H){const _e=n.get(Y);if(Y.isVideoTexture&&wt(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&_e.__version!==Y.version){const Fe=Y.image;if(Fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ge(_e,Y,H);return}}t.bindTexture(i.TEXTURE_2D,_e.__webglTexture,i.TEXTURE0+H)}function Q(Y,H){const _e=n.get(Y);if(Y.version>0&&_e.__version!==Y.version){Ge(_e,Y,H);return}t.bindTexture(i.TEXTURE_2D_ARRAY,_e.__webglTexture,i.TEXTURE0+H)}function ne(Y,H){const _e=n.get(Y);if(Y.version>0&&_e.__version!==Y.version){Ge(_e,Y,H);return}t.bindTexture(i.TEXTURE_3D,_e.__webglTexture,i.TEXTURE0+H)}function ae(Y,H){const _e=n.get(Y);if(Y.version>0&&_e.__version!==Y.version){$e(_e,Y,H);return}t.bindTexture(i.TEXTURE_CUBE_MAP,_e.__webglTexture,i.TEXTURE0+H)}const ce={[Dd]:i.REPEAT,[tr]:i.CLAMP_TO_EDGE,[Ud]:i.MIRRORED_REPEAT},Ce={[ni]:i.NEAREST,[bg]:i.NEAREST_MIPMAP_NEAREST,[Ad]:i.NEAREST_MIPMAP_LINEAR,[ii]:i.LINEAR,[Px]:i.LINEAR_MIPMAP_NEAREST,[Tl]:i.LINEAR_MIPMAP_LINEAR};function Ee(Y,H,_e){if(_e?(i.texParameteri(Y,i.TEXTURE_WRAP_S,ce[H.wrapS]),i.texParameteri(Y,i.TEXTURE_WRAP_T,ce[H.wrapT]),(Y===i.TEXTURE_3D||Y===i.TEXTURE_2D_ARRAY)&&i.texParameteri(Y,i.TEXTURE_WRAP_R,ce[H.wrapR]),i.texParameteri(Y,i.TEXTURE_MAG_FILTER,Ce[H.magFilter]),i.texParameteri(Y,i.TEXTURE_MIN_FILTER,Ce[H.minFilter])):(i.texParameteri(Y,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(Y,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(Y===i.TEXTURE_3D||Y===i.TEXTURE_2D_ARRAY)&&i.texParameteri(Y,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(H.wrapS!==tr||H.wrapT!==tr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(Y,i.TEXTURE_MAG_FILTER,F(H.magFilter)),i.texParameteri(Y,i.TEXTURE_MIN_FILTER,F(H.minFilter)),H.minFilter!==ni&&H.minFilter!==ii&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Fe=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===ni||H.minFilter!==Ad&&H.minFilter!==Tl||H.type===ma&&e.has("OES_texture_float_linear")===!1||u===!1&&H.type===Yf&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||n.get(H).__currentAnisotropy)&&(i.texParameterf(Y,Fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy)}}function $(Y,H){let _e=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,H.addEventListener("dispose",K));const Fe=H.source;let Ve=M.get(Fe);Ve===void 0&&(Ve={},M.set(Fe,Ve));const je=Z(H);if(je!==Y.__cacheKey){Ve[je]===void 0&&(Ve[je]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,_e=!0),Ve[je].usedTimes++;const At=Ve[Y.__cacheKey];At!==void 0&&(Ve[Y.__cacheKey].usedTimes--,At.usedTimes===0&&se(H)),Y.__cacheKey=je,Y.__webglTexture=Ve[je].texture}return _e}function Ge(Y,H,_e){let Fe=i.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Fe=i.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Fe=i.TEXTURE_3D);const Ve=$(Y,H),je=H.source;t.bindTexture(Fe,Y.__webglTexture,i.TEXTURE0+_e);const At=n.get(je);if(je.version!==At.__version||Ve===!0){t.activeTexture(i.TEXTURE0+_e),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);const nt=D(H)&&L(H.image)===!1;let be=b(H.image,nt,!1,m);be=Ut(H,be);const st=L(be)||u,_t=o.convert(H.format,H.colorSpace);let St=o.convert(H.type),it=V(H.internalFormat,_t,St,H.colorSpace);Ee(Fe,H,st);let dt;const ie=H.mipmaps,De=u&&H.isVideoTexture!==!0,et=At.__version===void 0||Ve===!0,ee=N(H,be,st);if(H.isDepthTexture)it=i.DEPTH_COMPONENT,u?H.type===ma?it=i.DEPTH_COMPONENT32F:H.type===xl?it=i.DEPTH_COMPONENT24:H.type===Vu?it=i.DEPTH24_STENCIL8:it=i.DEPTH_COMPONENT16:H.type===ma&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Al&&it===i.DEPTH_COMPONENT&&H.type!==Rx&&H.type!==xl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=xl,St=o.convert(H.type)),H.format===Xu&&it===i.DEPTH_COMPONENT&&(it=i.DEPTH_STENCIL,H.type!==Vu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Vu,St=o.convert(H.type))),et&&(De?t.texStorage2D(i.TEXTURE_2D,1,it,be.width,be.height):t.texImage2D(i.TEXTURE_2D,0,it,be.width,be.height,0,_t,St,null));else if(H.isDataTexture)if(ie.length>0&&st){De&&et&&t.texStorage2D(i.TEXTURE_2D,ee,it,ie[0].width,ie[0].height);for(let Se=0,ke=ie.length;Se<ke;Se++)dt=ie[Se],De?t.texSubImage2D(i.TEXTURE_2D,Se,0,0,dt.width,dt.height,_t,St,dt.data):t.texImage2D(i.TEXTURE_2D,Se,it,dt.width,dt.height,0,_t,St,dt.data);H.generateMipmaps=!1}else De?(et&&t.texStorage2D(i.TEXTURE_2D,ee,it,be.width,be.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,be.width,be.height,_t,St,be.data)):t.texImage2D(i.TEXTURE_2D,0,it,be.width,be.height,0,_t,St,be.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){De&&et&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ee,it,ie[0].width,ie[0].height,be.depth);for(let Se=0,ke=ie.length;Se<ke;Se++)dt=ie[Se],H.format!==Ur?_t!==null?De?t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Se,0,0,0,dt.width,dt.height,be.depth,_t,dt.data,0,0):t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Se,it,dt.width,dt.height,be.depth,0,dt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage3D(i.TEXTURE_2D_ARRAY,Se,0,0,0,dt.width,dt.height,be.depth,_t,St,dt.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Se,it,dt.width,dt.height,be.depth,0,_t,St,dt.data)}else{De&&et&&t.texStorage2D(i.TEXTURE_2D,ee,it,ie[0].width,ie[0].height);for(let Se=0,ke=ie.length;Se<ke;Se++)dt=ie[Se],H.format!==Ur?_t!==null?De?t.compressedTexSubImage2D(i.TEXTURE_2D,Se,0,0,dt.width,dt.height,_t,dt.data):t.compressedTexImage2D(i.TEXTURE_2D,Se,it,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?t.texSubImage2D(i.TEXTURE_2D,Se,0,0,dt.width,dt.height,_t,St,dt.data):t.texImage2D(i.TEXTURE_2D,Se,it,dt.width,dt.height,0,_t,St,dt.data)}else if(H.isDataArrayTexture)De?(et&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ee,it,be.width,be.height,be.depth),t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,be.width,be.height,be.depth,_t,St,be.data)):t.texImage3D(i.TEXTURE_2D_ARRAY,0,it,be.width,be.height,be.depth,0,_t,St,be.data);else if(H.isData3DTexture)De?(et&&t.texStorage3D(i.TEXTURE_3D,ee,it,be.width,be.height,be.depth),t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,be.width,be.height,be.depth,_t,St,be.data)):t.texImage3D(i.TEXTURE_3D,0,it,be.width,be.height,be.depth,0,_t,St,be.data);else if(H.isFramebufferTexture){if(et)if(De)t.texStorage2D(i.TEXTURE_2D,ee,it,be.width,be.height);else{let Se=be.width,ke=be.height;for(let Ye=0;Ye<ee;Ye++)t.texImage2D(i.TEXTURE_2D,Ye,it,Se,ke,0,_t,St,null),Se>>=1,ke>>=1}}else if(ie.length>0&&st){De&&et&&t.texStorage2D(i.TEXTURE_2D,ee,it,ie[0].width,ie[0].height);for(let Se=0,ke=ie.length;Se<ke;Se++)dt=ie[Se],De?t.texSubImage2D(i.TEXTURE_2D,Se,0,0,_t,St,dt):t.texImage2D(i.TEXTURE_2D,Se,it,_t,St,dt);H.generateMipmaps=!1}else De?(et&&t.texStorage2D(i.TEXTURE_2D,ee,it,be.width,be.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,_t,St,be)):t.texImage2D(i.TEXTURE_2D,0,it,_t,St,be);U(H,st)&&z(Fe),At.__version=je.version,H.onUpdate&&H.onUpdate(H)}Y.__version=H.version}function $e(Y,H,_e){if(H.image.length!==6)return;const Fe=$(Y,H),Ve=H.source;t.bindTexture(i.TEXTURE_CUBE_MAP,Y.__webglTexture,i.TEXTURE0+_e);const je=n.get(Ve);if(Ve.version!==je.__version||Fe===!0){t.activeTexture(i.TEXTURE0+_e),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);const At=H.isCompressedTexture||H.image[0].isCompressedTexture,nt=H.image[0]&&H.image[0].isDataTexture,be=[];for(let Se=0;Se<6;Se++)!At&&!nt?be[Se]=b(H.image[Se],!1,!0,d):be[Se]=nt?H.image[Se].image:H.image[Se],be[Se]=Ut(H,be[Se]);const st=be[0],_t=L(st)||u,St=o.convert(H.format,H.colorSpace),it=o.convert(H.type),dt=V(H.internalFormat,St,it,H.colorSpace),ie=u&&H.isVideoTexture!==!0,De=je.__version===void 0||Fe===!0;let et=N(H,st,_t);Ee(i.TEXTURE_CUBE_MAP,H,_t);let ee;if(At){ie&&De&&t.texStorage2D(i.TEXTURE_CUBE_MAP,et,dt,st.width,st.height);for(let Se=0;Se<6;Se++){ee=be[Se].mipmaps;for(let ke=0;ke<ee.length;ke++){const Ye=ee[ke];H.format!==Ur?St!==null?ie?t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke,0,0,Ye.width,Ye.height,St,Ye.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke,dt,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke,0,0,Ye.width,Ye.height,St,it,Ye.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke,dt,Ye.width,Ye.height,0,St,it,Ye.data)}}}else{ee=H.mipmaps,ie&&De&&(ee.length>0&&et++,t.texStorage2D(i.TEXTURE_CUBE_MAP,et,dt,be[0].width,be[0].height));for(let Se=0;Se<6;Se++)if(nt){ie?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,be[Se].width,be[Se].height,St,it,be[Se].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,dt,be[Se].width,be[Se].height,0,St,it,be[Se].data);for(let ke=0;ke<ee.length;ke++){const pt=ee[ke].image[Se].image;ie?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke+1,0,0,pt.width,pt.height,St,it,pt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke+1,dt,pt.width,pt.height,0,St,it,pt.data)}}else{ie?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,St,it,be[Se]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,dt,St,it,be[Se]);for(let ke=0;ke<ee.length;ke++){const Ye=ee[ke];ie?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke+1,0,0,St,it,Ye.image[Se]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,ke+1,dt,St,it,Ye.image[Se])}}}U(H,_t)&&z(i.TEXTURE_CUBE_MAP),je.__version=Ve.version,H.onUpdate&&H.onUpdate(H)}Y.__version=H.version}function Ue(Y,H,_e,Fe,Ve){const je=o.convert(_e.format,_e.colorSpace),At=o.convert(_e.type),nt=V(_e.internalFormat,je,At,_e.colorSpace);n.get(H).__hasExternalTextures||(Ve===i.TEXTURE_3D||Ve===i.TEXTURE_2D_ARRAY?t.texImage3D(Ve,0,nt,H.width,H.height,H.depth,0,je,At,null):t.texImage2D(Ve,0,nt,H.width,H.height,0,je,At,null)),t.bindFramebuffer(i.FRAMEBUFFER,Y),ct(H)?v.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Fe,Ve,n.get(_e).__webglTexture,0,yt(H)):(Ve===i.TEXTURE_2D||Ve>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Fe,Ve,n.get(_e).__webglTexture,0),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Oe(Y,H,_e){if(i.bindRenderbuffer(i.RENDERBUFFER,Y),H.depthBuffer&&!H.stencilBuffer){let Fe=i.DEPTH_COMPONENT16;if(_e||ct(H)){const Ve=H.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===ma?Fe=i.DEPTH_COMPONENT32F:Ve.type===xl&&(Fe=i.DEPTH_COMPONENT24));const je=yt(H);ct(H)?v.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,je,Fe,H.width,H.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,je,Fe,H.width,H.height)}else i.renderbufferStorage(i.RENDERBUFFER,Fe,H.width,H.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,Y)}else if(H.depthBuffer&&H.stencilBuffer){const Fe=yt(H);_e&&ct(H)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Fe,i.DEPTH24_STENCIL8,H.width,H.height):ct(H)?v.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Fe,i.DEPTH24_STENCIL8,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,H.width,H.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,Y)}else{const Fe=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Ve=0;Ve<Fe.length;Ve++){const je=Fe[Ve],At=o.convert(je.format,je.colorSpace),nt=o.convert(je.type),be=V(je.internalFormat,At,nt,je.colorSpace),st=yt(H);_e&&ct(H)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,st,be,H.width,H.height):ct(H)?v.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,st,be,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,be,H.width,H.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Re(Y,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,Y),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),k(H.depthTexture,0);const Fe=n.get(H.depthTexture).__webglTexture,Ve=yt(H);if(H.depthTexture.format===Al)ct(H)?v.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Fe,0,Ve):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Fe,0);else if(H.depthTexture.format===Xu)ct(H)?v.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Fe,0,Ve):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Fe,0);else throw new Error("Unknown depthTexture format")}function Ae(Y){const H=n.get(Y),_e=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!H.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");Re(H.__webglFramebuffer,Y)}else if(_e){H.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[Fe]),H.__webglDepthbuffer[Fe]=i.createRenderbuffer(),Oe(H.__webglDepthbuffer[Fe],Y,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=i.createRenderbuffer(),Oe(H.__webglDepthbuffer,Y,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}function Ne(Y,H,_e){const Fe=n.get(Y);H!==void 0&&Ue(Fe.__webglFramebuffer,Y,Y.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D),_e!==void 0&&Ae(Y)}function Ke(Y){const H=Y.texture,_e=n.get(Y),Fe=n.get(H);Y.addEventListener("dispose",oe),Y.isWebGLMultipleRenderTargets!==!0&&(Fe.__webglTexture===void 0&&(Fe.__webglTexture=i.createTexture()),Fe.__version=H.version,a.memory.textures++);const Ve=Y.isWebGLCubeRenderTarget===!0,je=Y.isWebGLMultipleRenderTargets===!0,At=L(Y)||u;if(Ve){_e.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)_e.__webglFramebuffer[nt]=i.createFramebuffer()}else{if(_e.__webglFramebuffer=i.createFramebuffer(),je)if(r.drawBuffers){const nt=Y.texture;for(let be=0,st=nt.length;be<st;be++){const _t=n.get(nt[be]);_t.__webglTexture===void 0&&(_t.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Y.samples>0&&ct(Y)===!1){const nt=je?H:[H];_e.__webglMultisampledFramebuffer=i.createFramebuffer(),_e.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let be=0;be<nt.length;be++){const st=nt[be];_e.__webglColorRenderbuffer[be]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,_e.__webglColorRenderbuffer[be]);const _t=o.convert(st.format,st.colorSpace),St=o.convert(st.type),it=V(st.internalFormat,_t,St,st.colorSpace,Y.isXRRenderTarget===!0),dt=yt(Y);i.renderbufferStorageMultisample(i.RENDERBUFFER,dt,it,Y.width,Y.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.RENDERBUFFER,_e.__webglColorRenderbuffer[be])}i.bindRenderbuffer(i.RENDERBUFFER,null),Y.depthBuffer&&(_e.__webglDepthRenderbuffer=i.createRenderbuffer(),Oe(_e.__webglDepthRenderbuffer,Y,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Ve){t.bindTexture(i.TEXTURE_CUBE_MAP,Fe.__webglTexture),Ee(i.TEXTURE_CUBE_MAP,H,At);for(let nt=0;nt<6;nt++)Ue(_e.__webglFramebuffer[nt],Y,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+nt);U(H,At)&&z(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(je){const nt=Y.texture;for(let be=0,st=nt.length;be<st;be++){const _t=nt[be],St=n.get(_t);t.bindTexture(i.TEXTURE_2D,St.__webglTexture),Ee(i.TEXTURE_2D,_t,At),Ue(_e.__webglFramebuffer,Y,_t,i.COLOR_ATTACHMENT0+be,i.TEXTURE_2D),U(_t,At)&&z(i.TEXTURE_2D)}t.unbindTexture()}else{let nt=i.TEXTURE_2D;(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(u?nt=Y.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(nt,Fe.__webglTexture),Ee(nt,H,At),Ue(_e.__webglFramebuffer,Y,H,i.COLOR_ATTACHMENT0,nt),U(H,At)&&z(nt),t.unbindTexture()}Y.depthBuffer&&Ae(Y)}function Qe(Y){const H=L(Y)||u,_e=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Fe=0,Ve=_e.length;Fe<Ve;Fe++){const je=_e[Fe];if(U(je,H)){const At=Y.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,nt=n.get(je).__webglTexture;t.bindTexture(At,nt),z(At),t.unbindTexture()}}}function lt(Y){if(u&&Y.samples>0&&ct(Y)===!1){const H=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],_e=Y.width,Fe=Y.height;let Ve=i.COLOR_BUFFER_BIT;const je=[],At=Y.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,nt=n.get(Y),be=Y.isWebGLMultipleRenderTargets===!0;if(be)for(let st=0;st<H.length;st++)t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+st,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+st,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let st=0;st<H.length;st++){je.push(i.COLOR_ATTACHMENT0+st),Y.depthBuffer&&je.push(At);const _t=nt.__ignoreDepthValues!==void 0?nt.__ignoreDepthValues:!1;if(_t===!1&&(Y.depthBuffer&&(Ve|=i.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(Ve|=i.STENCIL_BUFFER_BIT)),be&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,nt.__webglColorRenderbuffer[st]),_t===!0&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[At]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[At])),be){const St=n.get(H[st]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,St,0)}i.blitFramebuffer(0,0,_e,Fe,0,0,_e,Fe,Ve,i.NEAREST),A&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,je)}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),be)for(let st=0;st<H.length;st++){t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+st,i.RENDERBUFFER,nt.__webglColorRenderbuffer[st]);const _t=n.get(H[st]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+st,i.TEXTURE_2D,_t,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}}function yt(Y){return Math.min(g,Y.samples)}function ct(Y){const H=n.get(Y);return u&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function wt(Y){const H=a.render.frame;S.get(Y)!==H&&(S.set(Y,H),Y.update())}function Ut(Y,H){const _e=Y.colorSpace,Fe=Y.format,Ve=Y.type;return Y.isCompressedTexture===!0||Y.format===Cg||_e!==qs&&_e!==Sl&&(_e===Yt?u===!1?e.has("EXT_sRGB")===!0&&Fe===Ur?(Y.format=Cg,Y.minFilter=ii,Y.generateMipmaps=!1):H=Ux.sRGBToLinear(H):(Fe!==Ur||Ve!==_a)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),H}this.allocateTextureUnit=B,this.resetTextureUnits=de,this.setTexture2D=k,this.setTexture2DArray=Q,this.setTexture3D=ne,this.setTextureCube=ae,this.rebindTextures=Ne,this.setupRenderTarget=Ke,this.updateRenderTargetMipmap=Qe,this.updateMultisampleRenderTarget=lt,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=ct}function xE(i,e,t){const n=t.isWebGL2;function r(o,a=Sl){let u;if(o===_a)return i.UNSIGNED_BYTE;if(o===HM)return i.UNSIGNED_SHORT_4_4_4_4;if(o===GM)return i.UNSIGNED_SHORT_5_5_5_1;if(o===BM)return i.BYTE;if(o===zM)return i.SHORT;if(o===Rx)return i.UNSIGNED_SHORT;if(o===VM)return i.INT;if(o===xl)return i.UNSIGNED_INT;if(o===ma)return i.FLOAT;if(o===Yf)return n?i.HALF_FLOAT:(u=e.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(o===WM)return i.ALPHA;if(o===Ur)return i.RGBA;if(o===jM)return i.LUMINANCE;if(o===XM)return i.LUMINANCE_ALPHA;if(o===Al)return i.DEPTH_COMPONENT;if(o===Xu)return i.DEPTH_STENCIL;if(o===Cg)return u=e.get("EXT_sRGB"),u!==null?u.SRGB_ALPHA_EXT:null;if(o===YM)return i.RED;if(o===QM)return i.RED_INTEGER;if(o===qM)return i.RG;if(o===ZM)return i.RG_INTEGER;if(o===KM)return i.RGBA_INTEGER;if(o===mg||o===gg||o===vg||o===yg)if(a===Yt)if(u=e.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(o===mg)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===gg)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===vg)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===yg)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(o===mg)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===gg)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===vg)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===yg)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Sy||o===wy||o===My||o===Ey)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(o===Sy)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===wy)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===My)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Ey)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===JM)return u=e.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ty||o===by)if(u=e.get("WEBGL_compressed_texture_etc"),u!==null){if(o===Ty)return a===Yt?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(o===by)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===Cy||o===Py||o===Ry||o===Ly||o===Iy||o===Ny||o===Dy||o===Uy||o===ky||o===Oy||o===Fy||o===By||o===zy||o===Vy)if(u=e.get("WEBGL_compressed_texture_astc"),u!==null){if(o===Cy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Py)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Ry)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Ly)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Iy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Ny)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Dy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Uy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===ky)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Oy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Fy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===By)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===zy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===Vy)return a===Yt?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===xg)if(u=e.get("EXT_texture_compression_bptc"),u!==null){if(o===xg)return a===Yt?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===$M||o===Hy||o===Gy||o===Wy)if(u=e.get("EXT_texture_compression_rgtc"),u!==null){if(o===xg)return u.COMPRESSED_RED_RGTC1_EXT;if(o===Hy)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===Gy)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Wy)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Vu?n?i.UNSIGNED_INT_24_8:(u=e.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null):i[o]!==void 0?i[o]:null}return{convert:r}}class AE extends Hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Of extends cn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const sN={type:"move"};class xv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Of,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Of,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Of,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,a=null;const u=this._targetRay,h=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const E of e.hand.values()){const M=t.getJointPose(E,n),_=this._getHandJoint(d,E);M!==null&&(_.matrix.fromArray(M.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=M.radius),_.visible=M!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=m.position.distanceTo(g.position),A=.02,S=.005;d.inputState.pinching&&v>A+S?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=A-S&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(sN)))}return u!==null&&(u.visible=r!==null),h!==null&&(h.visible=o!==null),d!==null&&(d.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Of;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class _E extends On{constructor(e,t,n,r,o,a,u,h,d,m){if(m=m!==void 0?m:Al,m!==Al&&m!==Xu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&m===Al&&(n=xl),n===void 0&&m===Xu&&(n=Vu),super(null,r,o,a,u,h,m,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=u!==void 0?u:ni,this.minFilter=h!==void 0?h:ni,this.flipY=!1,this.generateMipmaps=!1}}class oN extends Ma{constructor(e,t){super();const n=this;let r=null,o=1,a=null,u="local-floor",h=1,d=null,m=null,g=null,v=null,A=null,S=null;const E=t.getContextAttributes();let M=null,_=null;const C=[],b=[],L=new Set,D=new Map,U=new Hn;U.layers.enable(1),U.viewport=new vn;const z=new Hn;z.layers.enable(2),z.viewport=new vn;const V=[U,z],N=new AE;N.layers.enable(1),N.layers.enable(2);let F=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let ce=C[ae];return ce===void 0&&(ce=new xv,C[ae]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(ae){let ce=C[ae];return ce===void 0&&(ce=new xv,C[ae]=ce),ce.getGripSpace()},this.getHand=function(ae){let ce=C[ae];return ce===void 0&&(ce=new xv,C[ae]=ce),ce.getHandSpace()};function oe(ae){const ce=b.indexOf(ae.inputSource);if(ce===-1)return;const Ce=C[ce];Ce!==void 0&&(Ce.update(ae.inputSource,ae.frame,d||a),Ce.dispatchEvent({type:ae.type,data:ae.inputSource}))}function te(){r.removeEventListener("select",oe),r.removeEventListener("selectstart",oe),r.removeEventListener("selectend",oe),r.removeEventListener("squeeze",oe),r.removeEventListener("squeezestart",oe),r.removeEventListener("squeezeend",oe),r.removeEventListener("end",te),r.removeEventListener("inputsourceschange",se);for(let ae=0;ae<C.length;ae++){const ce=b[ae];ce!==null&&(b[ae]=null,C[ae].disconnect(ce))}F=null,K=null,e.setRenderTarget(M),A=null,v=null,g=null,r=null,_=null,ne.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){o=ae,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){u=ae,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||a},this.setReferenceSpace=function(ae){d=ae},this.getBaseLayer=function(){return v!==null?v:A},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(ae){if(r=ae,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",oe),r.addEventListener("selectstart",oe),r.addEventListener("selectend",oe),r.addEventListener("squeeze",oe),r.addEventListener("squeezestart",oe),r.addEventListener("squeezeend",oe),r.addEventListener("end",te),r.addEventListener("inputsourceschange",se),E.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ce={antialias:r.renderState.layers===void 0?E.antialias:!0,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:o};A=new XRWebGLLayer(r,t,ce),r.updateRenderState({baseLayer:A}),_=new Zs(A.framebufferWidth,A.framebufferHeight,{format:Ur,type:_a,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil})}else{let ce=null,Ce=null,Ee=null;E.depth&&(Ee=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ce=E.stencil?Xu:Al,Ce=E.stencil?Vu:xl);const $={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:o};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer($),r.updateRenderState({layers:[v]}),_=new Zs(v.textureWidth,v.textureHeight,{format:Ur,type:_a,depthTexture:new _E(v.textureWidth,v.textureHeight,Ce,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0});const Ge=e.properties.get(_);Ge.__ignoreDepthValues=v.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(h),d=null,a=await r.requestReferenceSpace(u),ne.setContext(r),ne.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function se(ae){for(let ce=0;ce<ae.removed.length;ce++){const Ce=ae.removed[ce],Ee=b.indexOf(Ce);Ee>=0&&(b[Ee]=null,C[Ee].disconnect(Ce))}for(let ce=0;ce<ae.added.length;ce++){const Ce=ae.added[ce];let Ee=b.indexOf(Ce);if(Ee===-1){for(let Ge=0;Ge<C.length;Ge++)if(Ge>=b.length){b.push(Ce),Ee=Ge;break}else if(b[Ge]===null){b[Ge]=Ce,Ee=Ge;break}if(Ee===-1)break}const $=C[Ee];$&&$.connect(Ce)}}const le=new G,ge=new G;function de(ae,ce,Ce){le.setFromMatrixPosition(ce.matrixWorld),ge.setFromMatrixPosition(Ce.matrixWorld);const Ee=le.distanceTo(ge),$=ce.projectionMatrix.elements,Ge=Ce.projectionMatrix.elements,$e=$[14]/($[10]-1),Ue=$[14]/($[10]+1),Oe=($[9]+1)/$[5],Re=($[9]-1)/$[5],Ae=($[8]-1)/$[0],Ne=(Ge[8]+1)/Ge[0],Ke=$e*Ae,Qe=$e*Ne,lt=Ee/(-Ae+Ne),yt=lt*-Ae;ce.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(yt),ae.translateZ(lt),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert();const ct=$e+lt,wt=Ue+lt,Ut=Ke-yt,Y=Qe+(Ee-yt),H=Oe*Ue/wt*ct,_e=Re*Ue/wt*ct;ae.projectionMatrix.makePerspective(Ut,Y,H,_e,ct,wt),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}function B(ae,ce){ce===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(ce.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(r===null)return;N.near=z.near=U.near=ae.near,N.far=z.far=U.far=ae.far,(F!==N.near||K!==N.far)&&(r.updateRenderState({depthNear:N.near,depthFar:N.far}),F=N.near,K=N.far);const ce=ae.parent,Ce=N.cameras;B(N,ce);for(let Ee=0;Ee<Ce.length;Ee++)B(Ce[Ee],ce);Ce.length===2?de(N,U,z):N.projectionMatrix.copy(U.projectionMatrix),Z(ae,N,ce)};function Z(ae,ce,Ce){Ce===null?ae.matrix.copy(ce.matrixWorld):(ae.matrix.copy(Ce.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(ce.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0);const Ee=ae.children;for(let $=0,Ge=Ee.length;$<Ge;$++)Ee[$].updateMatrixWorld(!0);ae.projectionMatrix.copy(ce.projectionMatrix),ae.projectionMatrixInverse.copy(ce.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Qf*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(v===null&&A===null))return h},this.setFoveation=function(ae){h=ae,v!==null&&(v.fixedFoveation=ae),A!==null&&A.fixedFoveation!==void 0&&(A.fixedFoveation=ae)},this.getPlanes=function(){return L};let k=null;function Q(ae,ce){if(m=ce.getViewerPose(d||a),S=ce,m!==null){const Ce=m.views;A!==null&&(e.setRenderTargetFramebuffer(_,A.framebuffer),e.setRenderTarget(_));let Ee=!1;Ce.length!==N.cameras.length&&(N.cameras.length=0,Ee=!0);for(let $=0;$<Ce.length;$++){const Ge=Ce[$];let $e=null;if(A!==null)$e=A.getViewport(Ge);else{const Oe=g.getViewSubImage(v,Ge);$e=Oe.viewport,$===0&&(e.setRenderTargetTextures(_,Oe.colorTexture,v.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(_))}let Ue=V[$];Ue===void 0&&(Ue=new Hn,Ue.layers.enable($),Ue.viewport=new vn,V[$]=Ue),Ue.matrix.fromArray(Ge.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(Ge.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set($e.x,$e.y,$e.width,$e.height),$===0&&(N.matrix.copy(Ue.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),Ee===!0&&N.cameras.push(Ue)}}for(let Ce=0;Ce<C.length;Ce++){const Ee=b[Ce],$=C[Ce];Ee!==null&&$!==void 0&&$.update(Ee,ce,d||a)}if(k&&k(ae,ce),ce.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:ce.detectedPlanes});let Ce=null;for(const Ee of L)ce.detectedPlanes.has(Ee)||(Ce===null&&(Ce=[]),Ce.push(Ee));if(Ce!==null)for(const Ee of Ce)L.delete(Ee),D.delete(Ee),n.dispatchEvent({type:"planeremoved",data:Ee});for(const Ee of ce.detectedPlanes)if(!L.has(Ee))L.add(Ee),D.set(Ee,ce.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Ee});else{const $=D.get(Ee);Ee.lastChangedTime>$&&(D.set(Ee,Ee.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Ee}))}}S=null}const ne=new pE;ne.setAnimationLoop(Q),this.setAnimationLoop=function(ae){k=ae},this.dispose=function(){}}}function aN(i,e){function t(M,_){M.matrixAutoUpdate===!0&&M.updateMatrix(),_.value.copy(M.matrix)}function n(M,_){_.color.getRGB(M.fogColor.value,hE(i)),_.isFog?(M.fogNear.value=_.near,M.fogFar.value=_.far):_.isFogExp2&&(M.fogDensity.value=_.density)}function r(M,_,C,b,L){_.isMeshBasicMaterial||_.isMeshLambertMaterial?o(M,_):_.isMeshToonMaterial?(o(M,_),g(M,_)):_.isMeshPhongMaterial?(o(M,_),m(M,_)):_.isMeshStandardMaterial?(o(M,_),v(M,_),_.isMeshPhysicalMaterial&&A(M,_,L)):_.isMeshMatcapMaterial?(o(M,_),S(M,_)):_.isMeshDepthMaterial?o(M,_):_.isMeshDistanceMaterial?(o(M,_),E(M,_)):_.isMeshNormalMaterial?o(M,_):_.isLineBasicMaterial?(a(M,_),_.isLineDashedMaterial&&u(M,_)):_.isPointsMaterial?h(M,_,C,b):_.isSpriteMaterial?d(M,_):_.isShadowMaterial?(M.color.value.copy(_.color),M.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function o(M,_){M.opacity.value=_.opacity,_.color&&M.diffuse.value.copy(_.color),_.emissive&&M.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(M.map.value=_.map,t(_.map,M.mapTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap,t(_.alphaMap,M.alphaMapTransform)),_.bumpMap&&(M.bumpMap.value=_.bumpMap,t(_.bumpMap,M.bumpMapTransform),M.bumpScale.value=_.bumpScale,_.side===mr&&(M.bumpScale.value*=-1)),_.normalMap&&(M.normalMap.value=_.normalMap,t(_.normalMap,M.normalMapTransform),M.normalScale.value.copy(_.normalScale),_.side===mr&&M.normalScale.value.negate()),_.displacementMap&&(M.displacementMap.value=_.displacementMap,t(_.displacementMap,M.displacementMapTransform),M.displacementScale.value=_.displacementScale,M.displacementBias.value=_.displacementBias),_.emissiveMap&&(M.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,M.emissiveMapTransform)),_.specularMap&&(M.specularMap.value=_.specularMap,t(_.specularMap,M.specularMapTransform)),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest);const C=e.get(_).envMap;if(C&&(M.envMap.value=C,M.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=_.reflectivity,M.ior.value=_.ior,M.refractionRatio.value=_.refractionRatio),_.lightMap){M.lightMap.value=_.lightMap;const b=i.useLegacyLights===!0?Math.PI:1;M.lightMapIntensity.value=_.lightMapIntensity*b,t(_.lightMap,M.lightMapTransform)}_.aoMap&&(M.aoMap.value=_.aoMap,M.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,M.aoMapTransform))}function a(M,_){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,_.map&&(M.map.value=_.map,t(_.map,M.mapTransform))}function u(M,_){M.dashSize.value=_.dashSize,M.totalSize.value=_.dashSize+_.gapSize,M.scale.value=_.scale}function h(M,_,C,b){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,M.size.value=_.size*C,M.scale.value=b*.5,_.map&&(M.map.value=_.map,t(_.map,M.uvTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest)}function d(M,_){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,M.rotation.value=_.rotation,_.map&&(M.map.value=_.map,t(_.map,M.mapTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest)}function m(M,_){M.specular.value.copy(_.specular),M.shininess.value=Math.max(_.shininess,1e-4)}function g(M,_){_.gradientMap&&(M.gradientMap.value=_.gradientMap)}function v(M,_){M.metalness.value=_.metalness,_.metalnessMap&&(M.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,M.metalnessMapTransform)),M.roughness.value=_.roughness,_.roughnessMap&&(M.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,M.roughnessMapTransform)),e.get(_).envMap&&(M.envMapIntensity.value=_.envMapIntensity)}function A(M,_,C){M.ior.value=_.ior,_.sheen>0&&(M.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),M.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(M.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,M.sheenColorMapTransform)),_.sheenRoughnessMap&&(M.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,M.sheenRoughnessMapTransform))),_.clearcoat>0&&(M.clearcoat.value=_.clearcoat,M.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(M.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,M.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(M.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===mr&&M.clearcoatNormalScale.value.negate())),_.iridescence>0&&(M.iridescence.value=_.iridescence,M.iridescenceIOR.value=_.iridescenceIOR,M.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(M.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,M.iridescenceMapTransform)),_.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),_.transmission>0&&(M.transmission.value=_.transmission,M.transmissionSamplerMap.value=C.texture,M.transmissionSamplerSize.value.set(C.width,C.height),_.transmissionMap&&(M.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,M.transmissionMapTransform)),M.thickness.value=_.thickness,_.thicknessMap&&(M.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=_.attenuationDistance,M.attenuationColor.value.copy(_.attenuationColor)),M.specularIntensity.value=_.specularIntensity,M.specularColor.value.copy(_.specularColor),_.specularColorMap&&(M.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,M.specularColorMapTransform)),_.specularIntensityMap&&(M.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,_){_.matcap&&(M.matcap.value=_.matcap)}function E(M,_){const C=e.get(_).light;M.referencePosition.value.setFromMatrixPosition(C.matrixWorld),M.nearDistance.value=C.shadow.camera.near,M.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function lN(i,e,t,n){let r={},o={},a=[];const u=t.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(C,b){const L=b.program;n.uniformBlockBinding(C,L)}function d(C,b){let L=r[C.id];L===void 0&&(S(C),L=m(C),r[C.id]=L,C.addEventListener("dispose",M));const D=b.program;n.updateUBOMapping(C,D);const U=e.render.frame;o[C.id]!==U&&(v(C),o[C.id]=U)}function m(C){const b=g();C.__bindingPointIndex=b;const L=i.createBuffer(),D=C.__size,U=C.usage;return i.bindBuffer(i.UNIFORM_BUFFER,L),i.bufferData(i.UNIFORM_BUFFER,D,U),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,b,L),L}function g(){for(let C=0;C<u;C++)if(a.indexOf(C)===-1)return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(C){const b=r[C.id],L=C.uniforms,D=C.__cache;i.bindBuffer(i.UNIFORM_BUFFER,b);for(let U=0,z=L.length;U<z;U++){const V=L[U];if(A(V,U,D)===!0){const N=V.__offset,F=Array.isArray(V.value)?V.value:[V.value];let K=0;for(let oe=0;oe<F.length;oe++){const te=F[oe],se=E(te);typeof te=="number"?(V.__data[0]=te,i.bufferSubData(i.UNIFORM_BUFFER,N+K,V.__data)):te.isMatrix3?(V.__data[0]=te.elements[0],V.__data[1]=te.elements[1],V.__data[2]=te.elements[2],V.__data[3]=te.elements[0],V.__data[4]=te.elements[3],V.__data[5]=te.elements[4],V.__data[6]=te.elements[5],V.__data[7]=te.elements[0],V.__data[8]=te.elements[6],V.__data[9]=te.elements[7],V.__data[10]=te.elements[8],V.__data[11]=te.elements[0]):(te.toArray(V.__data,K),K+=se.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,N,V.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function A(C,b,L){const D=C.value;if(L[b]===void 0){if(typeof D=="number")L[b]=D;else{const U=Array.isArray(D)?D:[D],z=[];for(let V=0;V<U.length;V++)z.push(U[V].clone());L[b]=z}return!0}else if(typeof D=="number"){if(L[b]!==D)return L[b]=D,!0}else{const U=Array.isArray(L[b])?L[b]:[L[b]],z=Array.isArray(D)?D:[D];for(let V=0;V<U.length;V++){const N=U[V];if(N.equals(z[V])===!1)return N.copy(z[V]),!0}}return!1}function S(C){const b=C.uniforms;let L=0;const D=16;let U=0;for(let z=0,V=b.length;z<V;z++){const N=b[z],F={boundary:0,storage:0},K=Array.isArray(N.value)?N.value:[N.value];for(let oe=0,te=K.length;oe<te;oe++){const se=K[oe],le=E(se);F.boundary+=le.boundary,F.storage+=le.storage}if(N.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=L,z>0){U=L%D;const oe=D-U;U!==0&&oe-F.boundary<0&&(L+=D-U,N.__offset=L)}L+=F.storage}return U=L%D,U>0&&(L+=D-U),C.__size=L,C.__cache={},this}function E(C){const b={boundary:0,storage:0};return typeof C=="number"?(b.boundary=4,b.storage=4):C.isVector2?(b.boundary=8,b.storage=8):C.isVector3||C.isColor?(b.boundary=16,b.storage=12):C.isVector4?(b.boundary=16,b.storage=16):C.isMatrix3?(b.boundary=48,b.storage=48):C.isMatrix4?(b.boundary=64,b.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),b}function M(C){const b=C.target;b.removeEventListener("dispose",M);const L=a.indexOf(b.__bindingPointIndex);a.splice(L,1),i.deleteBuffer(r[b.id]),delete r[b.id],delete o[b.id]}function _(){for(const C in r)i.deleteBuffer(r[C]);a=[],r={},o={}}return{bind:h,update:d,dispose:_}}function uN(){const i=zd("canvas");return i.style.display="block",i}class Wx{constructor(e={}){const{canvas:t=uN(),context:n=null,depth:r=!0,stencil:o=!0,alpha:a=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1}=e;this.isWebGLRenderer=!0;let v;n!==null?v=n.getContextAttributes().alpha:v=a;let A=null,S=null;const E=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Yt,this.useLegacyLights=!0,this.toneMapping=Qs,this.toneMappingExposure=1;const _=this;let C=!1,b=0,L=0,D=null,U=-1,z=null;const V=new vn,N=new vn;let F=null,K=t.width,oe=t.height,te=1,se=null,le=null;const ge=new vn(0,0,K,oe),de=new vn(0,0,K,oe);let B=!1;const Z=new Zg;let k=!1,Q=!1,ne=null;const ae=new Ft,ce=new G,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ee(){return D===null?te:1}let $=n;function Ge(j,ye){for(let Pe=0;Pe<j.length;Pe++){const me=j[Pe],Le=t.getContext(me,ye);if(Le!==null)return Le}return null}try{const j={alpha:!0,depth:r,stencil:o,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${jg}`),t.addEventListener("webglcontextlost",dt,!1),t.addEventListener("webglcontextrestored",ie,!1),t.addEventListener("webglcontextcreationerror",De,!1),$===null){const ye=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ye.shift(),$=Ge(ye,j),$===null)throw Ge(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let $e,Ue,Oe,Re,Ae,Ne,Ke,Qe,lt,yt,ct,wt,Ut,Y,H,_e,Fe,Ve,je,At,nt,be,st,_t;function St(){$e=new E3($),Ue=new x3($,$e,e),$e.init(Ue),be=new xE($,$e,Ue),Oe=new iN($,$e,Ue),Re=new C3($),Ae=new jI,Ne=new rN($,$e,Oe,Ae,Ue,be,Re),Ke=new _3(_),Qe=new M3(_),lt=new zP($,Ue),st=new v3($,$e,lt,Ue),yt=new T3($,lt,Re,st),ct=new I3($,yt,lt,Re),je=new L3($,Ue,Ne),_e=new A3(Ae),wt=new WI(_,Ke,Qe,$e,Ue,st,_e),Ut=new aN(_,Ae),Y=new YI,H=new $I($e,Ue),Ve=new g3(_,Ke,Qe,Oe,ct,v,h),Fe=new nN(_,ct,Ue),_t=new lN($,Re,Ue,Oe),At=new y3($,$e,Re,Ue),nt=new b3($,$e,Re,Ue),Re.programs=wt.programs,_.capabilities=Ue,_.extensions=$e,_.properties=Ae,_.renderLists=Y,_.shadowMap=Fe,_.state=Oe,_.info=Re}St();const it=new oN(_,$);this.xr=it,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const j=$e.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=$e.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(j){j!==void 0&&(te=j,this.setSize(K,oe,!1))},this.getSize=function(j){return j.set(K,oe)},this.setSize=function(j,ye,Pe=!0){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=j,oe=ye,t.width=Math.floor(j*te),t.height=Math.floor(ye*te),Pe===!0&&(t.style.width=j+"px",t.style.height=ye+"px"),this.setViewport(0,0,j,ye)},this.getDrawingBufferSize=function(j){return j.set(K*te,oe*te).floor()},this.setDrawingBufferSize=function(j,ye,Pe){K=j,oe=ye,te=Pe,t.width=Math.floor(j*Pe),t.height=Math.floor(ye*Pe),this.setViewport(0,0,j,ye)},this.getCurrentViewport=function(j){return j.copy(V)},this.getViewport=function(j){return j.copy(ge)},this.setViewport=function(j,ye,Pe,me){j.isVector4?ge.set(j.x,j.y,j.z,j.w):ge.set(j,ye,Pe,me),Oe.viewport(V.copy(ge).multiplyScalar(te).floor())},this.getScissor=function(j){return j.copy(de)},this.setScissor=function(j,ye,Pe,me){j.isVector4?de.set(j.x,j.y,j.z,j.w):de.set(j,ye,Pe,me),Oe.scissor(N.copy(de).multiplyScalar(te).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(j){Oe.setScissorTest(B=j)},this.setOpaqueSort=function(j){se=j},this.setTransparentSort=function(j){le=j},this.getClearColor=function(j){return j.copy(Ve.getClearColor())},this.setClearColor=function(){Ve.setClearColor.apply(Ve,arguments)},this.getClearAlpha=function(){return Ve.getClearAlpha()},this.setClearAlpha=function(){Ve.setClearAlpha.apply(Ve,arguments)},this.clear=function(j=!0,ye=!0,Pe=!0){let me=0;j&&(me|=$.COLOR_BUFFER_BIT),ye&&(me|=$.DEPTH_BUFFER_BIT),Pe&&(me|=$.STENCIL_BUFFER_BIT),$.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dt,!1),t.removeEventListener("webglcontextrestored",ie,!1),t.removeEventListener("webglcontextcreationerror",De,!1),Y.dispose(),H.dispose(),Ae.dispose(),Ke.dispose(),Qe.dispose(),ct.dispose(),st.dispose(),_t.dispose(),wt.dispose(),it.dispose(),it.removeEventListener("sessionstart",pt),it.removeEventListener("sessionend",en),ne&&(ne.dispose(),ne=null),Bt.stop()};function dt(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ie(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const j=Re.autoReset,ye=Fe.enabled,Pe=Fe.autoUpdate,me=Fe.needsUpdate,Le=Fe.type;St(),Re.autoReset=j,Fe.enabled=ye,Fe.autoUpdate=Pe,Fe.needsUpdate=me,Fe.type=Le}function De(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function et(j){const ye=j.target;ye.removeEventListener("dispose",et),ee(ye)}function ee(j){Se(j),Ae.remove(j)}function Se(j){const ye=Ae.get(j).programs;ye!==void 0&&(ye.forEach(function(Pe){wt.releaseProgram(Pe)}),j.isShaderMaterial&&wt.releaseShaderCache(j))}this.renderBufferDirect=function(j,ye,Pe,me,Le,mt){ye===null&&(ye=Ce);const Et=Le.isMesh&&Le.matrixWorld.determinant()<0,Pt=rc(j,ye,Pe,me,Le);Oe.setMaterial(me,Et);let kt=Pe.index,Vt=1;me.wireframe===!0&&(kt=yt.getWireframeAttribute(Pe),Vt=2);const Ht=Pe.drawRange,jt=Pe.attributes.position;let on=Ht.start*Vt,gi=(Ht.start+Ht.count)*Vt;mt!==null&&(on=Math.max(on,mt.start*Vt),gi=Math.min(gi,(mt.start+mt.count)*Vt)),kt!==null?(on=Math.max(on,0),gi=Math.min(gi,kt.count)):jt!=null&&(on=Math.max(on,0),gi=Math.min(gi,jt.count));const ir=gi-on;if(ir<0||ir===1/0)return;st.setup(Le,me,Pt,Pe,kt);let an,yn=At;if(kt!==null&&(an=lt.get(kt),yn=nt,yn.setIndex(an)),Le.isMesh)me.wireframe===!0?(Oe.setLineWidth(me.wireframeLinewidth*Ee()),yn.setMode($.LINES)):yn.setMode($.TRIANGLES);else if(Le.isLine){let Gt=me.linewidth;Gt===void 0&&(Gt=1),Oe.setLineWidth(Gt*Ee()),Le.isLineSegments?yn.setMode($.LINES):Le.isLineLoop?yn.setMode($.LINE_LOOP):yn.setMode($.LINE_STRIP)}else Le.isPoints?yn.setMode($.POINTS):Le.isSprite&&yn.setMode($.TRIANGLES);if(Le.isInstancedMesh)yn.renderInstances(on,ir,Le.count);else if(Pe.isInstancedBufferGeometry){const Gt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,to=Math.min(Pe.instanceCount,Gt);yn.renderInstances(on,ir,to)}else yn.render(on,ir)},this.compile=function(j,ye){function Pe(me,Le,mt){me.transparent===!0&&me.side===Xs&&me.forceSinglePass===!1?(me.side=mr,me.needsUpdate=!0,$s(me,Le,mt),me.side=Aa,me.needsUpdate=!0,$s(me,Le,mt),me.side=Xs):$s(me,Le,mt)}S=H.get(j),S.init(),M.push(S),j.traverseVisible(function(me){me.isLight&&me.layers.test(ye.layers)&&(S.pushLight(me),me.castShadow&&S.pushShadow(me))}),S.setupLights(_.useLegacyLights),j.traverse(function(me){const Le=me.material;if(Le)if(Array.isArray(Le))for(let mt=0;mt<Le.length;mt++){const Et=Le[mt];Pe(Et,j,me)}else Pe(Le,j,me)}),M.pop(),S=null};let ke=null;function Ye(j){ke&&ke(j)}function pt(){Bt.stop()}function en(){Bt.start()}const Bt=new pE;Bt.setAnimationLoop(Ye),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function(j){ke=j,it.setAnimationLoop(j),j===null?Bt.stop():Bt.start()},it.addEventListener("sessionstart",pt),it.addEventListener("sessionend",en),this.render=function(j,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(ye),ye=it.getCamera()),j.isScene===!0&&j.onBeforeRender(_,j,ye,D),S=H.get(j,M.length),S.init(),M.push(S),ae.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),Z.setFromProjectionMatrix(ae),Q=this.localClippingEnabled,k=_e.init(this.clippingPlanes,Q),A=Y.get(j,E.length),A.init(),E.push(A),dn(j,ye,0,_.sortObjects),A.finish(),_.sortObjects===!0&&A.sort(se,le),k===!0&&_e.beginShadows();const Pe=S.state.shadowsArray;if(Fe.render(Pe,j,ye),k===!0&&_e.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ve.render(A,j),S.setupLights(_.useLegacyLights),ye.isArrayCamera){const me=ye.cameras;for(let Le=0,mt=me.length;Le<mt;Le++){const Et=me[Le];ri(A,j,Et,Et.viewport)}}else ri(A,j,ye);D!==null&&(Ne.updateMultisampleRenderTarget(D),Ne.updateRenderTargetMipmap(D)),j.isScene===!0&&j.onAfterRender(_,j,ye),st.resetDefaultState(),U=-1,z=null,M.pop(),M.length>0?S=M[M.length-1]:S=null,E.pop(),E.length>0?A=E[E.length-1]:A=null};function dn(j,ye,Pe,me){if(j.visible===!1)return;if(j.layers.test(ye.layers)){if(j.isGroup)Pe=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(ye);else if(j.isLight)S.pushLight(j),j.castShadow&&S.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||Z.intersectsSprite(j)){me&&ce.setFromMatrixPosition(j.matrixWorld).applyMatrix4(ae);const Et=ct.update(j),Pt=j.material;Pt.visible&&A.push(j,Et,Pt,Pe,ce.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||Z.intersectsObject(j))){j.isSkinnedMesh&&j.skeleton.frame!==Re.render.frame&&(j.skeleton.update(),j.skeleton.frame=Re.render.frame);const Et=ct.update(j),Pt=j.material;if(me&&(Et.boundingSphere===null&&Et.computeBoundingSphere(),ce.copy(Et.boundingSphere.center).applyMatrix4(j.matrixWorld).applyMatrix4(ae)),Array.isArray(Pt)){const kt=Et.groups;for(let Vt=0,Ht=kt.length;Vt<Ht;Vt++){const jt=kt[Vt],on=Pt[jt.materialIndex];on&&on.visible&&A.push(j,Et,on,Pe,ce.z,jt)}}else Pt.visible&&A.push(j,Et,Pt,Pe,ce.z,null)}}const mt=j.children;for(let Et=0,Pt=mt.length;Et<Pt;Et++)dn(mt[Et],ye,Pe,me)}function ri(j,ye,Pe,me){const Le=j.opaque,mt=j.transmissive,Et=j.transparent;S.setupLightsView(Pe),k===!0&&_e.setGlobalState(_.clippingPlanes,Pe),mt.length>0&&rn(Le,mt,ye,Pe),me&&Oe.viewport(V.copy(me)),Le.length>0&&Nn(Le,ye,Pe),mt.length>0&&Nn(mt,ye,Pe),Et.length>0&&Nn(Et,ye,Pe),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function rn(j,ye,Pe,me){if(ne===null){const Pt=Ue.isWebGL2;ne=new Zs(1024,1024,{generateMipmaps:!0,type:$e.has("EXT_color_buffer_half_float")?Yf:_a,minFilter:Tl,samples:Pt&&u===!0?4:0})}const Le=_.getRenderTarget();_.setRenderTarget(ne),_.clear();const mt=_.toneMapping;_.toneMapping=Qs,Nn(j,Pe,me),Ne.updateMultisampleRenderTarget(ne),Ne.updateRenderTargetMipmap(ne);let Et=!1;for(let Pt=0,kt=ye.length;Pt<kt;Pt++){const Vt=ye[Pt],Ht=Vt.object,jt=Vt.geometry,on=Vt.material,gi=Vt.group;if(on.side===Xs&&Ht.layers.test(me.layers)){const ir=on.side;on.side=mr,on.needsUpdate=!0,Fn(Ht,Pe,me,jt,on,gi),on.side=ir,on.needsUpdate=!0,Et=!0}}Et===!0&&(Ne.updateMultisampleRenderTarget(ne),Ne.updateRenderTargetMipmap(ne)),_.setRenderTarget(Le),_.toneMapping=mt}function Nn(j,ye,Pe){const me=ye.isScene===!0?ye.overrideMaterial:null;for(let Le=0,mt=j.length;Le<mt;Le++){const Et=j[Le],Pt=Et.object,kt=Et.geometry,Vt=me===null?Et.material:me,Ht=Et.group;Pt.layers.test(Pe.layers)&&Fn(Pt,ye,Pe,kt,Vt,Ht)}}function Fn(j,ye,Pe,me,Le,mt){j.onBeforeRender(_,ye,Pe,me,Le,mt),j.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),Le.onBeforeRender(_,ye,Pe,me,j,mt),Le.transparent===!0&&Le.side===Xs&&Le.forceSinglePass===!1?(Le.side=mr,Le.needsUpdate=!0,_.renderBufferDirect(Pe,ye,me,Le,j,mt),Le.side=Aa,Le.needsUpdate=!0,_.renderBufferDirect(Pe,ye,me,Le,j,mt),Le.side=Xs):_.renderBufferDirect(Pe,ye,me,Le,j,mt),j.onAfterRender(_,ye,Pe,me,Le,mt)}function $s(j,ye,Pe){ye.isScene!==!0&&(ye=Ce);const me=Ae.get(j),Le=S.state.lights,mt=S.state.shadowsArray,Et=Le.state.version,Pt=wt.getParameters(j,Le.state,mt,ye,Pe),kt=wt.getProgramCacheKey(Pt);let Vt=me.programs;me.environment=j.isMeshStandardMaterial?ye.environment:null,me.fog=ye.fog,me.envMap=(j.isMeshStandardMaterial?Qe:Ke).get(j.envMap||me.environment),Vt===void 0&&(j.addEventListener("dispose",et),Vt=new Map,me.programs=Vt);let Ht=Vt.get(kt);if(Ht!==void 0){if(me.currentProgram===Ht&&me.lightsStateVersion===Et)return eo(j,Pt),Ht}else Pt.uniforms=wt.getUniforms(j),j.onBuild(Pe,Pt,_),j.onBeforeCompile(Pt,_),Ht=wt.acquireProgram(Pt,kt),Vt.set(kt,Ht),me.uniforms=Pt.uniforms;const jt=me.uniforms;(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(jt.clippingPlanes=_e.uniform),eo(j,Pt),me.needsLights=Ta(j),me.lightsStateVersion=Et,me.needsLights&&(jt.ambientLightColor.value=Le.state.ambient,jt.lightProbe.value=Le.state.probe,jt.directionalLights.value=Le.state.directional,jt.directionalLightShadows.value=Le.state.directionalShadow,jt.spotLights.value=Le.state.spot,jt.spotLightShadows.value=Le.state.spotShadow,jt.rectAreaLights.value=Le.state.rectArea,jt.ltc_1.value=Le.state.rectAreaLTC1,jt.ltc_2.value=Le.state.rectAreaLTC2,jt.pointLights.value=Le.state.point,jt.pointLightShadows.value=Le.state.pointShadow,jt.hemisphereLights.value=Le.state.hemi,jt.directionalShadowMap.value=Le.state.directionalShadowMap,jt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,jt.spotShadowMap.value=Le.state.spotShadowMap,jt.spotLightMatrix.value=Le.state.spotLightMatrix,jt.spotLightMap.value=Le.state.spotLightMap,jt.pointShadowMap.value=Le.state.pointShadowMap,jt.pointShadowMatrix.value=Le.state.pointShadowMatrix);const on=Ht.getUniforms(),gi=Sg.seqWithValue(on.seq,jt);return me.currentProgram=Ht,me.uniformsList=gi,Ht}function eo(j,ye){const Pe=Ae.get(j);Pe.outputColorSpace=ye.outputColorSpace,Pe.instancing=ye.instancing,Pe.skinning=ye.skinning,Pe.morphTargets=ye.morphTargets,Pe.morphNormals=ye.morphNormals,Pe.morphColors=ye.morphColors,Pe.morphTargetsCount=ye.morphTargetsCount,Pe.numClippingPlanes=ye.numClippingPlanes,Pe.numIntersection=ye.numClipIntersection,Pe.vertexAlphas=ye.vertexAlphas,Pe.vertexTangents=ye.vertexTangents,Pe.toneMapping=ye.toneMapping}function rc(j,ye,Pe,me,Le){ye.isScene!==!0&&(ye=Ce),Ne.resetTextureUnits();const mt=ye.fog,Et=me.isMeshStandardMaterial?ye.environment:null,Pt=D===null?_.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:qs,kt=(me.isMeshStandardMaterial?Qe:Ke).get(me.envMap||Et),Vt=me.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Ht=!!me.normalMap&&!!Pe.attributes.tangent,jt=!!Pe.morphAttributes.position,on=!!Pe.morphAttributes.normal,gi=!!Pe.morphAttributes.color,ir=me.toneMapped?_.toneMapping:Qs,an=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,yn=an!==void 0?an.length:0,Gt=Ae.get(me),to=S.state.lights;if(k===!0&&(Q===!0||j!==z)){const pn=j===z&&me.id===U;_e.setState(me,j,pn)}let Cn=!1;me.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==to.state.version||Gt.outputColorSpace!==Pt||Le.isInstancedMesh&&Gt.instancing===!1||!Le.isInstancedMesh&&Gt.instancing===!0||Le.isSkinnedMesh&&Gt.skinning===!1||!Le.isSkinnedMesh&&Gt.skinning===!0||Gt.envMap!==kt||me.fog===!0&&Gt.fog!==mt||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==_e.numPlanes||Gt.numIntersection!==_e.numIntersection)||Gt.vertexAlphas!==Vt||Gt.vertexTangents!==Ht||Gt.morphTargets!==jt||Gt.morphNormals!==on||Gt.morphColors!==gi||Gt.toneMapping!==ir||Ue.isWebGL2===!0&&Gt.morphTargetsCount!==yn)&&(Cn=!0):(Cn=!0,Gt.__version=me.version);let Fr=Gt.currentProgram;Cn===!0&&(Fr=$s(me,ye,Le));let rs=!1,vi=!1,qt=!1;const Ot=Fr.getUniforms(),xn=Gt.uniforms;if(Oe.useProgram(Fr.program)&&(rs=!0,vi=!0,qt=!0),me.id!==U&&(U=me.id,vi=!0),rs||z!==j){if(Ot.setValue($,"projectionMatrix",j.projectionMatrix),Ue.logarithmicDepthBuffer&&Ot.setValue($,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),z!==j&&(z=j,vi=!0,qt=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const pn=Ot.map.cameraPosition;pn!==void 0&&pn.setValue($,ce.setFromMatrixPosition(j.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Ot.setValue($,"isOrthographic",j.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||Le.isSkinnedMesh)&&Ot.setValue($,"viewMatrix",j.matrixWorldInverse)}if(Le.isSkinnedMesh){Ot.setOptional($,Le,"bindMatrix"),Ot.setOptional($,Le,"bindMatrixInverse");const pn=Le.skeleton;pn&&(Ue.floatVertexTextures?(pn.boneTexture===null&&pn.computeBoneTexture(),Ot.setValue($,"boneTexture",pn.boneTexture,Ne),Ot.setValue($,"boneTextureSize",pn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const jn=Pe.morphAttributes;if((jn.position!==void 0||jn.normal!==void 0||jn.color!==void 0&&Ue.isWebGL2===!0)&&je.update(Le,Pe,Fr),(vi||Gt.receiveShadow!==Le.receiveShadow)&&(Gt.receiveShadow=Le.receiveShadow,Ot.setValue($,"receiveShadow",Le.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(xn.envMap.value=kt,xn.flipEnvMap.value=kt.isCubeTexture&&kt.isRenderTargetTexture===!1?-1:1),vi&&(Ot.setValue($,"toneMappingExposure",_.toneMappingExposure),Gt.needsLights&&As(xn,qt),mt&&me.fog===!0&&Ut.refreshFogUniforms(xn,mt),Ut.refreshMaterialUniforms(xn,me,te,oe,ne),Sg.upload($,Gt.uniformsList,xn,Ne)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(Sg.upload($,Gt.uniformsList,xn,Ne),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Ot.setValue($,"center",Le.center),Ot.setValue($,"modelViewMatrix",Le.modelViewMatrix),Ot.setValue($,"normalMatrix",Le.normalMatrix),Ot.setValue($,"modelMatrix",Le.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const pn=me.uniformsGroups;for(let Br=0,zr=pn.length;Br<zr;Br++)if(Ue.isWebGL2){const Xn=pn[Br];_t.update(Xn,Fr),_t.bind(Xn,Fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Fr}function As(j,ye){j.ambientLightColor.needsUpdate=ye,j.lightProbe.needsUpdate=ye,j.directionalLights.needsUpdate=ye,j.directionalLightShadows.needsUpdate=ye,j.pointLights.needsUpdate=ye,j.pointLightShadows.needsUpdate=ye,j.spotLights.needsUpdate=ye,j.spotLightShadows.needsUpdate=ye,j.rectAreaLights.needsUpdate=ye,j.hemisphereLights.needsUpdate=ye}function Ta(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(j,ye,Pe){Ae.get(j.texture).__webglTexture=ye,Ae.get(j.depthTexture).__webglTexture=Pe;const me=Ae.get(j);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=Pe===void 0,me.__autoAllocateDepthBuffer||$e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(j,ye){const Pe=Ae.get(j);Pe.__webglFramebuffer=ye,Pe.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(j,ye=0,Pe=0){D=j,b=ye,L=Pe;let me=!0,Le=null,mt=!1,Et=!1;if(j){const kt=Ae.get(j);kt.__useDefaultFramebuffer!==void 0?(Oe.bindFramebuffer($.FRAMEBUFFER,null),me=!1):kt.__webglFramebuffer===void 0?Ne.setupRenderTarget(j):kt.__hasExternalTextures&&Ne.rebindTextures(j,Ae.get(j.texture).__webglTexture,Ae.get(j.depthTexture).__webglTexture);const Vt=j.texture;(Vt.isData3DTexture||Vt.isDataArrayTexture||Vt.isCompressedArrayTexture)&&(Et=!0);const Ht=Ae.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Le=Ht[ye],mt=!0):Ue.isWebGL2&&j.samples>0&&Ne.useMultisampledRTT(j)===!1?Le=Ae.get(j).__webglMultisampledFramebuffer:Le=Ht,V.copy(j.viewport),N.copy(j.scissor),F=j.scissorTest}else V.copy(ge).multiplyScalar(te).floor(),N.copy(de).multiplyScalar(te).floor(),F=B;if(Oe.bindFramebuffer($.FRAMEBUFFER,Le)&&Ue.drawBuffers&&me&&Oe.drawBuffers(j,Le),Oe.viewport(V),Oe.scissor(N),Oe.setScissorTest(F),mt){const kt=Ae.get(j.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+ye,kt.__webglTexture,Pe)}else if(Et){const kt=Ae.get(j.texture),Vt=ye||0;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,kt.__webglTexture,Pe||0,Vt)}U=-1},this.readRenderTargetPixels=function(j,ye,Pe,me,Le,mt,Et){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=Ae.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&Et!==void 0&&(Pt=Pt[Et]),Pt){Oe.bindFramebuffer($.FRAMEBUFFER,Pt);try{const kt=j.texture,Vt=kt.format,Ht=kt.type;if(Vt!==Ur&&be.convert(Vt)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const jt=Ht===Yf&&($e.has("EXT_color_buffer_half_float")||Ue.isWebGL2&&$e.has("EXT_color_buffer_float"));if(Ht!==_a&&be.convert(Ht)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ht===ma&&(Ue.isWebGL2||$e.has("OES_texture_float")||$e.has("WEBGL_color_buffer_float")))&&!jt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=j.width-me&&Pe>=0&&Pe<=j.height-Le&&$.readPixels(ye,Pe,me,Le,be.convert(Vt),be.convert(Ht),mt)}finally{const kt=D!==null?Ae.get(D).__webglFramebuffer:null;Oe.bindFramebuffer($.FRAMEBUFFER,kt)}}},this.copyFramebufferToTexture=function(j,ye,Pe=0){const me=Math.pow(2,-Pe),Le=Math.floor(ye.image.width*me),mt=Math.floor(ye.image.height*me);Ne.setTexture2D(ye,0),$.copyTexSubImage2D($.TEXTURE_2D,Pe,0,0,j.x,j.y,Le,mt),Oe.unbindTexture()},this.copyTextureToTexture=function(j,ye,Pe,me=0){const Le=ye.image.width,mt=ye.image.height,Et=be.convert(Pe.format),Pt=be.convert(Pe.type);Ne.setTexture2D(Pe,0),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,Pe.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,Pe.unpackAlignment),ye.isDataTexture?$.texSubImage2D($.TEXTURE_2D,me,j.x,j.y,Le,mt,Et,Pt,ye.image.data):ye.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,me,j.x,j.y,ye.mipmaps[0].width,ye.mipmaps[0].height,Et,ye.mipmaps[0].data):$.texSubImage2D($.TEXTURE_2D,me,j.x,j.y,Et,Pt,ye.image),me===0&&Pe.generateMipmaps&&$.generateMipmap($.TEXTURE_2D),Oe.unbindTexture()},this.copyTextureToTexture3D=function(j,ye,Pe,me,Le=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const mt=j.max.x-j.min.x+1,Et=j.max.y-j.min.y+1,Pt=j.max.z-j.min.z+1,kt=be.convert(me.format),Vt=be.convert(me.type);let Ht;if(me.isData3DTexture)Ne.setTexture3D(me,0),Ht=$.TEXTURE_3D;else if(me.isDataArrayTexture)Ne.setTexture2DArray(me,0),Ht=$.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,me.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,me.unpackAlignment);const jt=$.getParameter($.UNPACK_ROW_LENGTH),on=$.getParameter($.UNPACK_IMAGE_HEIGHT),gi=$.getParameter($.UNPACK_SKIP_PIXELS),ir=$.getParameter($.UNPACK_SKIP_ROWS),an=$.getParameter($.UNPACK_SKIP_IMAGES),yn=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;$.pixelStorei($.UNPACK_ROW_LENGTH,yn.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,yn.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,j.min.x),$.pixelStorei($.UNPACK_SKIP_ROWS,j.min.y),$.pixelStorei($.UNPACK_SKIP_IMAGES,j.min.z),Pe.isDataTexture||Pe.isData3DTexture?$.texSubImage3D(Ht,Le,ye.x,ye.y,ye.z,mt,Et,Pt,kt,Vt,yn.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(Ht,Le,ye.x,ye.y,ye.z,mt,Et,Pt,kt,yn.data)):$.texSubImage3D(Ht,Le,ye.x,ye.y,ye.z,mt,Et,Pt,kt,Vt,yn),$.pixelStorei($.UNPACK_ROW_LENGTH,jt),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,on),$.pixelStorei($.UNPACK_SKIP_PIXELS,gi),$.pixelStorei($.UNPACK_SKIP_ROWS,ir),$.pixelStorei($.UNPACK_SKIP_IMAGES,an),Le===0&&me.generateMipmaps&&$.generateMipmap(Ht),Oe.unbindTexture()},this.initTexture=function(j){j.isCubeTexture?Ne.setTextureCube(j,0):j.isData3DTexture?Ne.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?Ne.setTexture2DArray(j,0):Ne.setTexture2D(j,0),Oe.unbindTexture()},this.resetState=function(){b=0,L=0,D=null,Oe.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Yt?_l:Ix}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===_l?Yt:qs}}class SE extends Wx{}SE.prototype.isWebGL1Renderer=!0;class Jg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new at(e),this.density=t}clone(){return new Jg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class $g{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new at(e),this.near=t,this.far=n}clone(){return new $g(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Pg extends cn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class e0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Bd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hr=new G;class Yu{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)hr.fromBufferAttribute(this,t),hr.applyMatrix4(e),this.setXYZ(t,hr.x,hr.y,hr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)hr.fromBufferAttribute(this,t),hr.applyNormalMatrix(e),this.setXYZ(t,hr.x,hr.y,hr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)hr.fromBufferAttribute(this,t),hr.transformDirection(e),this.setXYZ(t,hr.x,hr.y,hr.z);return this}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=es(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=es(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=es(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=es(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),n=Kt(n,this.array),r=Kt(r,this.array),o=Kt(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new En(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Yu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class jx extends Wi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ef;const nd=new G,Tf=new G,bf=new G,Cf=new Ie,id=new Ie,wE=new Ft,Vm=new G,rd=new G,Hm=new G,v1=new Ie,Av=new Ie,y1=new Ie;class ME extends cn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ef===void 0){Ef=new Qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new e0(t,5);Ef.setIndex([0,1,2,0,2,3]),Ef.setAttribute("position",new Yu(n,3,0,!1)),Ef.setAttribute("uv",new Yu(n,2,3,!1))}this.geometry=Ef,this.material=e!==void 0?e:new jx,this.center=new Ie(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tf.setFromMatrixScale(this.matrixWorld),wE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tf.multiplyScalar(-bf.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const a=this.center;Gm(Vm.set(-.5,-.5,0),bf,a,Tf,r,o),Gm(rd.set(.5,-.5,0),bf,a,Tf,r,o),Gm(Hm.set(.5,.5,0),bf,a,Tf,r,o),v1.set(0,0),Av.set(1,0),y1.set(1,1);let u=e.ray.intersectTriangle(Vm,rd,Hm,!1,nd);if(u===null&&(Gm(rd.set(-.5,.5,0),bf,a,Tf,r,o),Av.set(0,1),u=e.ray.intersectTriangle(Vm,Hm,rd,!1,nd),u===null))return;const h=e.ray.origin.distanceTo(nd);h<e.near||h>e.far||t.push({distance:h,point:nd.clone(),uv:Dr.getInterpolation(nd,Vm,rd,Hm,v1,Av,y1,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Gm(i,e,t,n,r,o){Cf.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(id.x=o*Cf.x-r*Cf.y,id.y=r*Cf.x+o*Cf.y):id.copy(Cf),i.copy(e),i.x+=id.x,i.y+=id.y,i.applyMatrix4(wE)}const Wm=new G,x1=new G;class EE extends cn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Wm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Wm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Wm.setFromMatrixPosition(e.matrixWorld),x1.setFromMatrixPosition(this.matrixWorld);const n=Wm.distanceTo(x1)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const A1=new G,_1=new vn,S1=new vn,cN=new G,w1=new Ft,Pf=new G;class TE extends Li{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Po),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)Pf.fromBufferAttribute(t,n),this.applyBoneTransform(n,Pf),this.boundingBox.expandByPoint(Pf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ro),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)Pf.fromBufferAttribute(t,n),this.applyBoneTransform(n,Pf),this.boundingSphere.expandByPoint(Pf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;_1.fromBufferAttribute(r.attributes.skinIndex,e),S1.fromBufferAttribute(r.attributes.skinWeight,e),A1.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=S1.getComponent(o);if(a!==0){const u=_1.getComponent(o);w1.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(cN.copy(A1).applyMatrix4(w1),a)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Xx extends cn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jf extends On{constructor(e=null,t=1,n=1,r,o,a,u,h,d=ni,m=ni,g,v){super(null,a,u,h,d,m,r,o,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const M1=new Ft,fN=new Ft;class t0{constructor(e=[],t=[]){this.uuid=ts(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ft)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ft;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const u=e[o]?e[o].matrixWorld:fN;M1.multiplyMatrices(u,t[o]),M1.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new t0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=aE(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new jf(t,e,e,Ur,ma);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new Xx),this.bones.push(a),this.boneInverses.push(new Ft().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const a=t[r];e.bones.push(a.uuid);const u=n[r];e.boneInverses.push(u.toArray())}return e}}class Zf extends En{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rf=new Ft,E1=new Ft,jm=[],T1=new Po,hN=new Ft,sd=new Li,od=new Ro;class bE extends Li{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Zf(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,hN)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Po),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Rf),T1.copy(e.boundingBox).applyMatrix4(Rf),this.boundingBox.union(T1)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ro),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Rf),od.copy(e.boundingSphere).applyMatrix4(Rf),this.boundingSphere.union(od)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(sd.geometry=this.geometry,sd.material=this.material,sd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),od.copy(this.boundingSphere),od.applyMatrix4(n),e.ray.intersectsSphere(od)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,Rf),E1.multiplyMatrices(n,Rf),sd.matrixWorld=E1,sd.raycast(e,jm);for(let a=0,u=jm.length;a<u;a++){const h=jm[a];h.instanceId=o,h.object=this,t.push(h)}jm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Zf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class gr extends Wi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new at(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const b1=new G,C1=new G,P1=new Ft,_v=new nh,Xm=new Ro;class bl extends cn{constructor(e=new Qt,t=new gr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)b1.fromBufferAttribute(t,r-1),C1.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=b1.distanceTo(C1);e.setAttribute("lineDistance",new ht(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Xm.copy(n.boundingSphere),Xm.applyMatrix4(r),Xm.radius+=o,e.ray.intersectsSphere(Xm)===!1)return;P1.copy(r).invert(),_v.copy(e.ray).applyMatrix4(P1);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,d=new G,m=new G,g=new G,v=new G,A=this.isLineSegments?2:1,S=n.index,M=n.attributes.position;if(S!==null){const _=Math.max(0,a.start),C=Math.min(S.count,a.start+a.count);for(let b=_,L=C-1;b<L;b+=A){const D=S.getX(b),U=S.getX(b+1);if(d.fromBufferAttribute(M,D),m.fromBufferAttribute(M,U),_v.distanceSqToSegment(d,m,v,g)>h)continue;v.applyMatrix4(this.matrixWorld);const V=e.ray.origin.distanceTo(v);V<e.near||V>e.far||t.push({distance:V,point:g.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,a.start),C=Math.min(M.count,a.start+a.count);for(let b=_,L=C-1;b<L;b+=A){if(d.fromBufferAttribute(M,b),m.fromBufferAttribute(M,b+1),_v.distanceSqToSegment(d,m,v,g)>h)continue;v.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(v);U<e.near||U>e.far||t.push({distance:U,point:g.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}const R1=new G,L1=new G;class Lo extends bl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)R1.fromBufferAttribute(t,r),L1.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+R1.distanceTo(L1);e.setAttribute("lineDistance",new ht(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class CE extends bl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Yx extends Wi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const I1=new Ft,qy=new nh,Ym=new Ro,Qm=new G;class PE extends cn{constructor(e=new Qt,t=new Yx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ym.copy(n.boundingSphere),Ym.applyMatrix4(r),Ym.radius+=o,e.ray.intersectsSphere(Ym)===!1)return;I1.copy(r).invert(),qy.copy(e.ray).applyMatrix4(I1);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,d=n.index,g=n.attributes.position;if(d!==null){const v=Math.max(0,a.start),A=Math.min(d.count,a.start+a.count);for(let S=v,E=A;S<E;S++){const M=d.getX(S);Qm.fromBufferAttribute(g,M),N1(Qm,M,h,r,e,t,this)}}else{const v=Math.max(0,a.start),A=Math.min(g.count,a.start+a.count);for(let S=v,E=A;S<E;S++)Qm.fromBufferAttribute(g,S),N1(Qm,S,h,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function N1(i,e,t,n,r,o,a){const u=qy.distanceSqToPoint(i);if(u<t){const h=new G;qy.closestPointToPoint(i,h),h.applyMatrix4(n);const d=r.ray.origin.distanceTo(h);if(d<r.near||d>r.far)return;o.push({distance:d,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,object:a})}}class dN extends On{constructor(e,t,n,r,o,a,u,h,d){super(e,t,n,r,o,a,u,h,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ii,this.magFilter=o!==void 0?o:ii,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class pN extends On{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=ni,this.minFilter=ni,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qx extends On{constructor(e,t,n,r,o,a,u,h,d,m,g,v){super(null,a,u,h,d,m,r,o,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class mN extends Qx{constructor(e,t,n,r,o,a){super(e,t,n,o,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=tr}}class gN extends On{constructor(e,t,n,r,o,a,u,h,d){super(e,t,n,r,o,a,u,h,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ks{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let a;t?a=t:a=e*n[o-1];let u=0,h=o-1,d;for(;u<=h;)if(r=Math.floor(u+(h-u)/2),d=n[r]-a,d<0)u=r+1;else if(d>0)h=r-1;else{h=r;break}if(r=h,n[r]===a)return r/(o-1);const m=n[r],v=n[r+1]-m,A=(a-m)/v;return(r+A)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),u=this.getPoint(o),h=t||(a.isVector2?new Ie:new G);return h.copy(u).sub(a).normalize(),h}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new G,r=[],o=[],a=[],u=new G,h=new Ft;for(let A=0;A<=e;A++){const S=A/e;r[A]=this.getTangentAt(S,new G)}o[0]=new G,a[0]=new G;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),v<=d&&n.set(0,0,1),u.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],u),a[0].crossVectors(r[0],o[0]);for(let A=1;A<=e;A++){if(o[A]=o[A-1].clone(),a[A]=a[A-1].clone(),u.crossVectors(r[A-1],r[A]),u.length()>Number.EPSILON){u.normalize();const S=Math.acos(Zn(r[A-1].dot(r[A]),-1,1));o[A].applyMatrix4(h.makeRotationAxis(u,S))}a[A].crossVectors(r[A],o[A])}if(t===!0){let A=Math.acos(Zn(o[0].dot(o[e]),-1,1));A/=e,r[0].dot(u.crossVectors(o[0],o[e]))>0&&(A=-A);for(let S=1;S<=e;S++)o[S].applyMatrix4(h.makeRotationAxis(r[S],A*S)),a[S].crossVectors(r[S],o[S])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class n0 extends Ks{constructor(e=0,t=0,n=1,r=1,o=0,a=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=u,this.aRotation=h}getPoint(e,t){const n=t||new Ie,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const u=this.aStartAngle+e*o;let h=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=h-this.aX,A=d-this.aY;h=v*m-A*g+this.aX,d=v*g+A*m+this.aY}return n.set(h,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class RE extends n0{constructor(e,t,n,r,o,a){super(e,t,n,n,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function qx(){let i=0,e=0,t=0,n=0;function r(o,a,u,h){i=o,e=u,t=-3*o+3*a-2*u-h,n=2*o-2*a+u+h}return{initCatmullRom:function(o,a,u,h,d){r(a,u,d*(u-o),d*(h-a))},initNonuniformCatmullRom:function(o,a,u,h,d,m,g){let v=(a-o)/d-(u-o)/(d+m)+(u-a)/m,A=(u-a)/m-(h-a)/(m+g)+(h-u)/g;v*=m,A*=m,r(a,u,v,A)},calc:function(o){const a=o*o,u=a*o;return i+e*o+t*a+n*u}}}const qm=new G,Sv=new qx,wv=new qx,Mv=new qx;class LE extends Ks{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new G){const n=t,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let u=Math.floor(a),h=a-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:h===0&&u===o-1&&(u=o-2,h=1);let d,m;this.closed||u>0?d=r[(u-1)%o]:(qm.subVectors(r[0],r[1]).add(r[0]),d=qm);const g=r[u%o],v=r[(u+1)%o];if(this.closed||u+2<o?m=r[(u+2)%o]:(qm.subVectors(r[o-1],r[o-2]).add(r[o-1]),m=qm),this.curveType==="centripetal"||this.curveType==="chordal"){const A=this.curveType==="chordal"?.5:.25;let S=Math.pow(d.distanceToSquared(g),A),E=Math.pow(g.distanceToSquared(v),A),M=Math.pow(v.distanceToSquared(m),A);E<1e-4&&(E=1),S<1e-4&&(S=E),M<1e-4&&(M=E),Sv.initNonuniformCatmullRom(d.x,g.x,v.x,m.x,S,E,M),wv.initNonuniformCatmullRom(d.y,g.y,v.y,m.y,S,E,M),Mv.initNonuniformCatmullRom(d.z,g.z,v.z,m.z,S,E,M)}else this.curveType==="catmullrom"&&(Sv.initCatmullRom(d.x,g.x,v.x,m.x,this.tension),wv.initCatmullRom(d.y,g.y,v.y,m.y,this.tension),Mv.initCatmullRom(d.z,g.z,v.z,m.z,this.tension));return n.set(Sv.calc(h),wv.calc(h),Mv.calc(h)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new G().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function D1(i,e,t,n,r){const o=(n-e)*.5,a=(r-t)*.5,u=i*i,h=i*u;return(2*t-2*n+o+a)*h+(-3*t+3*n-2*o-a)*u+o*i+t}function vN(i,e){const t=1-i;return t*t*e}function yN(i,e){return 2*(1-i)*i*e}function xN(i,e){return i*i*e}function wd(i,e,t,n){return vN(i,e)+yN(i,t)+xN(i,n)}function AN(i,e){const t=1-i;return t*t*t*e}function _N(i,e){const t=1-i;return 3*t*t*i*e}function SN(i,e){return 3*(1-i)*i*i*e}function wN(i,e){return i*i*i*e}function Md(i,e,t,n,r){return AN(i,e)+_N(i,t)+SN(i,n)+wN(i,r)}class Zx extends Ks{constructor(e=new Ie,t=new Ie,n=new Ie,r=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ie){const n=t,r=this.v0,o=this.v1,a=this.v2,u=this.v3;return n.set(Md(e,r.x,o.x,a.x,u.x),Md(e,r.y,o.y,a.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IE extends Ks{constructor(e=new G,t=new G,n=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new G){const n=t,r=this.v0,o=this.v1,a=this.v2,u=this.v3;return n.set(Md(e,r.x,o.x,a.x,u.x),Md(e,r.y,o.y,a.y,u.y),Md(e,r.z,o.z,a.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i0 extends Ks{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NE extends Ks{constructor(e=new G,t=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new G){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new G){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Kx extends Ks{constructor(e=new Ie,t=new Ie,n=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ie){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(wd(e,r.x,o.x,a.x),wd(e,r.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Jx extends Ks{constructor(e=new G,t=new G,n=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new G){const n=t,r=this.v0,o=this.v1,a=this.v2;return n.set(wd(e,r.x,o.x,a.x),wd(e,r.y,o.y,a.y),wd(e,r.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $x extends Ks{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const n=t,r=this.points,o=(r.length-1)*e,a=Math.floor(o),u=o-a,h=r[a===0?a:a-1],d=r[a],m=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return n.set(D1(u,h.x,d.x,m.x,g.x),D1(u,h.y,d.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ie().fromArray(r))}return this}}var eA=Object.freeze({__proto__:null,ArcCurve:RE,CatmullRomCurve3:LE,CubicBezierCurve:Zx,CubicBezierCurve3:IE,EllipseCurve:n0,LineCurve:i0,LineCurve3:NE,QuadraticBezierCurve:Kx,QuadraticBezierCurve3:Jx,SplineCurve:$x});class DE extends Ks{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new i0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const a=r[o]-n,u=this.curves[o],h=u.getLength(),d=h===0?0:1-a/h;return u.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],u=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,h=a.getPoints(u);for(let d=0;d<h.length;d++){const m=h[d];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new eA[r.type]().fromJSON(r))}return this}}class Vd extends DE{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new i0(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new Kx(this.currentPoint.clone(),new Ie(e,t),new Ie(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,a){const u=new Zx(this.currentPoint.clone(),new Ie(e,t),new Ie(n,r),new Ie(o,a));return this.curves.push(u),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new $x(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,a){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,n,r,o,a),this}absarc(e,t,n,r,o,a){return this.absellipse(e,t,n,n,r,o,a),this}ellipse(e,t,n,r,o,a,u,h){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,n,r,o,a,u,h),this}absellipse(e,t,n,r,o,a,u,h){const d=new n0(e,t,n,r,o,a,u,h);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sh extends Qt{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Zn(r,0,Math.PI*2);const o=[],a=[],u=[],h=[],d=[],m=1/t,g=new G,v=new Ie,A=new G,S=new G,E=new G;let M=0,_=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:M=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,A.x=_*1,A.y=-M,A.z=_*0,E.copy(A),A.normalize(),h.push(A.x,A.y,A.z);break;case e.length-1:h.push(E.x,E.y,E.z);break;default:M=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,A.x=_*1,A.y=-M,A.z=_*0,S.copy(A),A.x+=E.x,A.y+=E.y,A.z+=E.z,A.normalize(),h.push(A.x,A.y,A.z),E.copy(S)}for(let C=0;C<=t;C++){const b=n+C*m*r,L=Math.sin(b),D=Math.cos(b);for(let U=0;U<=e.length-1;U++){g.x=e[U].x*L,g.y=e[U].y,g.z=e[U].x*D,a.push(g.x,g.y,g.z),v.x=C/t,v.y=U/(e.length-1),u.push(v.x,v.y);const z=h[3*U+0]*L,V=h[3*U+1],N=h[3*U+0]*D;d.push(z,V,N)}}for(let C=0;C<t;C++)for(let b=0;b<e.length-1;b++){const L=b+C*e.length,D=L,U=L+e.length,z=L+e.length+1,V=L+1;o.push(D,U,V),o.push(z,V,U)}this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("uv",new ht(u,2)),this.setAttribute("normal",new ht(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sh(e.points,e.segments,e.phiStart,e.phiLength)}}class ip extends sh{constructor(e=1,t=1,n=4,r=8){const o=new Vd;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new ip(e.radius,e.length,e.capSegments,e.radialSegments)}}class rp extends Qt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],a=[],u=[],h=[],d=new G,m=new Ie;a.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const A=n+g/t*r;d.x=e*Math.cos(A),d.y=e*Math.sin(A),a.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(a[v]/e+1)/2,m.y=(a[v+1]/e+1)/2,h.push(m.x,m.y)}for(let g=1;g<=t;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(u,3)),this.setAttribute("uv",new ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $u extends Qt{constructor(e=1,t=1,n=1,r=32,o=1,a=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:u,thetaLength:h};const d=this;r=Math.floor(r),o=Math.floor(o);const m=[],g=[],v=[],A=[];let S=0;const E=[],M=n/2;let _=0;C(),a===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(m),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(A,2));function C(){const L=new G,D=new G;let U=0;const z=(t-e)/n;for(let V=0;V<=o;V++){const N=[],F=V/o,K=F*(t-e)+e;for(let oe=0;oe<=r;oe++){const te=oe/r,se=te*h+u,le=Math.sin(se),ge=Math.cos(se);D.x=K*le,D.y=-F*n+M,D.z=K*ge,g.push(D.x,D.y,D.z),L.set(le,z,ge).normalize(),v.push(L.x,L.y,L.z),A.push(te,1-F),N.push(S++)}E.push(N)}for(let V=0;V<r;V++)for(let N=0;N<o;N++){const F=E[N][V],K=E[N+1][V],oe=E[N+1][V+1],te=E[N][V+1];m.push(F,K,te),m.push(K,oe,te),U+=6}d.addGroup(_,U,0),_+=U}function b(L){const D=S,U=new Ie,z=new G;let V=0;const N=L===!0?e:t,F=L===!0?1:-1;for(let oe=1;oe<=r;oe++)g.push(0,M*F,0),v.push(0,F,0),A.push(.5,.5),S++;const K=S;for(let oe=0;oe<=r;oe++){const se=oe/r*h+u,le=Math.cos(se),ge=Math.sin(se);z.x=N*ge,z.y=M*F,z.z=N*le,g.push(z.x,z.y,z.z),v.push(0,F,0),U.x=le*.5+.5,U.y=ge*.5*F+.5,A.push(U.x,U.y),S++}for(let oe=0;oe<r;oe++){const te=D+oe,se=K+oe;L===!0?m.push(se,se+1,te):m.push(se+1,se,te),V+=3}d.addGroup(_,V,L===!0?1:2),_+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $u(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sp extends $u{constructor(e=1,t=1,n=32,r=1,o=!1,a=0,u=Math.PI*2){super(0,e,t,n,r,o,a,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:u}}static fromJSON(e){return new sp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ea extends Qt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],a=[];u(r),d(n),m(),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(o.slice(),3)),this.setAttribute("uv",new ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(C){const b=new G,L=new G,D=new G;for(let U=0;U<t.length;U+=3)A(t[U+0],b),A(t[U+1],L),A(t[U+2],D),h(b,L,D,C)}function h(C,b,L,D){const U=D+1,z=[];for(let V=0;V<=U;V++){z[V]=[];const N=C.clone().lerp(L,V/U),F=b.clone().lerp(L,V/U),K=U-V;for(let oe=0;oe<=K;oe++)oe===0&&V===U?z[V][oe]=N:z[V][oe]=N.clone().lerp(F,oe/K)}for(let V=0;V<U;V++)for(let N=0;N<2*(U-V)-1;N++){const F=Math.floor(N/2);N%2===0?(v(z[V][F+1]),v(z[V+1][F]),v(z[V][F])):(v(z[V][F+1]),v(z[V+1][F+1]),v(z[V+1][F]))}}function d(C){const b=new G;for(let L=0;L<o.length;L+=3)b.x=o[L+0],b.y=o[L+1],b.z=o[L+2],b.normalize().multiplyScalar(C),o[L+0]=b.x,o[L+1]=b.y,o[L+2]=b.z}function m(){const C=new G;for(let b=0;b<o.length;b+=3){C.x=o[b+0],C.y=o[b+1],C.z=o[b+2];const L=M(C)/2/Math.PI+.5,D=_(C)/Math.PI+.5;a.push(L,1-D)}S(),g()}function g(){for(let C=0;C<a.length;C+=6){const b=a[C+0],L=a[C+2],D=a[C+4],U=Math.max(b,L,D),z=Math.min(b,L,D);U>.9&&z<.1&&(b<.2&&(a[C+0]+=1),L<.2&&(a[C+2]+=1),D<.2&&(a[C+4]+=1))}}function v(C){o.push(C.x,C.y,C.z)}function A(C,b){const L=C*3;b.x=e[L+0],b.y=e[L+1],b.z=e[L+2]}function S(){const C=new G,b=new G,L=new G,D=new G,U=new Ie,z=new Ie,V=new Ie;for(let N=0,F=0;N<o.length;N+=9,F+=6){C.set(o[N+0],o[N+1],o[N+2]),b.set(o[N+3],o[N+4],o[N+5]),L.set(o[N+6],o[N+7],o[N+8]),U.set(a[F+0],a[F+1]),z.set(a[F+2],a[F+3]),V.set(a[F+4],a[F+5]),D.copy(C).add(b).add(L).divideScalar(3);const K=M(D);E(U,F+0,C,K),E(z,F+2,b,K),E(V,F+4,L,K)}}function E(C,b,L,D){D<0&&C.x===1&&(a[b]=C.x-1),L.x===0&&L.z===0&&(a[b]=D/2/Math.PI+.5)}function M(C){return Math.atan2(C.z,-C.x)}function _(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ea(e.vertices,e.indices,e.radius,e.details)}}class op extends Ea{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new op(e.radius,e.detail)}}const Zm=new G,Km=new G,Ev=new G,Jm=new Dr;class UE extends Qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(Hu*t),a=e.getIndex(),u=e.getAttribute("position"),h=a?a.count:u.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),v={},A=[];for(let S=0;S<h;S+=3){a?(d[0]=a.getX(S),d[1]=a.getX(S+1),d[2]=a.getX(S+2)):(d[0]=S,d[1]=S+1,d[2]=S+2);const{a:E,b:M,c:_}=Jm;if(E.fromBufferAttribute(u,d[0]),M.fromBufferAttribute(u,d[1]),_.fromBufferAttribute(u,d[2]),Jm.getNormal(Ev),g[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const b=(C+1)%3,L=g[C],D=g[b],U=Jm[m[C]],z=Jm[m[b]],V=`${L}_${D}`,N=`${D}_${L}`;N in v&&v[N]?(Ev.dot(v[N].normal)<=o&&(A.push(U.x,U.y,U.z),A.push(z.x,z.y,z.z)),v[N]=null):V in v||(v[V]={index0:d[C],index1:d[b],normal:Ev.clone()})}}for(const S in v)if(v[S]){const{index0:E,index1:M}=v[S];Zm.fromBufferAttribute(u,E),Km.fromBufferAttribute(u,M),A.push(Zm.x,Zm.y,Zm.z),A.push(Km.x,Km.y,Km.z)}this.setAttribute("position",new ht(A,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Wu extends Vd{constructor(e){super(e),this.uuid=ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Vd().fromJSON(r))}return this}}const MN={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let o=kE(i,0,r,t,!0);const a=[];if(!o||o.next===o.prev)return a;let u,h,d,m,g,v,A;if(n&&(o=PN(i,e,o,t)),i.length>80*t){u=d=i[0],h=m=i[1];for(let S=t;S<r;S+=t)g=i[S],v=i[S+1],g<u&&(u=g),v<h&&(h=v),g>d&&(d=g),v>m&&(m=v);A=Math.max(d-u,m-h),A=A!==0?32767/A:0}return Hd(o,a,t,u,h,A,0),a}};function kE(i,e,t,n,r){let o,a;if(r===zN(i,e,t,n)>0)for(o=e;o<t;o+=n)a=U1(o,i[o],i[o+1],a);else for(o=t-n;o>=e;o-=n)a=U1(o,i[o],i[o+1],a);return a&&r0(a,a.next)&&(Wd(a),a=a.next),a}function Qu(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(r0(t,t.next)||Gn(t.prev,t,t.next)===0)){if(Wd(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Hd(i,e,t,n,r,o,a){if(!i)return;!a&&o&&DN(i,n,r,o);let u=i,h,d;for(;i.prev!==i.next;){if(h=i.prev,d=i.next,o?TN(i,n,r,o):EN(i)){e.push(h.i/t|0),e.push(i.i/t|0),e.push(d.i/t|0),Wd(i),i=d.next,u=d.next;continue}if(i=d,i===u){a?a===1?(i=bN(Qu(i),e,t),Hd(i,e,t,n,r,o,2)):a===2&&CN(i,e,t,n,r,o):Hd(Qu(i),e,t,n,r,o,1);break}}}function EN(i){const e=i.prev,t=i,n=i.next;if(Gn(e,t,n)>=0)return!1;const r=e.x,o=t.x,a=n.x,u=e.y,h=t.y,d=n.y,m=r<o?r<a?r:a:o<a?o:a,g=u<h?u<d?u:d:h<d?h:d,v=r>o?r>a?r:a:o>a?o:a,A=u>h?u>d?u:d:h>d?h:d;let S=n.next;for(;S!==e;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=A&&Ff(r,u,o,h,a,d,S.x,S.y)&&Gn(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function TN(i,e,t,n){const r=i.prev,o=i,a=i.next;if(Gn(r,o,a)>=0)return!1;const u=r.x,h=o.x,d=a.x,m=r.y,g=o.y,v=a.y,A=u<h?u<d?u:d:h<d?h:d,S=m<g?m<v?m:v:g<v?g:v,E=u>h?u>d?u:d:h>d?h:d,M=m>g?m>v?m:v:g>v?g:v,_=Zy(A,S,e,t,n),C=Zy(E,M,e,t,n);let b=i.prevZ,L=i.nextZ;for(;b&&b.z>=_&&L&&L.z<=C;){if(b.x>=A&&b.x<=E&&b.y>=S&&b.y<=M&&b!==r&&b!==a&&Ff(u,m,h,g,d,v,b.x,b.y)&&Gn(b.prev,b,b.next)>=0||(b=b.prevZ,L.x>=A&&L.x<=E&&L.y>=S&&L.y<=M&&L!==r&&L!==a&&Ff(u,m,h,g,d,v,L.x,L.y)&&Gn(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;b&&b.z>=_;){if(b.x>=A&&b.x<=E&&b.y>=S&&b.y<=M&&b!==r&&b!==a&&Ff(u,m,h,g,d,v,b.x,b.y)&&Gn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;L&&L.z<=C;){if(L.x>=A&&L.x<=E&&L.y>=S&&L.y<=M&&L!==r&&L!==a&&Ff(u,m,h,g,d,v,L.x,L.y)&&Gn(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function bN(i,e,t){let n=i;do{const r=n.prev,o=n.next.next;!r0(r,o)&&OE(r,n,n.next,o)&&Gd(r,o)&&Gd(o,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),Wd(n),Wd(n.next),n=i=o),n=n.next}while(n!==i);return Qu(n)}function CN(i,e,t,n,r,o){let a=i;do{let u=a.next.next;for(;u!==a.prev;){if(a.i!==u.i&&ON(a,u)){let h=FE(a,u);a=Qu(a,a.next),h=Qu(h,h.next),Hd(a,e,t,n,r,o,0),Hd(h,e,t,n,r,o,0);return}u=u.next}a=a.next}while(a!==i)}function PN(i,e,t,n){const r=[];let o,a,u,h,d;for(o=0,a=e.length;o<a;o++)u=e[o]*n,h=o<a-1?e[o+1]*n:i.length,d=kE(i,u,h,n,!1),d===d.next&&(d.steiner=!0),r.push(kN(d));for(r.sort(RN),o=0;o<r.length;o++)t=LN(r[o],t);return t}function RN(i,e){return i.x-e.x}function LN(i,e){const t=IN(i,e);if(!t)return e;const n=FE(t,i);return Qu(n,n.next),Qu(t,t.next)}function IN(i,e){let t=e,n=-1/0,r;const o=i.x,a=i.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=o&&v>n&&(n=v,r=t.x<t.next.x?t:t.next,v===o))return r}t=t.next}while(t!==e);if(!r)return null;const u=r,h=r.x,d=r.y;let m=1/0,g;t=r;do o>=t.x&&t.x>=h&&o!==t.x&&Ff(a<d?o:n,a,h,d,a<d?n:o,a,t.x,t.y)&&(g=Math.abs(a-t.y)/(o-t.x),Gd(t,i)&&(g<m||g===m&&(t.x>r.x||t.x===r.x&&NN(r,t)))&&(r=t,m=g)),t=t.next;while(t!==u);return r}function NN(i,e){return Gn(i.prev,i,e.prev)<0&&Gn(e.next,i,i.next)<0}function DN(i,e,t,n){let r=i;do r.z===0&&(r.z=Zy(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,UN(r)}function UN(i){let e,t,n,r,o,a,u,h,d=1;do{for(t=i,i=null,o=null,a=0;t;){for(a++,n=t,u=0,e=0;e<d&&(u++,n=n.nextZ,!!n);e++);for(h=d;u>0||h>0&&n;)u!==0&&(h===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,u--):(r=n,n=n.nextZ,h--),o?o.nextZ=r:i=r,r.prevZ=o,o=r;t=n}o.nextZ=null,d*=2}while(a>1);return i}function Zy(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function kN(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function Ff(i,e,t,n,r,o,a,u){return(r-a)*(e-u)>=(i-a)*(o-u)&&(i-a)*(n-u)>=(t-a)*(e-u)&&(t-a)*(o-u)>=(r-a)*(n-u)}function ON(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!FN(i,e)&&(Gd(i,e)&&Gd(e,i)&&BN(i,e)&&(Gn(i.prev,i,e.prev)||Gn(i,e.prev,e))||r0(i,e)&&Gn(i.prev,i,i.next)>0&&Gn(e.prev,e,e.next)>0)}function Gn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function r0(i,e){return i.x===e.x&&i.y===e.y}function OE(i,e,t,n){const r=eg(Gn(i,e,t)),o=eg(Gn(i,e,n)),a=eg(Gn(t,n,i)),u=eg(Gn(t,n,e));return!!(r!==o&&a!==u||r===0&&$m(i,t,e)||o===0&&$m(i,n,e)||a===0&&$m(t,i,n)||u===0&&$m(t,e,n))}function $m(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function eg(i){return i>0?1:i<0?-1:0}function FN(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&OE(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Gd(i,e){return Gn(i.prev,i,i.next)<0?Gn(i,e,i.next)>=0&&Gn(i,i.prev,e)>=0:Gn(i,e,i.prev)<0||Gn(i,i.next,e)<0}function BN(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,o=(i.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function FE(i,e){const t=new Ky(i.i,i.x,i.y),n=new Ky(e.i,e.x,e.y),r=i.next,o=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function U1(i,e,t,n){const r=new Ky(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Wd(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Ky(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function zN(i,e,t,n){let r=0;for(let o=e,a=t-n;o<t;o+=n)r+=(i[a]-i[o])*(i[o+1]+i[a+1]),a=o;return r}class To{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return To.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];k1(e),O1(n,e);let a=e.length;t.forEach(k1);for(let h=0;h<t.length;h++)r.push(a),a+=t[h].length,O1(n,t[h]);const u=MN.triangulate(n,r);for(let h=0;h<u.length;h+=3)o.push(u.slice(h,h+3));return o}}function k1(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function O1(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class ap extends Qt{constructor(e=new Wu([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let u=0,h=e.length;u<h;u++){const d=e[u];a(d)}this.setAttribute("position",new ht(r,3)),this.setAttribute("uv",new ht(o,2)),this.computeVertexNormals();function a(u){const h=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,A=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:A-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:VN;let b,L=!1,D,U,z,V;_&&(b=_.getSpacedPoints(m),L=!0,v=!1,D=_.computeFrenetFrames(m,!1),U=new G,z=new G,V=new G),v||(M=0,A=0,S=0,E=0);const N=u.extractPoints(d);let F=N.shape;const K=N.holes;if(!To.isClockWise(F)){F=F.reverse();for(let Re=0,Ae=K.length;Re<Ae;Re++){const Ne=K[Re];To.isClockWise(Ne)&&(K[Re]=Ne.reverse())}}const te=To.triangulateShape(F,K),se=F;for(let Re=0,Ae=K.length;Re<Ae;Re++){const Ne=K[Re];F=F.concat(Ne)}function le(Re,Ae,Ne){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Re.clone().addScaledVector(Ae,Ne)}const ge=F.length,de=te.length;function B(Re,Ae,Ne){let Ke,Qe,lt;const yt=Re.x-Ae.x,ct=Re.y-Ae.y,wt=Ne.x-Re.x,Ut=Ne.y-Re.y,Y=yt*yt+ct*ct,H=yt*Ut-ct*wt;if(Math.abs(H)>Number.EPSILON){const _e=Math.sqrt(Y),Fe=Math.sqrt(wt*wt+Ut*Ut),Ve=Ae.x-ct/_e,je=Ae.y+yt/_e,At=Ne.x-Ut/Fe,nt=Ne.y+wt/Fe,be=((At-Ve)*Ut-(nt-je)*wt)/(yt*Ut-ct*wt);Ke=Ve+yt*be-Re.x,Qe=je+ct*be-Re.y;const st=Ke*Ke+Qe*Qe;if(st<=2)return new Ie(Ke,Qe);lt=Math.sqrt(st/2)}else{let _e=!1;yt>Number.EPSILON?wt>Number.EPSILON&&(_e=!0):yt<-Number.EPSILON?wt<-Number.EPSILON&&(_e=!0):Math.sign(ct)===Math.sign(Ut)&&(_e=!0),_e?(Ke=-ct,Qe=yt,lt=Math.sqrt(Y)):(Ke=yt,Qe=ct,lt=Math.sqrt(Y/2))}return new Ie(Ke/lt,Qe/lt)}const Z=[];for(let Re=0,Ae=se.length,Ne=Ae-1,Ke=Re+1;Re<Ae;Re++,Ne++,Ke++)Ne===Ae&&(Ne=0),Ke===Ae&&(Ke=0),Z[Re]=B(se[Re],se[Ne],se[Ke]);const k=[];let Q,ne=Z.concat();for(let Re=0,Ae=K.length;Re<Ae;Re++){const Ne=K[Re];Q=[];for(let Ke=0,Qe=Ne.length,lt=Qe-1,yt=Ke+1;Ke<Qe;Ke++,lt++,yt++)lt===Qe&&(lt=0),yt===Qe&&(yt=0),Q[Ke]=B(Ne[Ke],Ne[lt],Ne[yt]);k.push(Q),ne=ne.concat(Q)}for(let Re=0;Re<M;Re++){const Ae=Re/M,Ne=A*Math.cos(Ae*Math.PI/2),Ke=S*Math.sin(Ae*Math.PI/2)+E;for(let Qe=0,lt=se.length;Qe<lt;Qe++){const yt=le(se[Qe],Z[Qe],Ke);$(yt.x,yt.y,-Ne)}for(let Qe=0,lt=K.length;Qe<lt;Qe++){const yt=K[Qe];Q=k[Qe];for(let ct=0,wt=yt.length;ct<wt;ct++){const Ut=le(yt[ct],Q[ct],Ke);$(Ut.x,Ut.y,-Ne)}}}const ae=S+E;for(let Re=0;Re<ge;Re++){const Ae=v?le(F[Re],ne[Re],ae):F[Re];L?(z.copy(D.normals[0]).multiplyScalar(Ae.x),U.copy(D.binormals[0]).multiplyScalar(Ae.y),V.copy(b[0]).add(z).add(U),$(V.x,V.y,V.z)):$(Ae.x,Ae.y,0)}for(let Re=1;Re<=m;Re++)for(let Ae=0;Ae<ge;Ae++){const Ne=v?le(F[Ae],ne[Ae],ae):F[Ae];L?(z.copy(D.normals[Re]).multiplyScalar(Ne.x),U.copy(D.binormals[Re]).multiplyScalar(Ne.y),V.copy(b[Re]).add(z).add(U),$(V.x,V.y,V.z)):$(Ne.x,Ne.y,g/m*Re)}for(let Re=M-1;Re>=0;Re--){const Ae=Re/M,Ne=A*Math.cos(Ae*Math.PI/2),Ke=S*Math.sin(Ae*Math.PI/2)+E;for(let Qe=0,lt=se.length;Qe<lt;Qe++){const yt=le(se[Qe],Z[Qe],Ke);$(yt.x,yt.y,g+Ne)}for(let Qe=0,lt=K.length;Qe<lt;Qe++){const yt=K[Qe];Q=k[Qe];for(let ct=0,wt=yt.length;ct<wt;ct++){const Ut=le(yt[ct],Q[ct],Ke);L?$(Ut.x,Ut.y+b[m-1].y,b[m-1].x+Ne):$(Ut.x,Ut.y,g+Ne)}}}ce(),Ce();function ce(){const Re=r.length/3;if(v){let Ae=0,Ne=ge*Ae;for(let Ke=0;Ke<de;Ke++){const Qe=te[Ke];Ge(Qe[2]+Ne,Qe[1]+Ne,Qe[0]+Ne)}Ae=m+M*2,Ne=ge*Ae;for(let Ke=0;Ke<de;Ke++){const Qe=te[Ke];Ge(Qe[0]+Ne,Qe[1]+Ne,Qe[2]+Ne)}}else{for(let Ae=0;Ae<de;Ae++){const Ne=te[Ae];Ge(Ne[2],Ne[1],Ne[0])}for(let Ae=0;Ae<de;Ae++){const Ne=te[Ae];Ge(Ne[0]+ge*m,Ne[1]+ge*m,Ne[2]+ge*m)}}n.addGroup(Re,r.length/3-Re,0)}function Ce(){const Re=r.length/3;let Ae=0;Ee(se,Ae),Ae+=se.length;for(let Ne=0,Ke=K.length;Ne<Ke;Ne++){const Qe=K[Ne];Ee(Qe,Ae),Ae+=Qe.length}n.addGroup(Re,r.length/3-Re,1)}function Ee(Re,Ae){let Ne=Re.length;for(;--Ne>=0;){const Ke=Ne;let Qe=Ne-1;Qe<0&&(Qe=Re.length-1);for(let lt=0,yt=m+M*2;lt<yt;lt++){const ct=ge*lt,wt=ge*(lt+1),Ut=Ae+Ke+ct,Y=Ae+Qe+ct,H=Ae+Qe+wt,_e=Ae+Ke+wt;$e(Ut,Y,H,_e)}}}function $(Re,Ae,Ne){h.push(Re),h.push(Ae),h.push(Ne)}function Ge(Re,Ae,Ne){Ue(Re),Ue(Ae),Ue(Ne);const Ke=r.length/3,Qe=C.generateTopUV(n,r,Ke-3,Ke-2,Ke-1);Oe(Qe[0]),Oe(Qe[1]),Oe(Qe[2])}function $e(Re,Ae,Ne,Ke){Ue(Re),Ue(Ae),Ue(Ke),Ue(Ae),Ue(Ne),Ue(Ke);const Qe=r.length/3,lt=C.generateSideWallUV(n,r,Qe-6,Qe-3,Qe-2,Qe-1);Oe(lt[0]),Oe(lt[1]),Oe(lt[3]),Oe(lt[1]),Oe(lt[2]),Oe(lt[3])}function Ue(Re){r.push(h[Re*3+0]),r.push(h[Re*3+1]),r.push(h[Re*3+2])}function Oe(Re){o.push(Re.x),o.push(Re.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return HN(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,a=e.shapes.length;o<a;o++){const u=t[e.shapes[o]];n.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new eA[r.type]().fromJSON(r)),new ap(n,e.options)}}const VN={generateTopUV:function(i,e,t,n,r){const o=e[t*3],a=e[t*3+1],u=e[n*3],h=e[n*3+1],d=e[r*3],m=e[r*3+1];return[new Ie(o,a),new Ie(u,h),new Ie(d,m)]},generateSideWallUV:function(i,e,t,n,r,o){const a=e[t*3],u=e[t*3+1],h=e[t*3+2],d=e[n*3],m=e[n*3+1],g=e[n*3+2],v=e[r*3],A=e[r*3+1],S=e[r*3+2],E=e[o*3],M=e[o*3+1],_=e[o*3+2];return Math.abs(u-m)<Math.abs(a-d)?[new Ie(a,1-h),new Ie(d,1-g),new Ie(v,1-S),new Ie(E,1-_)]:[new Ie(u,1-h),new Ie(m,1-g),new Ie(A,1-S),new Ie(M,1-_)]}};function HN(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const o=i[n];t.shapes.push(o.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class lp extends Ea{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lp(e.radius,e.detail)}}class oh extends Ea{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new oh(e.radius,e.detail)}}class up extends Qt{constructor(e=.5,t=1,n=32,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const u=[],h=[],d=[],m=[];let g=e;const v=(t-e)/r,A=new G,S=new Ie;for(let E=0;E<=r;E++){for(let M=0;M<=n;M++){const _=o+M/n*a;A.x=g*Math.cos(_),A.y=g*Math.sin(_),h.push(A.x,A.y,A.z),d.push(0,0,1),S.x=(A.x/t+1)/2,S.y=(A.y/t+1)/2,m.push(S.x,S.y)}g+=v}for(let E=0;E<r;E++){const M=E*(n+1);for(let _=0;_<n;_++){const C=_+M,b=C,L=C+n+1,D=C+n+2,U=C+1;u.push(b,L,U),u.push(L,D,U)}}this.setIndex(u),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new up(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cp extends Qt{constructor(e=new Wu([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],a=[];let u=0,h=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(n),this.setAttribute("position",new ht(r,3)),this.setAttribute("normal",new ht(o,3)),this.setAttribute("uv",new ht(a,2));function d(m){const g=r.length/3,v=m.extractPoints(t);let A=v.shape;const S=v.holes;To.isClockWise(A)===!1&&(A=A.reverse());for(let M=0,_=S.length;M<_;M++){const C=S[M];To.isClockWise(C)===!0&&(S[M]=C.reverse())}const E=To.triangulateShape(A,S);for(let M=0,_=S.length;M<_;M++){const C=S[M];A=A.concat(C)}for(let M=0,_=A.length;M<_;M++){const C=A[M];r.push(C.x,C.y,0),o.push(0,0,1),a.push(C.x,C.y)}for(let M=0,_=E.length;M<_;M++){const C=E[M],b=C[0]+g,L=C[1]+g,D=C[2]+g;n.push(b,L,D),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return GN(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=t[e.shapes[r]];n.push(a)}return new cp(n,e.curveSegments)}}function GN(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class ah extends Qt{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,a=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:a,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const h=Math.min(a+u,Math.PI);let d=0;const m=[],g=new G,v=new G,A=[],S=[],E=[],M=[];for(let _=0;_<=n;_++){const C=[],b=_/n;let L=0;_===0&&a===0?L=.5/t:_===n&&h===Math.PI&&(L=-.5/t);for(let D=0;D<=t;D++){const U=D/t;g.x=-e*Math.cos(r+U*o)*Math.sin(a+b*u),g.y=e*Math.cos(a+b*u),g.z=e*Math.sin(r+U*o)*Math.sin(a+b*u),S.push(g.x,g.y,g.z),v.copy(g).normalize(),E.push(v.x,v.y,v.z),M.push(U+L,1-b),C.push(d++)}m.push(C)}for(let _=0;_<n;_++)for(let C=0;C<t;C++){const b=m[_][C+1],L=m[_][C],D=m[_+1][C],U=m[_+1][C+1];(_!==0||a>0)&&A.push(b,L,U),(_!==n-1||h<Math.PI)&&A.push(L,D,U)}this.setIndex(A),this.setAttribute("position",new ht(S,3)),this.setAttribute("normal",new ht(E,3)),this.setAttribute("uv",new ht(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ah(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fp extends Ea{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fp(e.radius,e.detail)}}class hp extends Qt{constructor(e=1,t=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const a=[],u=[],h=[],d=[],m=new G,g=new G,v=new G;for(let A=0;A<=n;A++)for(let S=0;S<=r;S++){const E=S/r*o,M=A/n*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(E),g.y=(e+t*Math.cos(M))*Math.sin(E),g.z=t*Math.sin(M),u.push(g.x,g.y,g.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),v.subVectors(g,m).normalize(),h.push(v.x,v.y,v.z),d.push(S/r),d.push(A/n)}for(let A=1;A<=n;A++)for(let S=1;S<=r;S++){const E=(r+1)*A+S-1,M=(r+1)*(A-1)+S-1,_=(r+1)*(A-1)+S,C=(r+1)*A+S;a.push(E,M,C),a.push(M,_,C)}this.setIndex(a),this.setAttribute("position",new ht(u,3)),this.setAttribute("normal",new ht(h,3)),this.setAttribute("uv",new ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class dp extends Qt{constructor(e=1,t=.4,n=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:a},n=Math.floor(n),r=Math.floor(r);const u=[],h=[],d=[],m=[],g=new G,v=new G,A=new G,S=new G,E=new G,M=new G,_=new G;for(let b=0;b<=n;++b){const L=b/n*o*Math.PI*2;C(L,o,a,e,A),C(L+.01,o,a,e,S),M.subVectors(S,A),_.addVectors(S,A),E.crossVectors(M,_),_.crossVectors(E,M),E.normalize(),_.normalize();for(let D=0;D<=r;++D){const U=D/r*Math.PI*2,z=-t*Math.cos(U),V=t*Math.sin(U);g.x=A.x+(z*_.x+V*E.x),g.y=A.y+(z*_.y+V*E.y),g.z=A.z+(z*_.z+V*E.z),h.push(g.x,g.y,g.z),v.subVectors(g,A).normalize(),d.push(v.x,v.y,v.z),m.push(b/n),m.push(D/r)}}for(let b=1;b<=n;b++)for(let L=1;L<=r;L++){const D=(r+1)*(b-1)+(L-1),U=(r+1)*b+(L-1),z=(r+1)*b+L,V=(r+1)*(b-1)+L;u.push(D,U,V),u.push(U,z,V)}this.setIndex(u),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(m,2));function C(b,L,D,U,z){const V=Math.cos(b),N=Math.sin(b),F=D/L*b,K=Math.cos(F);z.x=U*(2+K)*.5*V,z.y=U*(2+K)*N*.5,z.z=U*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class pp extends Qt{constructor(e=new Jx(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const u=new G,h=new G,d=new Ie;let m=new G;const g=[],v=[],A=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new ht(g,3)),this.setAttribute("normal",new ht(v,3)),this.setAttribute("uv",new ht(A,2));function E(){for(let b=0;b<t;b++)M(b);M(o===!1?t:0),C(),_()}function M(b){m=e.getPointAt(b/t,m);const L=a.normals[b],D=a.binormals[b];for(let U=0;U<=r;U++){const z=U/r*Math.PI*2,V=Math.sin(z),N=-Math.cos(z);h.x=N*L.x+V*D.x,h.y=N*L.y+V*D.y,h.z=N*L.z+V*D.z,h.normalize(),v.push(h.x,h.y,h.z),u.x=m.x+n*h.x,u.y=m.y+n*h.y,u.z=m.z+n*h.z,g.push(u.x,u.y,u.z)}}function _(){for(let b=1;b<=t;b++)for(let L=1;L<=r;L++){const D=(r+1)*(b-1)+(L-1),U=(r+1)*b+(L-1),z=(r+1)*b+L,V=(r+1)*(b-1)+L;S.push(D,U,V),S.push(U,z,V)}}function C(){for(let b=0;b<=t;b++)for(let L=0;L<=r;L++)d.x=b/t,d.y=L/r,A.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new pp(new eA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class BE extends Qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new G,o=new G;if(e.index!==null){const a=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let d=0,m=h.length;d<m;++d){const g=h[d],v=g.start,A=g.count;for(let S=v,E=v+A;S<E;S+=3)for(let M=0;M<3;M++){const _=u.getX(S+M),C=u.getX(S+(M+1)%3);r.fromBufferAttribute(a,_),o.fromBufferAttribute(a,C),F1(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let u=0,h=a.count/3;u<h;u++)for(let d=0;d<3;d++){const m=3*u+d,g=3*u+(d+1)%3;r.fromBufferAttribute(a,m),o.fromBufferAttribute(a,g),F1(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function F1(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var B1=Object.freeze({__proto__:null,BoxGeometry:Il,CapsuleGeometry:ip,CircleGeometry:rp,ConeGeometry:sp,CylinderGeometry:$u,DodecahedronGeometry:op,EdgesGeometry:UE,ExtrudeGeometry:ap,IcosahedronGeometry:lp,LatheGeometry:sh,OctahedronGeometry:oh,PlaneGeometry:ih,PolyhedronGeometry:Ea,RingGeometry:up,ShapeGeometry:cp,SphereGeometry:ah,TetrahedronGeometry:fp,TorusGeometry:hp,TorusKnotGeometry:dp,TubeGeometry:pp,WireframeGeometry:BE});class zE extends Wi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class VE extends Co{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class tA extends Wi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HE extends tA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class GE extends Wi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WE extends Wi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class jE extends Wi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class XE extends Wi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ep,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YE extends Wi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rl,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QE extends gr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xs(i,e,t){return nA(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}function Fu(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function nA(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function qE(i){function e(r,o){return i[r]-i[o]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function Jy(i,e,t){const n=i.length,r=new i.constructor(n);for(let o=0,a=0;a!==n;++o){const u=t[o]*e;for(let h=0;h!==e;++h)r[a++]=i[u+h]}return r}function iA(i,e,t,n){let r=1,o=i[0];for(;o!==void 0&&o[n]===void 0;)o=i[r++];if(o===void 0)return;let a=o[n];if(a!==void 0)if(Array.isArray(a))do a=o[n],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=i[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[n],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=i[r++];while(o!==void 0);else do a=o[n],a!==void 0&&(e.push(o.time),t.push(a)),o=i[r++];while(o!==void 0)}function WN(i,e,t,n,r=30){const o=i.clone();o.name=e;const a=[];for(let h=0;h<o.tracks.length;++h){const d=o.tracks[h],m=d.getValueSize(),g=[],v=[];for(let A=0;A<d.times.length;++A){const S=d.times[A]*r;if(!(S<t||S>=n)){g.push(d.times[A]);for(let E=0;E<m;++E)v.push(d.values[A*m+E])}}g.length!==0&&(d.times=Fu(g,d.times.constructor),d.values=Fu(v,d.values.constructor),a.push(d))}o.tracks=a;let u=1/0;for(let h=0;h<o.tracks.length;++h)u>o.tracks[h].times[0]&&(u=o.tracks[h].times[0]);for(let h=0;h<o.tracks.length;++h)o.tracks[h].shift(-1*u);return o.resetDuration(),o}function jN(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let a=0;a<r;++a){const u=t.tracks[a],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const d=i.tracks.find(function(_){return _.name===u.name&&_.ValueTypeName===h});if(d===void 0)continue;let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const A=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=A/3);const S=u.times.length-1;let E;if(o<=u.times[0]){const _=m,C=g-m;E=xs(u.values,_,C)}else if(o>=u.times[S]){const _=S*g+m,C=_+g-m;E=xs(u.values,_,C)}else{const _=u.createInterpolant(),C=m,b=g-m;_.evaluate(o),E=xs(_.resultBuffer,C,b)}h==="quaternion"&&new nr().fromArray(E).normalize().conjugate().toArray(E);const M=d.times.length;for(let _=0;_<M;++_){const C=_*A+v;if(h==="quaternion")nr.multiplyQuaternionsFlat(d.values,C,E,0,d.values,C);else{const b=A-v*2;for(let L=0;L<b;++L)d.values[C+L]-=E[L]}}}return i.blendMode=Lx,i}const XN={arraySlice:xs,convertArray:Fu,isTypedArray:nA,getKeyframeOrder:qE,sortedArray:Jy,flattenJSON:iA,subclip:WN,makeClipAdditive:jN};class mp{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let a;n:{i:if(!(e<r)){for(let u=n+2;;){if(r===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(o=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=o)){const u=t[1];e<u&&(n=2,o=u);for(let h=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(r=o,o=t[--n-1],e>=o)break t}a=n,n=0;break n}break e}for(;n<a;){const u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)t[a]=n[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZE extends mp{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Uu,endingEnd:Uu}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,a=e+1,u=r[o],h=r[a];if(u===void 0)switch(this.getSettings_().endingStart){case ku:o=e,u=2*t-n;break;case Fd:o=r.length-2,u=t+r[o]-r[o+1];break;default:o=e,u=n}if(h===void 0)switch(this.getSettings_().endingEnd){case ku:a=e,h=2*n-t;break;case Fd:a=1,h=n+r[1]-r[0];break;default:a=e-1,h=t}const d=(n-t)*.5,m=this.valueSize;this._weightPrev=d/(t-u),this._weightNext=d/(h-n),this._offsetPrev=o*m,this._offsetNext=a*m}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,A=this._weightNext,S=(n-t)/(r-t),E=S*S,M=E*S,_=-v*M+2*v*E-v*S,C=(1+v)*M+(-1.5-2*v)*E+(-.5+v)*S+1,b=(-1-A)*M+(1.5+A)*E+.5*S,L=A*M-A*E;for(let D=0;D!==u;++D)o[D]=_*a[m+D]+C*a[d+D]+b*a[h+D]+L*a[g+D];return o}}class rA extends mp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,m=(n-t)/(r-t),g=1-m;for(let v=0;v!==u;++v)o[v]=a[d+v]*g+a[h+v]*m;return o}}class KE extends mp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Js{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fu(t,this.TimeBufferType),this.values=Fu(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Fu(e.times,Array),values:Fu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new KE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new rA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case kd:t=this.InterpolantFactoryMethodDiscrete;break;case Od:t=this.InterpolantFactoryMethodLinear;break;case Ag:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return kd;case this.InterpolantFactoryMethodLinear:return Od;case this.InterpolantFactoryMethodSmooth:return Ag}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,a=r-1;for(;o!==r&&n[o]<e;)++o;for(;a!==-1&&n[a]>t;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const u=this.getValueSize();this.times=xs(n,o,a),this.values=xs(this.values,o*u,a*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let u=0;u!==o;u++){const h=n[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(a!==null&&a>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,a),e=!1;break}a=h}if(r!==void 0&&nA(r))for(let u=0,h=r.length;u!==h;++u){const d=r[u];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,d),e=!1;break}}return e}optimize(){const e=xs(this.times),t=xs(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ag,o=e.length-1;let a=1;for(let u=1;u<o;++u){let h=!1;const d=e[u],m=e[u+1];if(d!==m&&(u!==1||d!==e[0]))if(r)h=!0;else{const g=u*n,v=g-n,A=g+n;for(let S=0;S!==n;++S){const E=t[g+S];if(E!==t[v+S]||E!==t[A+S]){h=!0;break}}}if(h){if(u!==a){e[a]=e[u];const g=u*n,v=a*n;for(let A=0;A!==n;++A)t[v+A]=t[g+A]}++a}}if(o>0){e[a]=e[o];for(let u=o*n,h=a*n,d=0;d!==n;++d)t[h+d]=t[u+d];++a}return a!==e.length?(this.times=xs(e,0,a),this.values=xs(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=xs(this.times,0),t=xs(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Js.prototype.TimeBufferType=Float32Array;Js.prototype.ValueBufferType=Float32Array;Js.prototype.DefaultInterpolation=Od;class ec extends Js{}ec.prototype.ValueTypeName="bool";ec.prototype.ValueBufferType=Array;ec.prototype.DefaultInterpolation=kd;ec.prototype.InterpolantFactoryMethodLinear=void 0;ec.prototype.InterpolantFactoryMethodSmooth=void 0;class sA extends Js{}sA.prototype.ValueTypeName="color";class jd extends Js{}jd.prototype.ValueTypeName="number";class JE extends mp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=(n-t)/(r-t);let d=e*u;for(let m=d+u;d!==m;d+=4)nr.slerpFlat(o,0,a,d-u,a,d,h);return o}}class lh extends Js{InterpolantFactoryMethodLinear(e){return new JE(this.times,this.values,this.getValueSize(),e)}}lh.prototype.ValueTypeName="quaternion";lh.prototype.DefaultInterpolation=Od;lh.prototype.InterpolantFactoryMethodSmooth=void 0;class tc extends Js{}tc.prototype.ValueTypeName="string";tc.prototype.ValueBufferType=Array;tc.prototype.DefaultInterpolation=kd;tc.prototype.InterpolantFactoryMethodLinear=void 0;tc.prototype.InterpolantFactoryMethodSmooth=void 0;class Xd extends Js{}Xd.prototype.ValueTypeName="vector";class Yd{constructor(e,t=-1,n,r=Qg){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ts(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,u=n.length;a!==u;++a)t.push(QN(n[a]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=n.length;o!==a;++o)t.push(Js.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,a=[];for(let u=0;u<o;u++){let h=[],d=[];h.push((u+o-1)%o,u,(u+1)%o),d.push(0,1,0);const m=qE(h);h=Jy(h,1,m),d=Jy(d,1,m),!r&&h[0]===0&&(h.push(o),d.push(d[0])),a.push(new jd(".morphTargetInfluences["+t[u].name+"]",h,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const d=e[u],m=d.name.match(o);if(m&&m.length>1){const g=m[1];let v=r[g];v||(r[g]=v=[]),v.push(d)}}const a=[];for(const u in r)a.push(this.CreateFromMorphTargetSequence(u,r[u],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,A,S,E){if(A.length!==0){const M=[],_=[];iA(A,M,_,S),M.length!==0&&E.push(new g(v,M,_))}},r=[],o=e.name||"default",a=e.fps||30,u=e.blendMode;let h=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const A={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let E=0;E<v[S].morphTargets.length;E++)A[v[S].morphTargets[E]]=-1;for(const E in A){const M=[],_=[];for(let C=0;C!==v[S].morphTargets.length;++C){const b=v[S];M.push(b.time),_.push(b.morphTarget===E?1:0)}r.push(new jd(".morphTargetInfluence["+E+"]",M,_))}h=A.length*a}else{const A=".bones["+t[g].name+"]";n(Xd,A+".position",v,"pos",r),n(lh,A+".quaternion",v,"rot",r),n(Xd,A+".scale",v,"scl",r)}}return r.length===0?null:new this(o,h,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function YN(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jd;case"vector":case"vector2":case"vector3":case"vector4":return Xd;case"color":return sA;case"quaternion":return lh;case"bool":case"boolean":return ec;case"string":return tc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function QN(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=YN(i.type);if(i.times===void 0){const t=[],n=[];iA(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const qu={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class oA{constructor(e,t,n){const r=this;let o=!1,a=0,u=0,h;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){u++,o===!1&&r.onStart!==void 0&&r.onStart(m,a,u),o=!0},this.itemEnd=function(m){a++,r.onProgress!==void 0&&r.onProgress(m,a,u),a===u&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=d.length;g<v;g+=2){const A=d[g],S=d[g+1];if(A.global&&(A.lastIndex=0),A.test(m))return S}return null}}}const Bf=new oA;let is=class{constructor(e){this.manager=e!==void 0?e:Bf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const fa={};class qN extends Error{constructor(e,t){super(e),this.response=t}}class Sa extends is{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=qu.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(fa[e]!==void 0){fa[e].push({onLoad:t,onProgress:n,onError:r});return}fa[e]=[],fa[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=fa[e],g=d.body.getReader(),v=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),A=v?parseInt(v):0,S=A!==0;let E=0;const M=new ReadableStream({start(_){C();function C(){g.read().then(({done:b,value:L})=>{if(b)_.close();else{E+=L.byteLength;const D=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:A});for(let U=0,z=m.length;U<z;U++){const V=m[U];V.onProgress&&V.onProgress(D)}_.enqueue(L),C()}})}}});return new Response(M)}else throw new qN(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(h){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return d.json();default:if(u===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(u),v=g&&g[1]?g[1].toLowerCase():void 0,A=new TextDecoder(v);return d.arrayBuffer().then(S=>A.decode(S))}}}).then(d=>{qu.add(e,d);const m=fa[e];delete fa[e];for(let g=0,v=m.length;g<v;g++){const A=m[g];A.onLoad&&A.onLoad(d)}}).catch(d=>{const m=fa[e];if(m===void 0)throw this.manager.itemError(e),d;delete fa[e];for(let g=0,v=m.length;g<v;g++){const A=m[g];A.onError&&A.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ZN extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Sa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Yd.parse(e[n]);t.push(r)}return t}}class KN extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=[],u=new Qx,h=new Sa(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);let d=0;function m(g){h.load(e[g],function(v){const A=o.parse(v,!0);a[g]={width:A.width,height:A.height,format:A.format,mipmaps:A.mipmaps},d+=1,d===6&&(A.mipmapCount===1&&(u.minFilter=ii),u.image=a,u.format=A.format,u.needsUpdate=!0,t&&t(u))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else h.load(e,function(g){const v=o.parse(g,!0);if(v.isCubemap){const A=v.mipmaps.length/v.mipmapCount;for(let S=0;S<A;S++){a[S]={mipmaps:[]};for(let E=0;E<v.mipmapCount;E++)a[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+E]),a[S].format=v.format,a[S].width=v.width,a[S].height=v.height}u.image=a}else u.image.width=v.width,u.image.height=v.height,u.mipmaps=v.mipmaps;v.mipmapCount===1&&(u.minFilter=ii),u.format=v.format,u.needsUpdate=!0,t&&t(u)},n,r);return u}}class Qd extends is{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=qu.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const u=zd("img");function h(){m(),qu.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(g){m(),r&&r(g),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),o.manager.itemStart(e),u.src=e,u}}class JN extends is{constructor(e){super(e)}load(e,t,n,r){const o=new np,a=new Qd(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let u=0;function h(d){a.load(e[d],function(m){o.images[d]=m,u++,u===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let d=0;d<e.length;++d)h(d);return o}}class $N extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new jf,u=new Sa(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(o.withCredentials),u.load(e,function(h){const d=o.parse(h);d&&(d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:tr,a.wrapT=d.wrapT!==void 0?d.wrapT:tr,a.magFilter=d.magFilter!==void 0?d.magFilter:ii,a.minFilter=d.minFilter!==void 0?d.minFilter:ii,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0?a.colorSpace=d.colorSpace:d.encoding!==void 0&&(a.encoding=d.encoding),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=Tl),d.mipmapCount===1&&(a.minFilter=ii),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d))},n,r),a}}class s0 extends is{constructor(e){super(e)}load(e,t,n,r){const o=new On,a=new Qd(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(u){o.image=u,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class Nl extends cn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new at(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $E extends Nl{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(cn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new at(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Tv=new Ft,z1=new G,V1=new G;class aA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Ft,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zg,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new vn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;z1.setFromMatrixPosition(e.matrixWorld),t.position.copy(z1),V1.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(V1),t.updateMatrixWorld(),Tv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Tv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class eD extends aA{constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Qf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class eT extends Nl{constructor(e,t,n=0,r=Math.PI/3,o=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(cn.DEFAULT_UP),this.updateMatrix(),this.target=new cn,this.distance=n,this.angle=r,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new eD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const H1=new Ft,ad=new G,bv=new G;class tD extends aA{constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new vn(2,1,1,1),new vn(0,1,1,1),new vn(3,1,1,1),new vn(1,1,1,1),new vn(3,0,1,1),new vn(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),ad.setFromMatrixPosition(e.matrixWorld),n.position.copy(ad),bv.copy(n.position),bv.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(bv),n.updateMatrixWorld(),r.makeTranslation(-ad.x,-ad.y,-ad.z),H1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(H1)}}class tT extends Nl{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new tD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nD extends aA{constructor(){super(new Eo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nT extends Nl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(cn.DEFAULT_UP),this.updateMatrix(),this.target=new cn,this.shadow=new nD}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class iT extends Nl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class rT extends Nl{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(n*o)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*n*o),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}class o0 extends Nl{constructor(e=new sT,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class a0 extends is{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,a=new Sa(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=a0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new at().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=n(a.value);break;case"c":r.uniforms[o].value=new at().setHex(a.value);break;case"v2":r.uniforms[o].value=new Ie().fromArray(a.value);break;case"v3":r.uniforms[o].value=new G().fromArray(a.value);break;case"v4":r.uniforms[o].value=new vn().fromArray(a.value);break;case"m3":r.uniforms[o].value=new $t().fromArray(a.value);break;case"m4":r.uniforms[o].value=new Ft().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new Ie().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:zE,SpriteMaterial:jx,RawShaderMaterial:VE,ShaderMaterial:Co,PointsMaterial:Yx,MeshPhysicalMaterial:HE,MeshStandardMaterial:tA,MeshPhongMaterial:GE,MeshToonMaterial:WE,MeshNormalMaterial:jE,MeshLambertMaterial:XE,MeshDepthMaterial:Hx,MeshDistanceMaterial:Gx,MeshBasicMaterial:Ll,MeshMatcapMaterial:YE,LineDashedMaterial:QE,LineBasicMaterial:gr,Material:Wi};return new t[e]}}class $y{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class oT extends Qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class aT extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Sa(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(A,S){if(t[S]!==void 0)return t[S];const M=A.interleavedBuffers[S],_=o(A,M.buffer),C=Uf(M.type,_),b=new e0(C,M.stride);return b.uuid=M.uuid,t[S]=b,b}function o(A,S){if(n[S]!==void 0)return n[S];const M=A.arrayBuffers[S],_=new Uint32Array(M).buffer;return n[S]=_,_}const a=e.isInstancedBufferGeometry?new oT:new Qt,u=e.data.index;if(u!==void 0){const A=Uf(u.type,u.array);a.setIndex(new En(A,1))}const h=e.data.attributes;for(const A in h){const S=h[A];let E;if(S.isInterleavedBufferAttribute){const M=r(e.data,S.data);E=new Yu(M,S.itemSize,S.offset,S.normalized)}else{const M=Uf(S.type,S.array),_=S.isInstancedBufferAttribute?Zf:En;E=new _(M,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),S.updateRange!==void 0&&(E.updateRange.offset=S.updateRange.offset,E.updateRange.count=S.updateRange.count),a.setAttribute(A,E)}const d=e.data.morphAttributes;if(d)for(const A in d){const S=d[A],E=[];for(let M=0,_=S.length;M<_;M++){const C=S[M];let b;if(C.isInterleavedBufferAttribute){const L=r(e.data,C.data);b=new Yu(L,C.itemSize,C.offset,C.normalized)}else{const L=Uf(C.type,C.array);b=new En(L,C.itemSize,C.normalized)}C.name!==void 0&&(b.name=C.name),E.push(b)}a.morphAttributes[A]=E}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let A=0,S=g.length;A!==S;++A){const E=g[A];a.addGroup(E.start,E.count,E.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const A=new G;v.center!==void 0&&A.fromArray(v.center),a.boundingSphere=new Ro(A,v.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class iD extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=this.path===""?$y.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const u=new Sa(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let d=null;try{d=JSON.parse(h)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?$y.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new Sa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,t),u=JSON.parse(a),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(u)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),u=this.parseTextures(e.textures,a),h=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,o,h,u,n),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),t!==void 0){let g=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,r,u,a,t),d=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,d),h}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new Wu().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const u=new t0().fromJSON(e[o],r);n[u.uuid]=u}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new aT;for(let o=0,a=e.length;o<a;o++){let u;const h=e[o];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(h);break;default:h.type in B1?u=B1[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),n[h.uuid]=u}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new a0;o.setTextures(t);for(let a=0,u=e.length;a<u;a++){const h=e[a];n[h.uuid]===void 0&&(n[h.uuid]=o.parse(h)),r[h.uuid]=n[h.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=Yd.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function a(h){return n.manager.itemStart(h),o.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const d=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(m)}else return h.data?{data:Uf(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new oA(t);o=new Qd(h),o.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],v=g.url;if(Array.isArray(v)){const A=[];for(let S=0,E=v.length;S<E;S++){const M=v[S],_=u(M);_!==null&&(_ instanceof HTMLImageElement?A.push(_):A.push(new jf(_.data,_.width,_.height)))}r[g.uuid]=new Ou(A)}else{const A=u(g.url);r[g.uuid]=new Ou(A)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function o(a){if(typeof a=="string"){const u=a,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(h)}else return a.data?{data:Uf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Qd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,u=e.length;a<u;a++){const h=e[a],d=h.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const A=d[g],S=await o(A);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new jf(S.data,S.width,S.height)))}n[h.uuid]=new Ou(m)}else{const m=await o(h.url);n[h.uuid]=new Ou(m)}}}return n}parseTextures(e,t){function n(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const u=e[o];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=t[u.image],d=h.data;let m;Array.isArray(d)?(m=new np,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new jf:m=new On,d&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=n(u.mapping,rD)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=n(u.wrap[0],G1),m.wrapT=n(u.wrap[1],G1)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.encoding!==void 0&&(m.encoding=u.encoding),u.minFilter!==void 0&&(m.minFilter=n(u.minFilter,W1)),u.magFilter!==void 0&&(m.magFilter=n(u.magFilter,W1)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.userData!==void 0&&(m.userData=u.userData),r[u.uuid]=m}return r}parseObject(e,t,n,r,o){let a;function u(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function h(v){if(v!==void 0){if(Array.isArray(v)){const A=[];for(let S=0,E=v.length;S<E;S++){const M=v[S];n[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),A.push(n[M])}return A}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function d(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,g;switch(e.type){case"Scene":a=new Pg,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new at(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new $g(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Jg(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Eo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new iT(e.color,e.intensity);break;case"DirectionalLight":a=new nT(e.color,e.intensity);break;case"PointLight":a=new tT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new rT(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new eT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new $E(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new o0().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),g=h(e.material),a=new TE(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),g=h(e.material),a=new Li(m,g);break;case"InstancedMesh":m=u(e.geometry),g=h(e.material);const v=e.count,A=e.instanceMatrix,S=e.instanceColor;a=new bE(m,g,v),a.instanceMatrix=new Zf(new Float32Array(A.array),16),S!==void 0&&(a.instanceColor=new Zf(new Float32Array(S.array),S.itemSize));break;case"LOD":a=new EE;break;case"Line":a=new bl(u(e.geometry),h(e.material));break;case"LineLoop":a=new CE(u(e.geometry),h(e.material));break;case"LineSegments":a=new Lo(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":a=new PE(u(e.geometry),h(e.material));break;case"Sprite":a=new ME(h(e.material));break;case"Group":a=new Of;break;case"Bone":a=new Xx;break;default:a=new cn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let A=0;A<v.length;A++)a.add(this.parseObject(v[A],t,n,r,o))}if(e.animations!==void 0){const v=e.animations;for(let A=0;A<v.length;A++){const S=v[A];a.animations.push(o[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let A=0;A<v.length;A++){const S=v[A],E=a.getObjectByProperty("uuid",S.object);E!==void 0&&a.addLevel(E,S.distance,S.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const rD={UVMapping:Yg,CubeReflectionMapping:Ml,CubeRefractionMapping:El,EquirectangularReflectionMapping:Id,EquirectangularRefractionMapping:Nd,CubeUVReflectionMapping:th},G1={RepeatWrapping:Dd,ClampToEdgeWrapping:tr,MirroredRepeatWrapping:Ud},W1={NearestFilter:ni,NearestMipmapNearestFilter:bg,NearestMipmapLinearFilter:Ad,LinearFilter:ii,LinearMipmapNearestFilter:Px,LinearMipmapLinearFilter:Tl};class sD extends is{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=qu.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,fetch(e,u).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(h){qu.add(e,h),t&&t(h),o.manager.itemEnd(e)}).catch(function(h){r&&r(h),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let tg;class lA{static getContext(){return tg===void 0&&(tg=new(window.AudioContext||window.webkitAudioContext)),tg}static setContext(e){tg=e}}class oD extends is{constructor(e){super(e)}load(e,t,n,r){const o=this,a=new Sa(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(h){try{const d=h.slice(0);lA.getContext().decodeAudioData(d,function(g){t(g)},u)}catch(d){u(d)}},n,r);function u(h){r?r(h):console.error(h),o.manager.itemError(e)}}}class aD extends o0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new at().set(e),o=new at().set(t),a=new G(r.r,r.g,r.b),u=new G(o.r,o.g,o.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(u).multiplyScalar(h),this.sh.coefficients[1].copy(a).sub(u).multiplyScalar(d)}}class lD extends o0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new at().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const j1=new Ft,X1=new Ft,_u=new Ft;class uD{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_u.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(Hu*t.fov*.5)/t.zoom;let u,h;X1.elements[12]=-r,j1.elements[12]=r,u=-a*t.aspect+o,h=a*t.aspect+o,_u.elements[0]=2*t.near/(h-u),_u.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(_u),u=-a*t.aspect-o,h=a*t.aspect-o,_u.elements[0]=2*t.near/(h-u),_u.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(_u)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(X1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(j1)}}class uA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Y1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Y1();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Y1(){return(typeof performance>"u"?Date:performance).now()}const Su=new G,Q1=new nr,cD=new G,wu=new G;class fD extends cn{constructor(){super(),this.type="AudioListener",this.context=lA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Su,Q1,cD),wu.set(0,0,-1).applyQuaternion(Q1),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Su.x,r),t.positionY.linearRampToValueAtTime(Su.y,r),t.positionZ.linearRampToValueAtTime(Su.z,r),t.forwardX.linearRampToValueAtTime(wu.x,r),t.forwardY.linearRampToValueAtTime(wu.y,r),t.forwardZ.linearRampToValueAtTime(wu.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Su.x,Su.y,Su.z),t.setOrientation(wu.x,wu.y,wu.z,n.x,n.y,n.z)}}class lT extends cn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Mu=new G,q1=new nr,hD=new G,Eu=new G;class dD extends lT{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mu,q1,hD),Eu.set(0,0,1).applyQuaternion(q1);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mu.x,n),t.positionY.linearRampToValueAtTime(Mu.y,n),t.positionZ.linearRampToValueAtTime(Mu.z,n),t.orientationX.linearRampToValueAtTime(Eu.x,n),t.orientationY.linearRampToValueAtTime(Eu.y,n),t.orientationZ.linearRampToValueAtTime(Eu.z,n)}else t.setPosition(Mu.x,Mu.y,Mu.z),t.setOrientation(Eu.x,Eu.y,Eu.z)}}class pD{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class uT{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,a;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let u=0;u!==r;++u)n[o+u]=n[u];a=t}else{a+=t;const u=t/a;this._mixBufferRegion(n,o,0,u,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const h=t*this._origIndex;this._mixBufferRegion(n,r,h,1-o,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let h=t,d=t+t;h!==d;++h)if(n[h]!==n[h+t]){u.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,a=r;o!==a;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){nr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const a=this._workIndex*o;nr.multiplyQuaternionsFlat(e,a,e,t,e,n),nr.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,o){const a=1-r;for(let u=0;u!==o;++u){const h=t+u;e[h]=e[h]*a+e[n+u]*r}}_lerpAdditive(e,t,n,r,o){for(let a=0;a!==o;++a){const u=t+a;e[u]=e[u]+e[n+a]*r}}}const cA="\\[\\]\\.:\\/",mD=new RegExp("["+cA+"]","g"),fA="[^"+cA+"]",gD="[^"+cA.replace("\\.","")+"]",vD=/((?:WC+[\/:])*)/.source.replace("WC",fA),yD=/(WCOD+)?/.source.replace("WCOD",gD),xD=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fA),AD=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fA),_D=new RegExp("^"+vD+yD+xD+AD+"$"),SD=["material","materials","bones","map"];class wD{constructor(e,t,n){const r=n||un.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class un{constructor(e,t,n){this.path=t,this.parsedPath=n||un.parseTrackName(t),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new un.Composite(e,t,n):new un(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mD,"")}static parseTrackName(e){const t=_D.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);SD.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let a=0;a<o.length;a++){const u=o[a];if(u.name===t||u.uuid===t)return u;const h=n(u.children);if(h)return h}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=un.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[r];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=wD;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class MD{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let u,h=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],A=v.uuid;let S=t[A];if(S===void 0){S=h++,t[A]=S,e.push(v);for(let E=0,M=a;E!==M;++E)o[E].push(new un(v,n[E],r[E]))}else if(S<d){u=e[S];const E=--d,M=e[E];t[M.uuid]=S,e[S]=M,t[A]=E,e[E]=v;for(let _=0,C=a;_!==C;++_){const b=o[_],L=b[E];let D=b[S];b[S]=L,D===void 0&&(D=new un(v,n[_],r[_])),b[E]=D}}else e[S]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let a=0,u=arguments.length;a!==u;++a){const h=arguments[a],d=h.uuid,m=t[d];if(m!==void 0&&m>=o){const g=o++,v=e[g];t[v.uuid]=m,e[m]=v,t[d]=g,e[g]=h;for(let A=0,S=r;A!==S;++A){const E=n[A],M=E[g],_=E[m];E[m]=M,E[g]=_}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,a=e.length;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<o){const v=--o,A=e[v],S=--a,E=e[S];t[A.uuid]=g,e[g]=A,t[E.uuid]=v,e[v]=E,e.pop();for(let M=0,_=r;M!==_;++M){const C=n[M],b=C[v],L=C[S];C[g]=b,C[v]=L,C.pop()}}else{const v=--a,A=e[v];v>0&&(t[A.uuid]=g),e[g]=A,e.pop();for(let S=0,E=r;S!==E;++S){const M=n[S];M[g]=M[v],M.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,u=this._parsedPaths,h=this._objects,d=h.length,m=this.nCachedObjects_,g=new Array(d);r=o.length,n[e]=r,a.push(e),u.push(t),o.push(g);for(let v=m,A=h.length;v!==A;++v){const S=h[v];g[v]=new un(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,u=a.length-1,h=a[u],d=e[u];t[d]=n,a[n]=h,a.pop(),o[n]=o[u],o.pop(),r[n]=r[u],r.pop()}}}class cT{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,a=o.length,u=new Array(a),h={endingStart:Uu,endingEnd:Uu};for(let d=0;d!==a;++d){const m=o[d].createInterpolant(null);u[d]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,a=o/r,u=r/o;e.warp(1,a,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,a=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,d=u.sampleValues;return h[0]=o,h[1]=o+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const h=(e-o)*n;h<0||n===0?t=0:(this._startTime=null,t=n*h)}t*=this._updateTimeScale(e);const a=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Lx:for(let m=0,g=h.length;m!==g;++m)h[m].evaluate(a),d[m].accumulateAdditive(u);break;case Qg:default:for(let m=0,g=h.length;m!==g;++m)h[m].evaluate(a),d[m].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const a=n===nE;if(e===0)return o===-1?r:a&&(o&1)===1?t-r:r;if(n===eE){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,o+=Math.abs(u);const h=this.repetitions-o;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(a&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=ku,r.endingEnd=ku):(e?r.endingStart=this.zeroSlopeAtStart?ku:Uu:r.endingStart=Fd,t?r.endingEnd=this.zeroSlopeAtEnd?ku:Uu:r.endingEnd=Fd)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const u=a.parameterPositions,h=a.sampleValues;return u[0]=o,h[0]=t,u[1]=o+e,h[1]=n,this}}const ED=new Float32Array(1);class TD extends Ma{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,u=e._interpolants,h=n.uuid,d=this._bindingsByRootAndName;let m=d[h];m===void 0&&(m={},d[h]=m);for(let g=0;g!==o;++g){const v=r[g],A=v.name;let S=m[A];if(S!==void 0)++S.referenceCount,a[g]=S;else{if(S=a[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,h,A));continue}const E=t&&t._propertyBindings[g].binding.parsedPath;S=new uT(un.create(n,A,E),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,h,A),a[g]=S}u[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const u=a.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,u=a[o],h=u.knownActions,d=h[h.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,h[m]=d,h.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],h.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,a=this._bindingsByRootAndName,u=a[r],h=t[t.length-1],d=e._cacheIndex;h._cacheIndex=d,t[d]=h,t.pop(),delete u[o],Object.keys(u).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new rA(new Float32Array(2),new Float32Array(2),1,ED),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let a=typeof e=="string"?Yd.findByName(r,e):e;const u=a!==null?a.uuid:e,h=this._actionsByClip[u];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=Qg),h!==void 0){const g=h.actionByRoot[o];if(g!==void 0&&g.blendMode===n)return g;d=h.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const m=new cT(this,a,t,n);return this._bindAction(m,d),this._addInactiveAction(m,u,o),m}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?Yd.findByName(n,e):e,a=o?o.uuid:e,u=this._actionsByClip[a];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,o,a);const u=this._bindings,h=this._nActiveBindings;for(let d=0;d!==h;++d)u[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const a=o.knownActions;for(let u=0,h=a.length;u!==h;++u){const d=a[u];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const u=n[a].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const a in o){const u=o[a];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class hA{constructor(e){this.value=e}clone(){return new hA(this.value.clone===void 0?this.value:this.value.clone())}}let bD=0;class CD extends Ma{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:bD++}),this.name="",this.usage=Bd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class PD extends e0{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class RD{constructor(e,t,n,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class fT{constructor(e,t,n=0,r=1/0){this.ray=new nh(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Gu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return ex(e,this,n,t),n.sort(Z1),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)ex(e[r],this,n,t);return n.sort(Z1),n}}function Z1(i,e){return i.distance-e.distance}function ex(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){const r=i.children;for(let o=0,a=r.length;o<a;o++)ex(r[o],e,t,!0)}}class tx{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class LD{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const K1=new Ie;class ID{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=K1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,K1).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const J1=new G,ng=new G;class ND{constructor(e=new G,t=new G){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){J1.subVectors(e,this.start),ng.subVectors(this.end,this.start);const n=ng.dot(ng);let o=ng.dot(J1)/n;return t&&(o=Zn(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $1=new G;class DD extends cn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Qt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,u=1,h=32;a<h;a++,u++){const d=a/h*Math.PI*2,m=u/h*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new ht(r,3));const o=new gr({fog:!1,toneMapped:!1});this.cone=new Lo(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$1.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($1),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pl=new G,ig=new Ft,Cv=new Ft;class UD extends Lo{constructor(e){const t=hT(e),n=new Qt,r=[],o=[],a=new at(0,0,1),u=new at(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(u.r,u.g,u.b))}n.setAttribute("position",new ht(r,3)),n.setAttribute("color",new ht(o,3));const h=new gr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Cv.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const u=t[o];u.parent&&u.parent.isBone&&(ig.multiplyMatrices(Cv,u.matrixWorld),pl.setFromMatrixPosition(ig),r.setXYZ(a,pl.x,pl.y,pl.z),ig.multiplyMatrices(Cv,u.parent.matrixWorld),pl.setFromMatrixPosition(ig),r.setXYZ(a+1,pl.x,pl.y,pl.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hT(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,hT(i.children[t]));return e}class kD extends Li{constructor(e,t,n){const r=new ah(t,4,2),o=new Ll({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const OD=new G,eS=new at,tS=new at;class FD extends cn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new oh(t);r.rotateY(Math.PI*.5),this.material=new Ll({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new En(a,3)),this.add(new Li(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");eS.copy(this.light.color),tS.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?eS:tS;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(OD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class BD extends Lo{constructor(e=10,t=10,n=4473924,r=8947848){n=new at(n),r=new at(r);const o=t/2,a=e/t,u=e/2,h=[],d=[];for(let v=0,A=0,S=-u;v<=t;v++,S+=a){h.push(-u,0,S,u,0,S),h.push(S,0,-u,S,0,u);const E=v===o?n:r;E.toArray(d,A),A+=3,E.toArray(d,A),A+=3,E.toArray(d,A),A+=3,E.toArray(d,A),A+=3}const m=new Qt;m.setAttribute("position",new ht(h,3)),m.setAttribute("color",new ht(d,3));const g=new gr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class zD extends Lo{constructor(e=10,t=16,n=8,r=64,o=4473924,a=8947848){o=new at(o),a=new at(a);const u=[],h=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),A=Math.sin(v)*e,S=Math.cos(v)*e;u.push(0,0,0),u.push(A,0,S);const E=g&1?o:a;h.push(E.r,E.g,E.b),h.push(E.r,E.g,E.b)}for(let g=0;g<n;g++){const v=g&1?o:a,A=e-e/n*g;for(let S=0;S<r;S++){let E=S/r*(Math.PI*2),M=Math.sin(E)*A,_=Math.cos(E)*A;u.push(M,0,_),h.push(v.r,v.g,v.b),E=(S+1)/r*(Math.PI*2),M=Math.sin(E)*A,_=Math.cos(E)*A,u.push(M,0,_),h.push(v.r,v.g,v.b)}}const d=new Qt;d.setAttribute("position",new ht(u,3)),d.setAttribute("color",new ht(h,3));const m=new gr({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nS=new G,rg=new G,iS=new G;class VD extends cn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Qt;r.setAttribute("position",new ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new gr({fog:!1,toneMapped:!1});this.lightPlane=new bl(r,o),this.add(this.lightPlane),r=new Qt,r.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new bl(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nS.setFromMatrixPosition(this.light.matrixWorld),rg.setFromMatrixPosition(this.light.target.matrixWorld),iS.subVectors(rg,nS),this.lightPlane.lookAt(rg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rg),this.targetLine.scale.z=iS.length()}}const sg=new G,qn=new tp;class HD extends Lo{constructor(e){const t=new Qt,n=new gr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(S,E){h(S),h(E)}function h(S){r.push(0,0,0),o.push(0,0,0),a[S]===void 0&&(a[S]=[]),a[S].push(r.length/3-1)}t.setAttribute("position",new ht(r,3)),t.setAttribute("color",new ht(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new at(16755200),m=new at(16711680),g=new at(43775),v=new at(16777215),A=new at(3355443);this.setColors(d,m,g,v,A)}setColors(e,t,n,r,o){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,o.r,o.g,o.b),u.setXYZ(41,o.r,o.g,o.b),u.setXYZ(42,o.r,o.g,o.b),u.setXYZ(43,o.r,o.g,o.b),u.setXYZ(44,o.r,o.g,o.b),u.setXYZ(45,o.r,o.g,o.b),u.setXYZ(46,o.r,o.g,o.b),u.setXYZ(47,o.r,o.g,o.b),u.setXYZ(48,o.r,o.g,o.b),u.setXYZ(49,o.r,o.g,o.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ti("c",t,e,qn,0,0,-1),ti("t",t,e,qn,0,0,1),ti("n1",t,e,qn,-n,-r,-1),ti("n2",t,e,qn,n,-r,-1),ti("n3",t,e,qn,-n,r,-1),ti("n4",t,e,qn,n,r,-1),ti("f1",t,e,qn,-n,-r,1),ti("f2",t,e,qn,n,-r,1),ti("f3",t,e,qn,-n,r,1),ti("f4",t,e,qn,n,r,1),ti("u1",t,e,qn,n*.7,r*1.1,-1),ti("u2",t,e,qn,-n*.7,r*1.1,-1),ti("u3",t,e,qn,0,r*2,-1),ti("cf1",t,e,qn,-n,0,1),ti("cf2",t,e,qn,n,0,1),ti("cf3",t,e,qn,0,-r,1),ti("cf4",t,e,qn,0,r,1),ti("cn1",t,e,qn,-n,0,-1),ti("cn2",t,e,qn,n,0,-1),ti("cn3",t,e,qn,0,-r,-1),ti("cn4",t,e,qn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ti(i,e,t,n,r,o,a){sg.set(r,o,a).unproject(n);const u=e[i];if(u!==void 0){const h=t.getAttribute("position");for(let d=0,m=u.length;d<m;d++)h.setXYZ(u[d],sg.x,sg.y,sg.z)}}const og=new Po;class GD extends Lo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),o=new Qt;o.setIndex(new En(n,1)),o.setAttribute("position",new En(r,3)),super(o,new gr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&og.setFromObject(this.object),og.isEmpty())return;const t=og.min,n=og.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WD extends Lo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Qt;o.setIndex(new En(n,1)),o.setAttribute("position",new ht(r,3)),super(o,new gr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jD extends bl{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Qt;a.setAttribute("position",new ht(o,3)),a.computeBoundingSphere(),super(a,new gr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new Qt;h.setAttribute("position",new ht(u,3)),h.computeBoundingSphere(),this.add(new Li(h,new Ll({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const rS=new G;let ag,Pv;class XD extends cn{constructor(e=new G(0,0,1),t=new G(0,0,0),n=1,r=16776960,o=n*.2,a=o*.2){super(),this.type="ArrowHelper",ag===void 0&&(ag=new Qt,ag.setAttribute("position",new ht([0,0,0,0,1,0],3)),Pv=new $u(0,.5,1,5,1),Pv.translate(0,-.5,0)),this.position.copy(t),this.line=new bl(ag,new gr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Li(Pv,new Ll({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{rS.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(rS,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class YD extends Lo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Qt;r.setAttribute("position",new ht(t,3)),r.setAttribute("color",new ht(n,3));const o=new gr({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new at,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class QD{constructor(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,a){return this.currentPath.bezierCurveTo(e,t,n,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const C=[];for(let b=0,L=_.length;b<L;b++){const D=_[b],U=new Wu;U.curves=D.curves,C.push(U)}return C}function n(_,C){const b=C.length;let L=!1;for(let D=b-1,U=0;U<b;D=U++){let z=C[D],V=C[U],N=V.x-z.x,F=V.y-z.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(z=C[U],N=-N,V=C[D],F=-F),_.y<z.y||_.y>V.y)continue;if(_.y===z.y){if(_.x===z.x)return!0}else{const K=F*(_.x-z.x)-N*(_.y-z.y);if(K===0)return!0;if(K<0)continue;L=!L}}else{if(_.y!==z.y)continue;if(V.x<=_.x&&_.x<=z.x||z.x<=_.x&&_.x<=V.x)return!0}}return L}const r=To.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,u,h;const d=[];if(o.length===1)return u=o[0],h=new Wu,h.curves=u.curves,d.push(h),d;let m=!r(o[0].getPoints());m=e?!m:m;const g=[],v=[];let A=[],S=0,E;v[S]=void 0,A[S]=[];for(let _=0,C=o.length;_<C;_++)u=o[_],E=u.getPoints(),a=r(E),a=e?!a:a,a?(!m&&v[S]&&S++,v[S]={s:new Wu,p:E},v[S].s.curves=u.curves,m&&S++,A[S]=[]):A[S].push({h:u,p:E[0]});if(!v[0])return t(o);if(v.length>1){let _=!1,C=0;for(let b=0,L=v.length;b<L;b++)g[b]=[];for(let b=0,L=v.length;b<L;b++){const D=A[b];for(let U=0;U<D.length;U++){const z=D[U];let V=!0;for(let N=0;N<v.length;N++)n(z.p,v[N].p)&&(b!==N&&C++,V?(V=!1,g[N].push(z)):_=!0);V&&g[b].push(z)}}C>0&&_===!1&&(A=g)}let M;for(let _=0,C=v.length;_<C;_++){h=v[_].s,d.push(h),M=A[_];for(let b=0,L=M.length;b<L;b++)h.holes.push(M[b].h)}return d}}class qD extends Il{constructor(e,t,n,r,o,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,o,a)}}class ZD extends ip{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class KD extends rp{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class JD extends sp{constructor(e,t,n,r,o,a,u){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,o,a,u)}}class $D extends $u{constructor(e,t,n,r,o,a,u,h){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,o,a,u,h)}}class eU extends op{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class tU extends ap{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class nU extends lp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class iU extends sh{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class rU extends oh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class sU extends ih{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class oU extends Ea{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class aU extends up{constructor(e,t,n,r,o,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,o,a)}}class lU extends cp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class uU extends ah{constructor(e,t,n,r,o,a,u){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,o,a,u)}}class cU extends fp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class fU extends hp{constructor(e,t,n,r,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,o)}}class hU extends dp{constructor(e,t,n,r,o,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,o,a)}}class dU extends pp{constructor(e,t,n,r,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,o)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jg);const pU=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Cx,AddEquation:Iu,AddOperation:DM,AdditiveAnimationBlendMode:Lx,AdditiveBlending:vy,AlphaFormat:WM,AlwaysDepth:bM,AlwaysStencilFunc:oE,AmbientLight:iT,AmbientLightProbe:lD,AnimationAction:cT,AnimationClip:Yd,AnimationLoader:ZN,AnimationMixer:TD,AnimationObjectGroup:MD,AnimationUtils:XN,ArcCurve:RE,ArrayCamera:AE,ArrowHelper:XD,Audio:lT,AudioAnalyser:pD,AudioContext:lA,AudioListener:fD,AudioLoader:oD,AxesHelper:YD,BackSide:mr,BasicDepthPacking:iE,BasicShadowMap:dM,Bone:Xx,BooleanKeyframeTrack:ec,Box2:ID,Box3:Po,Box3Helper:WD,BoxBufferGeometry:qD,BoxGeometry:Il,BoxHelper:GD,BufferAttribute:En,BufferGeometry:Qt,BufferGeometryLoader:aT,ByteType:BM,Cache:qu,Camera:tp,CameraHelper:HD,CanvasTexture:gN,CapsuleBufferGeometry:ZD,CapsuleGeometry:ip,CatmullRomCurve3:LE,CineonToneMapping:OM,CircleBufferGeometry:KD,CircleGeometry:rp,ClampToEdgeWrapping:tr,Clock:uA,Color:at,ColorKeyframeTrack:sA,ColorManagement:ys,CompressedArrayTexture:mN,CompressedTexture:Qx,CompressedTextureLoader:KN,ConeBufferGeometry:JD,ConeGeometry:sp,CubeCamera:Bx,CubeReflectionMapping:Ml,CubeRefractionMapping:El,CubeTexture:np,CubeTextureLoader:JN,CubeUVReflectionMapping:th,CubicBezierCurve:Zx,CubicBezierCurve3:IE,CubicInterpolant:ZE,CullFaceBack:gy,CullFaceFront:hM,CullFaceFrontBack:p2,CullFaceNone:fM,Curve:Ks,CurvePath:DE,CustomBlending:pM,CustomToneMapping:FM,CylinderBufferGeometry:$D,CylinderGeometry:$u,Cylindrical:LD,Data3DTexture:kx,DataArrayTexture:qg,DataTexture:jf,DataTextureLoader:$N,DataUtils:EP,DecrementStencilOp:T2,DecrementWrapStencilOp:C2,DefaultLoadingManager:Bf,DepthFormat:Al,DepthStencilFormat:Xu,DepthTexture:_E,DirectionalLight:nT,DirectionalLightHelper:VD,DiscreteInterpolant:KE,DisplayP3ColorSpace:Nx,DodecahedronBufferGeometry:eU,DodecahedronGeometry:op,DoubleSide:Xs,DstAlphaFactor:_M,DstColorFactor:wM,DynamicCopyUsage:G2,DynamicDrawUsage:O2,DynamicReadUsage:z2,EdgesGeometry:UE,EllipseCurve:n0,EqualDepth:PM,EqualStencilFunc:I2,EquirectangularReflectionMapping:Id,EquirectangularRefractionMapping:Nd,Euler:Ju,EventDispatcher:Ma,ExtrudeBufferGeometry:tU,ExtrudeGeometry:ap,FileLoader:Sa,Float16BufferAttribute:LP,Float32BufferAttribute:ht,Float64BufferAttribute:IP,FloatType:ma,Fog:$g,FogExp2:Jg,FramebufferTexture:pN,FrontSide:Aa,Frustum:Zg,GLBufferAttribute:RD,GLSL1:j2,GLSL3:jy,GreaterDepth:LM,GreaterEqualDepth:RM,GreaterEqualStencilFunc:k2,GreaterStencilFunc:D2,GridHelper:BD,Group:Of,HalfFloatType:Yf,HemisphereLight:$E,HemisphereLightHelper:FD,HemisphereLightProbe:aD,IcosahedronBufferGeometry:nU,IcosahedronGeometry:lp,ImageBitmapLoader:sD,ImageLoader:Qd,ImageUtils:Ux,IncrementStencilOp:E2,IncrementWrapStencilOp:b2,InstancedBufferAttribute:Zf,InstancedBufferGeometry:oT,InstancedInterleavedBuffer:PD,InstancedMesh:bE,Int16BufferAttribute:PP,Int32BufferAttribute:RP,Int8BufferAttribute:TP,IntType:VM,InterleavedBuffer:e0,InterleavedBufferAttribute:Yu,Interpolant:mp,InterpolateDiscrete:kd,InterpolateLinear:Od,InterpolateSmooth:Ag,InvertStencilOp:P2,KeepStencilOp:_g,KeyframeTrack:Js,LOD:EE,LatheBufferGeometry:iU,LatheGeometry:sh,Layers:Gu,LessDepth:CM,LessEqualDepth:Tg,LessEqualStencilFunc:N2,LessStencilFunc:L2,Light:Nl,LightProbe:o0,Line:bl,Line3:ND,LineBasicMaterial:gr,LineCurve:i0,LineCurve3:NE,LineDashedMaterial:QE,LineLoop:CE,LineSegments:Lo,LinearEncoding:Ix,LinearFilter:ii,LinearInterpolant:rA,LinearMipMapLinearFilter:x2,LinearMipMapNearestFilter:y2,LinearMipmapLinearFilter:Tl,LinearMipmapNearestFilter:Px,LinearSRGBColorSpace:qs,LinearToneMapping:UM,Loader:is,LoaderUtils:$y,LoadingManager:oA,LoopOnce:eE,LoopPingPong:nE,LoopRepeat:tE,LuminanceAlphaFormat:XM,LuminanceFormat:jM,MOUSE:bu,Material:Wi,MaterialLoader:a0,MathUtils:uE,Matrix3:$t,Matrix4:Ft,MaxEquation:_y,Mesh:Li,MeshBasicMaterial:Ll,MeshDepthMaterial:Hx,MeshDistanceMaterial:Gx,MeshLambertMaterial:XE,MeshMatcapMaterial:YE,MeshNormalMaterial:jE,MeshPhongMaterial:GE,MeshPhysicalMaterial:HE,MeshStandardMaterial:tA,MeshToonMaterial:WE,MinEquation:Ay,MirroredRepeatWrapping:Ud,MixOperation:NM,MultiplyBlending:xy,MultiplyOperation:ep,NearestFilter:ni,NearestMipMapLinearFilter:v2,NearestMipMapNearestFilter:g2,NearestMipmapLinearFilter:Ad,NearestMipmapNearestFilter:bg,NeverDepth:TM,NeverStencilFunc:R2,NoBlending:va,NoColorSpace:Sl,NoToneMapping:Qs,NormalAnimationBlendMode:Qg,NormalBlending:zu,NotEqualDepth:IM,NotEqualStencilFunc:U2,NumberKeyframeTrack:jd,Object3D:cn,ObjectLoader:iD,ObjectSpaceNormalMap:sE,OctahedronBufferGeometry:rU,OctahedronGeometry:oh,OneFactor:yM,OneMinusDstAlphaFactor:SM,OneMinusDstColorFactor:MM,OneMinusSrcAlphaFactor:bx,OneMinusSrcColorFactor:AM,OrthographicCamera:Eo,PCFShadowMap:Xg,PCFSoftShadowMap:xd,PMREMGenerator:Yy,Path:Vd,PerspectiveCamera:Hn,Plane:ha,PlaneBufferGeometry:sU,PlaneGeometry:ih,PlaneHelper:jD,PointLight:tT,PointLightHelper:kD,Points:PE,PointsMaterial:Yx,PolarGridHelper:zD,PolyhedronBufferGeometry:oU,PolyhedronGeometry:Ea,PositionalAudio:dD,PropertyBinding:un,PropertyMixer:uT,QuadraticBezierCurve:Kx,QuadraticBezierCurve3:Jx,Quaternion:nr,QuaternionKeyframeTrack:lh,QuaternionLinearInterpolant:JE,RED_GREEN_RGTC2_Format:Gy,RED_RGTC1_Format:$M,REVISION:jg,RGBADepthPacking:rE,RGBAFormat:Ur,RGBAIntegerFormat:KM,RGBA_ASTC_10x10_Format:By,RGBA_ASTC_10x5_Format:ky,RGBA_ASTC_10x6_Format:Oy,RGBA_ASTC_10x8_Format:Fy,RGBA_ASTC_12x10_Format:zy,RGBA_ASTC_12x12_Format:Vy,RGBA_ASTC_4x4_Format:Cy,RGBA_ASTC_5x4_Format:Py,RGBA_ASTC_5x5_Format:Ry,RGBA_ASTC_6x5_Format:Ly,RGBA_ASTC_6x6_Format:Iy,RGBA_ASTC_8x5_Format:Ny,RGBA_ASTC_8x6_Format:Dy,RGBA_ASTC_8x8_Format:Uy,RGBA_BPTC_Format:xg,RGBA_ETC2_EAC_Format:by,RGBA_PVRTC_2BPPV1_Format:Ey,RGBA_PVRTC_4BPPV1_Format:My,RGBA_S3TC_DXT1_Format:gg,RGBA_S3TC_DXT3_Format:vg,RGBA_S3TC_DXT5_Format:yg,RGB_ETC1_Format:JM,RGB_ETC2_Format:Ty,RGB_PVRTC_2BPPV1_Format:wy,RGB_PVRTC_4BPPV1_Format:Sy,RGB_S3TC_DXT1_Format:mg,RGFormat:qM,RGIntegerFormat:ZM,RawShaderMaterial:VE,Ray:nh,Raycaster:fT,RectAreaLight:rT,RedFormat:YM,RedIntegerFormat:QM,ReinhardToneMapping:kM,RepeatWrapping:Dd,ReplaceStencilOp:M2,ReverseSubtractEquation:gM,RingBufferGeometry:aU,RingGeometry:up,SIGNED_RED_GREEN_RGTC2_Format:Wy,SIGNED_RED_RGTC1_Format:Hy,SRGBColorSpace:Yt,Scene:Pg,ShaderChunk:Zt,ShaderLib:js,ShaderMaterial:Co,ShadowMaterial:zE,Shape:Wu,ShapeBufferGeometry:lU,ShapeGeometry:cp,ShapePath:QD,ShapeUtils:To,ShortType:zM,Skeleton:t0,SkeletonHelper:UD,SkinnedMesh:TE,Source:Ou,Sphere:Ro,SphereBufferGeometry:uU,SphereGeometry:ah,Spherical:tx,SphericalHarmonics3:sT,SplineCurve:$x,SpotLight:eT,SpotLightHelper:DD,Sprite:ME,SpriteMaterial:jx,SrcAlphaFactor:Tx,SrcAlphaSaturateFactor:EM,SrcColorFactor:xM,StaticCopyUsage:H2,StaticDrawUsage:Bd,StaticReadUsage:B2,StereoCamera:uD,StreamCopyUsage:W2,StreamDrawUsage:F2,StreamReadUsage:V2,StringKeyframeTrack:tc,SubtractEquation:mM,SubtractiveBlending:yy,TOUCH:Cu,TangentSpaceNormalMap:Rl,TetrahedronBufferGeometry:cU,TetrahedronGeometry:fp,Texture:On,TextureLoader:s0,TorusBufferGeometry:fU,TorusGeometry:hp,TorusKnotBufferGeometry:hU,TorusKnotGeometry:dp,Triangle:Dr,TriangleFanDrawMode:S2,TriangleStripDrawMode:_2,TrianglesDrawMode:A2,TubeBufferGeometry:dU,TubeGeometry:pp,TwoPassDoubleSide:m2,UVMapping:Yg,Uint16BufferAttribute:Ox,Uint32BufferAttribute:Fx,Uint8BufferAttribute:bP,Uint8ClampedBufferAttribute:CP,Uniform:hA,UniformsGroup:CD,UniformsLib:Ze,UniformsUtils:dE,UnsignedByteType:_a,UnsignedInt248Type:Vu,UnsignedIntType:xl,UnsignedShort4444Type:HM,UnsignedShort5551Type:GM,UnsignedShortType:Rx,VSMShadowMap:Ws,Vector2:Ie,Vector3:G,Vector4:vn,VectorKeyframeTrack:Xd,VideoTexture:dN,WebGL1Renderer:SE,WebGL3DRenderTarget:pP,WebGLArrayRenderTarget:dP,WebGLCubeRenderTarget:zx,WebGLMultipleRenderTargets:mP,WebGLRenderTarget:Zs,WebGLRenderer:Wx,WebGLUtils:xE,WireframeGeometry:BE,WrapAroundEnding:Fd,ZeroCurvatureEnding:Uu,ZeroFactor:vM,ZeroSlopeEnding:ku,ZeroStencilOp:w2,_SRGBAFormat:Cg,sRGBEncoding:_l},Symbol.toStringTag,{value:"Module"}));var Rv={exports:{}},ml={};var sS;function mU(){return sS||(sS=1,ml.ConcurrentRoot=1,ml.ContinuousEventPriority=4,ml.DefaultEventPriority=16,ml.DiscreteEventPriority=1,ml.IdleEventPriority=536870912,ml.LegacyRoot=0),ml}var oS;function gU(){return oS||(oS=1,Rv.exports=mU()),Rv.exports}var zf=gU();function vU(i){let e;const t=new Set,n=(d,m)=>{const g=typeof d=="function"?d(e):d;if(g!==e){const v=e;e=m?g:Object.assign({},e,g),t.forEach(A=>A(e,v))}},r=()=>e,o=(d,m=r,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=m(e);function A(){const S=m(e);if(!g(v,S)){const E=v;d(v=S,E)}}return t.add(A),()=>t.delete(A)},h={setState:n,getState:r,subscribe:(d,m,g)=>m||g?o(d,m,g):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=i(n,r,h),h}const yU=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),aS=yU?J.useEffect:J.useLayoutEffect;function xU(i){const e=typeof i=="function"?vU(i):i,t=(n=e.getState,r=Object.is)=>{const[,o]=J.useReducer(M=>M+1,0),a=e.getState(),u=J.useRef(a),h=J.useRef(n),d=J.useRef(r),m=J.useRef(!1),g=J.useRef();g.current===void 0&&(g.current=n(a));let v,A=!1;(u.current!==a||h.current!==n||d.current!==r||m.current)&&(v=n(a),A=!r(g.current,v)),aS(()=>{A&&(g.current=v),u.current=a,h.current=n,d.current=r,m.current=!1});const S=J.useRef(a);aS(()=>{const M=()=>{try{const C=e.getState(),b=h.current(C);d.current(g.current,b)||(u.current=C,g.current=b,o())}catch{m.current=!0,o()}},_=e.subscribe(M);return e.getState()!==S.current&&M(),_},[]);const E=A?v:g.current;return J.useDebugValue(E),E};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}var Lv={exports:{}},Iv={exports:{}},Nv={};var lS;function AU(){return lS||(lS=1,(function(i){function e(B,Z){var k=B.length;B.push(Z);e:for(;0<k;){var Q=k-1>>>1,ne=B[Q];if(0<r(ne,Z))B[Q]=Z,B[k]=ne,k=Q;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],k=B.pop();if(k!==Z){B[0]=k;e:for(var Q=0,ne=B.length,ae=ne>>>1;Q<ae;){var ce=2*(Q+1)-1,Ce=B[ce],Ee=ce+1,$=B[Ee];if(0>r(Ce,k))Ee<ne&&0>r($,Ce)?(B[Q]=$,B[Ee]=k,Q=Ee):(B[Q]=Ce,B[ce]=k,Q=ce);else if(Ee<ne&&0>r($,k))B[Q]=$,B[Ee]=k,Q=Ee;else break e}}return Z}function r(B,Z){var k=B.sortIndex-Z.sortIndex;return k!==0?k:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();i.unstable_now=function(){return a.now()-u}}var h=[],d=[],m=1,g=null,v=3,A=!1,S=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var Z=t(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=B)n(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function L(B){if(E=!1,b(B),!S)if(t(h)!==null)S=!0,ge(D);else{var Z=t(d);Z!==null&&de(L,Z.startTime-B)}}function D(B,Z){S=!1,E&&(E=!1,_(V),V=-1),A=!0;var k=v;try{for(b(Z),g=t(h);g!==null&&(!(g.expirationTime>Z)||B&&!K());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var ne=Q(g.expirationTime<=Z);Z=i.unstable_now(),typeof ne=="function"?g.callback=ne:g===t(h)&&n(h),b(Z)}else n(h);g=t(h)}if(g!==null)var ae=!0;else{var ce=t(d);ce!==null&&de(L,ce.startTime-Z),ae=!1}return ae}finally{g=null,v=k,A=!1}}var U=!1,z=null,V=-1,N=5,F=-1;function K(){return!(i.unstable_now()-F<N)}function oe(){if(z!==null){var B=i.unstable_now();F=B;var Z=!0;try{Z=z(!0,B)}finally{Z?te():(U=!1,z=null)}}else U=!1}var te;if(typeof C=="function")te=function(){C(oe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=oe,te=function(){le.postMessage(null)}}else te=function(){M(oe,0)};function ge(B){z=B,U||(U=!0,te())}function de(B,Z){V=M(function(){B(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){S||A||(S=!0,ge(D))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var k=v;v=Z;try{return B()}finally{v=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=v;v=B;try{return Z()}finally{v=k}},i.unstable_scheduleCallback=function(B,Z,k){var Q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,B={id:m++,callback:Z,priorityLevel:B,startTime:k,expirationTime:ne,sortIndex:-1},k>Q?(B.sortIndex=k,e(d,B),t(h)===null&&B===t(d)&&(E?(_(V),V=-1):E=!0,de(L,k-Q))):(B.sortIndex=ne,e(h,B),S||A||(S=!0,ge(D))),B},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(B){var Z=v;return function(){var k=v;v=Z;try{return B.apply(this,arguments)}finally{v=k}}}})(Nv)),Nv}var uS;function _U(){return uS||(uS=1,Iv.exports=AU()),Iv.exports}var Dv,cS;function SU(){return cS||(cS=1,Dv=function(e){var t={},n=$f(),r=_U(),o=Object.assign;function a(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),D=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=D&&c[D]||c["@@iterator"],typeof c=="function"?c:null)}function z(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case _:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case S:return(c.displayName||"Context")+".Consumer";case A:return(c._context.displayName||"Context")+".Provider";case E:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case C:return f=c.displayName||null,f!==null?f:z(c.type)||"Memo";case b:f=c._payload,c=c._init;try{return z(c(f))}catch{}}return null}function V(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(f);case 8:return f===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function N(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function F(c){if(N(c)!==c)throw Error(a(188))}function K(c){var f=c.alternate;if(!f){if(f=N(c),f===null)throw Error(a(188));return f!==c?null:c}for(var y=c,w=f;;){var P=y.return;if(P===null)break;var I=P.alternate;if(I===null){if(w=P.return,w!==null){y=w;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===y)return F(P),c;if(I===w)return F(P),f;I=I.sibling}throw Error(a(188))}if(y.return!==w.return)y=P,w=I;else{for(var X=!1,fe=P.child;fe;){if(fe===y){X=!0,y=P,w=I;break}if(fe===w){X=!0,w=P,y=I;break}fe=fe.sibling}if(!X){for(fe=I.child;fe;){if(fe===y){X=!0,y=I,w=P;break}if(fe===w){X=!0,w=I,y=P;break}fe=fe.sibling}if(!X)throw Error(a(189))}}if(y.alternate!==w)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?c:f}function oe(c){return c=K(c),c!==null?te(c):null}function te(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=te(c);if(f!==null)return f;c=c.sibling}return null}function se(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=se(c);if(f!==null)return f}c=c.sibling}return null}var le=Array.isArray,ge=e.getPublicInstance,de=e.getRootHostContext,B=e.getChildHostContext,Z=e.prepareForCommit,k=e.resetAfterCommit,Q=e.createInstance,ne=e.appendInitialChild,ae=e.finalizeInitialChildren,ce=e.prepareUpdate,Ce=e.shouldSetTextContent,Ee=e.createTextInstance,$=e.scheduleTimeout,Ge=e.cancelTimeout,$e=e.noTimeout,Ue=e.isPrimaryRenderer,Oe=e.supportsMutation,Re=e.supportsPersistence,Ae=e.supportsHydration,Ne=e.getInstanceFromNode,Ke=e.preparePortalMount,Qe=e.getCurrentEventPriority,lt=e.detachDeletedInstance,yt=e.supportsMicrotasks,ct=e.scheduleMicrotask,wt=e.supportsTestSelectors,Ut=e.findFiberRoot,Y=e.getBoundingRect,H=e.getTextContent,_e=e.isHiddenSubtree,Fe=e.matchAccessibilityRole,Ve=e.setFocusIfFocusable,je=e.setupIntersectionObserver,At=e.appendChild,nt=e.appendChildToContainer,be=e.commitTextUpdate,st=e.commitMount,_t=e.commitUpdate,St=e.insertBefore,it=e.insertInContainerBefore,dt=e.removeChild,ie=e.removeChildFromContainer,De=e.resetTextContent,et=e.hideInstance,ee=e.hideTextInstance,Se=e.unhideInstance,ke=e.unhideTextInstance,Ye=e.clearContainer,pt=e.cloneInstance,en=e.createContainerChildSet,Bt=e.appendChildToContainerChildSet,dn=e.finalizeContainerChildren,ri=e.replaceContainerChildren,rn=e.cloneHiddenInstance,Nn=e.cloneHiddenTextInstance,Fn=e.canHydrateInstance,$s=e.canHydrateTextInstance,eo=e.canHydrateSuspenseInstance,rc=e.isSuspenseInstancePending,As=e.isSuspenseInstanceFallback,Ta=e.registerSuspenseInstanceRetry,j=e.getNextHydratableSibling,ye=e.getFirstHydratableChild,Pe=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,Le=e.hydrateInstance,mt=e.hydrateTextInstance,Et=e.hydrateSuspenseInstance,Pt=e.getNextHydratableInstanceAfterSuspenseInstance,kt=e.commitHydratedContainer,Vt=e.commitHydratedSuspenseInstance,Ht=e.clearSuspenseBoundary,jt=e.clearSuspenseBoundaryFromContainer,on=e.shouldDeleteUnhydratedTailInstances,gi=e.didNotMatchHydratedContainerTextInstance,ir=e.didNotMatchHydratedTextInstance,an;function yn(c){if(an===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);an=f&&f[1]||""}return`
`+an+c}var Gt=!1;function to(c,f){if(!c||Gt)return"";Gt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(We){var w=We}Reflect.construct(c,[],f)}else{try{f.call()}catch(We){w=We}c.call(f.prototype)}else{try{throw Error()}catch(We){w=We}c()}}catch(We){if(We&&w&&typeof We.stack=="string"){for(var P=We.stack.split(`
`),I=w.stack.split(`
`),X=P.length-1,fe=I.length-1;1<=X&&0<=fe&&P[X]!==I[fe];)fe--;for(;1<=X&&0<=fe;X--,fe--)if(P[X]!==I[fe]){if(X!==1||fe!==1)do if(X--,fe--,0>fe||P[X]!==I[fe]){var Te=`
`+P[X].replace(" at new "," at ");return c.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",c.displayName)),Te}while(1<=X&&0<=fe);break}}}finally{Gt=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?yn(c):""}var Cn=Object.prototype.hasOwnProperty,Fr=[],rs=-1;function vi(c){return{current:c}}function qt(c){0>rs||(c.current=Fr[rs],Fr[rs]=null,rs--)}function Ot(c,f){rs++,Fr[rs]=c.current,c.current=f}var xn={},jn=vi(xn),pn=vi(!1),Br=xn;function zr(c,f){var y=c.type.contextTypes;if(!y)return xn;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in y)P[I]=f[I];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=P),P}function Xn(c){return c=c.childContextTypes,c!=null}function no(){qt(pn),qt(jn)}function Ul(c,f,y){if(jn.current!==xn)throw Error(a(168));Ot(jn,f),Ot(pn,y)}function Ep(c,f,y){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var P in w)if(!(P in f))throw Error(a(108,V(c)||"Unknown",P));return o({},y,w)}function sc(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||xn,Br=jn.current,Ot(jn,c),Ot(pn,pn.current),!0}function oc(c,f,y){var w=c.stateNode;if(!w)throw Error(a(169));y?(c=Ep(c,f,Br),w.__reactInternalMemoizedMergedChildContext=c,qt(pn),qt(jn),Ot(jn,c)):qt(pn),Ot(pn,y)}var vr=Math.clz32?Math.clz32:v0,uh=Math.log,kl=Math.LN2;function v0(c){return c>>>=0,c===0?32:31-(uh(c)/kl|0)|0}var ba=64,sn=4194304;function Ca(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ol(c,f){var y=c.pendingLanes;if(y===0)return 0;var w=0,P=c.suspendedLanes,I=c.pingedLanes,X=y&268435455;if(X!==0){var fe=X&~P;fe!==0?w=Ca(fe):(I&=X,I!==0&&(w=Ca(I)))}else X=y&~P,X!==0?w=Ca(X):I!==0&&(w=Ca(I));if(w===0)return 0;if(f!==0&&f!==w&&(f&P)===0&&(P=w&-w,I=f&-f,P>=I||P===16&&(I&4194240)!==0))return f;if((w&4)!==0&&(w|=y&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)y=31-vr(f),P=1<<y,w|=c[y],f&=~P;return w}function ch(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tp(c,f){for(var y=c.suspendedLanes,w=c.pingedLanes,P=c.expirationTimes,I=c.pendingLanes;0<I;){var X=31-vr(I),fe=1<<X,Te=P[X];Te===-1?((fe&y)===0||(fe&w)!==0)&&(P[X]=ch(fe,f)):Te<=f&&(c.expiredLanes|=fe),I&=~fe}}function ac(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function lc(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function Io(c,f,y){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-vr(f),c[f]=y}function uc(c,f){var y=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<y;){var P=31-vr(y),I=1<<P;f[P]=0,w[P]=-1,c[P]=-1,y&=~I}}function ss(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var w=31-vr(y),P=1<<w;P&f|c[w]&f&&(c[w]|=f),y&=~P}}var Xt=0;function _s(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var No=r.unstable_scheduleCallback,Pa=r.unstable_cancelCallback,io=r.unstable_shouldYield,y0=r.unstable_requestPaint,Kn=r.unstable_now,Do=r.unstable_ImmediatePriority,x0=r.unstable_UserBlockingPriority,cc=r.unstable_NormalPriority,fc=r.unstable_IdlePriority,Fl=null,os=null;function Bl(c){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Fl,c,void 0,(c.current.flags&128)===128)}catch{}}function zl(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ii=typeof Object.is=="function"?Object.is:zl,yr=null,hc=!1,fh=!1;function dc(c){yr===null?yr=[c]:yr.push(c)}function pc(c){hc=!0,dc(c)}function xr(){if(!fh&&yr!==null){fh=!0;var c=0,f=Xt;try{var y=yr;for(Xt=1;c<y.length;c++){var w=y[c];do w=w(!0);while(w!==null)}yr=null,hc=!1}catch(P){throw yr!==null&&(yr=yr.slice(c+1)),No(Do,xr),P}finally{Xt=f,fh=!1}}return null}var bp=u.ReactCurrentBatchConfig;function Vr(c,f){if(Ii(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),w=Object.keys(f);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var P=y[w];if(!Cn.call(f,P)||!Ii(c[P],f[P]))return!1}return!0}function hh(c){switch(c.tag){case 5:return yn(c.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return c=to(c.type,!1),c;case 11:return c=to(c.type.render,!1),c;case 1:return c=to(c.type,!0),c;default:return""}}function ji(c,f){if(c&&c.defaultProps){f=o({},f),c=c.defaultProps;for(var y in c)f[y]===void 0&&(f[y]=c[y]);return f}return f}var Vl=vi(null),Uo=null,Ss=null,mc=null;function Ni(){mc=Ss=Uo=null}function ko(c,f,y){Ue?(Ot(Vl,f._currentValue),f._currentValue=y):(Ot(Vl,f._currentValue2),f._currentValue2=y)}function Hl(c){var f=Vl.current;qt(Vl),Ue?c._currentValue=f:c._currentValue2=f}function Oo(c,f,y){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===y)break;c=c.return}}function Ra(c,f){Uo=c,mc=Ss=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(li=!0),c.firstContext=null)}function Xi(c){var f=Ue?c._currentValue:c._currentValue2;if(mc!==c)if(c={context:c,memoizedValue:f,next:null},Ss===null){if(Uo===null)throw Error(a(308));Ss=c,Uo.dependencies={lanes:0,firstContext:c}}else Ss=Ss.next=c;return f}var Ar=null,_r=!1;function La(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ws(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function ro(c,f){var y=c.updateQueue;y!==null&&(y=y.shared,Ln!==null&&(c.mode&1)!==0&&(Wt&2)===0?(c=y.interleaved,c===null?(f.next=f,Ar===null?Ar=[y]:Ar.push(y)):(f.next=c.next,c.next=f),y.interleaved=f):(c=y.pending,c===null?f.next=f:(f.next=c.next,c.next=f),y.pending=f))}function gc(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,y|=w,f.lanes=y,ss(c,y)}}function vc(c,f){var y=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var P=null,I=null;if(y=y.firstBaseUpdate,y!==null){do{var X={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};I===null?P=I=X:I=I.next=X,y=y.next}while(y!==null);I===null?P=I=f:I=I.next=f}else P=I=f;y={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:w.shared,effects:w.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function yc(c,f,y,w){var P=c.updateQueue;_r=!1;var I=P.firstBaseUpdate,X=P.lastBaseUpdate,fe=P.shared.pending;if(fe!==null){P.shared.pending=null;var Te=fe,We=Te.next;Te.next=null,X===null?I=We:X.next=We,X=Te;var ot=c.alternate;ot!==null&&(ot=ot.updateQueue,fe=ot.lastBaseUpdate,fe!==X&&(fe===null?ot.firstBaseUpdate=We:fe.next=We,ot.lastBaseUpdate=Te))}if(I!==null){var Dt=P.baseState;X=0,ot=We=Te=null,fe=I;do{var Mt=fe.lane,gn=fe.eventTime;if((w&Mt)===Mt){ot!==null&&(ot=ot.next={eventTime:gn,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var tt=c,fn=fe;switch(Mt=f,gn=y,fn.tag){case 1:if(tt=fn.payload,typeof tt=="function"){Dt=tt.call(gn,Dt,Mt);break e}Dt=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=fn.payload,Mt=typeof tt=="function"?tt.call(gn,Dt,Mt):tt,Mt==null)break e;Dt=o({},Dt,Mt);break e;case 2:_r=!0}}fe.callback!==null&&fe.lane!==0&&(c.flags|=64,Mt=P.effects,Mt===null?P.effects=[fe]:Mt.push(fe))}else gn={eventTime:gn,lane:Mt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ot===null?(We=ot=gn,Te=Dt):ot=ot.next=gn,X|=Mt;if(fe=fe.next,fe===null){if(fe=P.shared.pending,fe===null)break;Mt=fe,fe=Mt.next,Mt.next=null,P.lastBaseUpdate=Mt,P.shared.pending=null}}while(!0);if(ot===null&&(Te=Dt),P.baseState=Te,P.firstBaseUpdate=We,P.lastBaseUpdate=ot,f=P.shared.interleaved,f!==null){P=f;do X|=P.lane,P=P.next;while(P!==f)}else I===null&&(P.shared.lanes=0);$o|=X,c.lanes=X,c.memoizedState=Dt}}function Cp(c,f,y){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],P=w.callback;if(P!==null){if(w.callback=null,w=y,typeof P!="function")throw Error(a(191,P));P.call(w)}}}var Pp=new n.Component().refs;function ph(c,f,y,w){f=c.memoizedState,y=y(w,f),y=y==null?f:o({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var xc={isMounted:function(c){return(c=c._reactInternals)?N(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var w=fi(),P=hs(c),I=ws(w,P);I.payload=f,y!=null&&(I.callback=y),ro(c,I),f=Zi(c,P,w),f!==null&&gc(f,c,P)},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var w=fi(),P=hs(c),I=ws(w,P);I.tag=1,I.payload=f,y!=null&&(I.callback=y),ro(c,I),f=Zi(c,P,w),f!==null&&gc(f,c,P)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=fi(),w=hs(c),P=ws(y,w);P.tag=2,f!=null&&(P.callback=f),ro(c,P),f=Zi(c,w,y),f!==null&&gc(f,c,w)}};function mh(c,f,y,w,P,I,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,I,X):f.prototype&&f.prototype.isPureReactComponent?!Vr(y,w)||!Vr(P,I):!0}function Rp(c,f,y){var w=!1,P=xn,I=f.contextType;return typeof I=="object"&&I!==null?I=Xi(I):(P=Xn(f)?Br:jn.current,w=f.contextTypes,I=(w=w!=null)?zr(c,P):xn),f=new f(y,I),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xc,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=I),f}function Lp(c,f,y,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,w),f.state!==c&&xc.enqueueReplaceState(f,f.state,null)}function gh(c,f,y,w){var P=c.stateNode;P.props=y,P.state=c.memoizedState,P.refs=Pp,La(c);var I=f.contextType;typeof I=="object"&&I!==null?P.context=Xi(I):(I=Xn(f)?Br:jn.current,P.context=zr(c,I)),P.state=c.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(ph(c,f,I,y),P.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(f=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),f!==P.state&&xc.enqueueReplaceState(P,P.state,null),yc(c,y,P,w),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}var Ia=[],so=0,Ac=null,_c=0,Sr=[],rr=0,Fo=null,Ms=1,Es="";function Bo(c,f){Ia[so++]=_c,Ia[so++]=Ac,Ac=c,_c=f}function Ip(c,f,y){Sr[rr++]=Ms,Sr[rr++]=Es,Sr[rr++]=Fo,Fo=c;var w=Ms;c=Es;var P=32-vr(w)-1;w&=~(1<<P),y+=1;var I=32-vr(f)+P;if(30<I){var X=P-P%5;I=(w&(1<<X)-1).toString(32),w>>=X,P-=X,Ms=1<<32-vr(f)+P|y<<P|w,Es=I+c}else Ms=1<<I|y<<P|w,Es=c}function vh(c){c.return!==null&&(Bo(c,1),Ip(c,1,0))}function yh(c){for(;c===Ac;)Ac=Ia[--so],Ia[so]=null,_c=Ia[--so],Ia[so]=null;for(;c===Fo;)Fo=Sr[--rr],Sr[rr]=null,Es=Sr[--rr],Sr[rr]=null,Ms=Sr[--rr],Sr[rr]=null}var Di=null,yi=null,Tn=!1,Na=!1,wr=null;function xh(c,f){var y=ur(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=c,f=c.deletions,f===null?(c.deletions=[y],c.flags|=16):f.push(y)}function Ah(c,f){switch(c.tag){case 5:return f=Fn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,Di=c,yi=ye(f),!0):!1;case 6:return f=$s(f,c.pendingProps),f!==null?(c.stateNode=f,Di=c,yi=null,!0):!1;case 13:if(f=eo(f),f!==null){var y=Fo!==null?{id:Ms,overflow:Es}:null;return c.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=ur(18,null,null,0),y.stateNode=f,y.return=c,c.child=y,Di=c,yi=null,!0}return!1;default:return!1}}function Sc(c){return(c.mode&1)!==0&&(c.flags&128)===0}function oo(c){if(Tn){var f=yi;if(f){var y=f;if(!Ah(c,f)){if(Sc(c))throw Error(a(418));f=j(y);var w=Di;f&&Ah(c,f)?xh(w,y):(c.flags=c.flags&-4097|2,Tn=!1,Di=c)}}else{if(Sc(c))throw Error(a(418));c.flags=c.flags&-4097|2,Tn=!1,Di=c}}}function Np(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Di=c}function Gl(c){if(!Ae||c!==Di)return!1;if(!Tn)return Np(c),Tn=!0,!1;if(c.tag!==3&&(c.tag!==5||on(c.type)&&!Ce(c.type,c.memoizedProps))){var f=yi;if(f){if(Sc(c)){for(c=yi;c;)c=j(c);throw Error(a(418))}for(;f;)xh(c,f),f=j(f)}}if(Np(c),c.tag===13){if(!Ae)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));yi=Pt(c)}else yi=Di?j(c.stateNode):null;return!0}function Da(){Ae&&(yi=Di=null,Na=Tn=!1)}function wc(c){wr===null?wr=[c]:wr.push(c)}function Ua(c,f,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(a(309));var w=y.stateNode}if(!w)throw Error(a(147,c));var P=w,I=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(X){var fe=P.refs;fe===Pp&&(fe=P.refs={}),X===null?delete fe[I]:fe[I]=X},f._stringRef=I,f)}if(typeof c!="string")throw Error(a(284));if(!y._owner)throw Error(a(290,c))}return c}function ao(c,f){throw c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function ka(c){var f=c._init;return f(c._payload)}function Dp(c){function f(xe,he){if(c){var Me=xe.deletions;Me===null?(xe.deletions=[he],xe.flags|=16):Me.push(he)}}function y(xe,he){if(!c)return null;for(;he!==null;)f(xe,he),he=he.sibling;return null}function w(xe,he){for(xe=new Map;he!==null;)he.key!==null?xe.set(he.key,he):xe.set(he.index,he),he=he.sibling;return xe}function P(xe,he){return xe=Os(xe,he),xe.index=0,xe.sibling=null,xe}function I(xe,he,Me){return xe.index=Me,c?(Me=xe.alternate,Me!==null?(Me=Me.index,Me<he?(xe.flags|=2,he):Me):(xe.flags|=2,he)):(xe.flags|=1048576,he)}function X(xe){return c&&xe.alternate===null&&(xe.flags|=2),xe}function fe(xe,he,Me,Je){return he===null||he.tag!==6?(he=tf(Me,xe.mode,Je),he.return=xe,he):(he=P(he,Me),he.return=xe,he)}function Te(xe,he,Me,Je){var gt=Me.type;return gt===m?ot(xe,he,Me.props.children,Je,Me.key):he!==null&&(he.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&ka(gt)===he.type)?(Je=P(he,Me.props),Je.ref=Ua(xe,he,Me),Je.return=xe,Je):(Je=hu(Me.type,Me.key,Me.props,null,xe.mode,Je),Je.ref=Ua(xe,he,Me),Je.return=xe,Je)}function We(xe,he,Me,Je){return he===null||he.tag!==4||he.stateNode.containerInfo!==Me.containerInfo||he.stateNode.implementation!==Me.implementation?(he=nf(Me,xe.mode,Je),he.return=xe,he):(he=P(he,Me.children||[]),he.return=xe,he)}function ot(xe,he,Me,Je,gt){return he===null||he.tag!==7?(he=Ao(Me,xe.mode,Je,gt),he.return=xe,he):(he=P(he,Me),he.return=xe,he)}function Dt(xe,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number")return he=tf(""+he,xe.mode,Me),he.return=xe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case h:return Me=hu(he.type,he.key,he.props,null,xe.mode,Me),Me.ref=Ua(xe,null,he),Me.return=xe,Me;case d:return he=nf(he,xe.mode,Me),he.return=xe,he;case b:var Je=he._init;return Dt(xe,Je(he._payload),Me)}if(le(he)||U(he))return he=Ao(he,xe.mode,Me,null),he.return=xe,he;ao(xe,he)}return null}function Mt(xe,he,Me,Je){var gt=he!==null?he.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return gt!==null?null:fe(xe,he,""+Me,Je);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case h:return Me.key===gt?Te(xe,he,Me,Je):null;case d:return Me.key===gt?We(xe,he,Me,Je):null;case b:return gt=Me._init,Mt(xe,he,gt(Me._payload),Je)}if(le(Me)||U(Me))return gt!==null?null:ot(xe,he,Me,Je,null);ao(xe,Me)}return null}function gn(xe,he,Me,Je,gt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return xe=xe.get(Me)||null,fe(he,xe,""+Je,gt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case h:return xe=xe.get(Je.key===null?Me:Je.key)||null,Te(he,xe,Je,gt);case d:return xe=xe.get(Je.key===null?Me:Je.key)||null,We(he,xe,Je,gt);case b:var zt=Je._init;return gn(xe,he,Me,zt(Je._payload),gt)}if(le(Je)||U(Je))return xe=xe.get(Me)||null,ot(he,xe,Je,gt,null);ao(he,Je)}return null}function tt(xe,he,Me,Je){for(var gt=null,zt=null,Lt=he,nn=he=0,$n=null;Lt!==null&&nn<Me.length;nn++){Lt.index>nn?($n=Lt,Lt=null):$n=Lt.sibling;var tn=Mt(xe,Lt,Me[nn],Je);if(tn===null){Lt===null&&(Lt=$n);break}c&&Lt&&tn.alternate===null&&f(xe,Lt),he=I(tn,he,nn),zt===null?gt=tn:zt.sibling=tn,zt=tn,Lt=$n}if(nn===Me.length)return y(xe,Lt),Tn&&Bo(xe,nn),gt;if(Lt===null){for(;nn<Me.length;nn++)Lt=Dt(xe,Me[nn],Je),Lt!==null&&(he=I(Lt,he,nn),zt===null?gt=Lt:zt.sibling=Lt,zt=Lt);return Tn&&Bo(xe,nn),gt}for(Lt=w(xe,Lt);nn<Me.length;nn++)$n=gn(Lt,xe,nn,Me[nn],Je),$n!==null&&(c&&$n.alternate!==null&&Lt.delete($n.key===null?nn:$n.key),he=I($n,he,nn),zt===null?gt=$n:zt.sibling=$n,zt=$n);return c&&Lt.forEach(function(ds){return f(xe,ds)}),Tn&&Bo(xe,nn),gt}function fn(xe,he,Me,Je){var gt=U(Me);if(typeof gt!="function")throw Error(a(150));if(Me=gt.call(Me),Me==null)throw Error(a(151));for(var zt=gt=null,Lt=he,nn=he=0,$n=null,tn=Me.next();Lt!==null&&!tn.done;nn++,tn=Me.next()){Lt.index>nn?($n=Lt,Lt=null):$n=Lt.sibling;var ds=Mt(xe,Lt,tn.value,Je);if(ds===null){Lt===null&&(Lt=$n);break}c&&Lt&&ds.alternate===null&&f(xe,Lt),he=I(ds,he,nn),zt===null?gt=ds:zt.sibling=ds,zt=ds,Lt=$n}if(tn.done)return y(xe,Lt),Tn&&Bo(xe,nn),gt;if(Lt===null){for(;!tn.done;nn++,tn=Me.next())tn=Dt(xe,tn.value,Je),tn!==null&&(he=I(tn,he,nn),zt===null?gt=tn:zt.sibling=tn,zt=tn);return Tn&&Bo(xe,nn),gt}for(Lt=w(xe,Lt);!tn.done;nn++,tn=Me.next())tn=gn(Lt,xe,nn,tn.value,Je),tn!==null&&(c&&tn.alternate!==null&&Lt.delete(tn.key===null?nn:tn.key),he=I(tn,he,nn),zt===null?gt=tn:zt.sibling=tn,zt=tn);return c&&Lt.forEach(function($p){return f(xe,$p)}),Tn&&Bo(xe,nn),gt}function cr(xe,he,Me,Je){if(typeof Me=="object"&&Me!==null&&Me.type===m&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case h:e:{for(var gt=Me.key,zt=he;zt!==null;){if(zt.key===gt){if(gt=Me.type,gt===m){if(zt.tag===7){y(xe,zt.sibling),he=P(zt,Me.props.children),he.return=xe,xe=he;break e}}else if(zt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&ka(gt)===zt.type){y(xe,zt.sibling),he=P(zt,Me.props),he.ref=Ua(xe,zt,Me),he.return=xe,xe=he;break e}y(xe,zt);break}else f(xe,zt);zt=zt.sibling}Me.type===m?(he=Ao(Me.props.children,xe.mode,Je,Me.key),he.return=xe,xe=he):(Je=hu(Me.type,Me.key,Me.props,null,xe.mode,Je),Je.ref=Ua(xe,he,Me),Je.return=xe,xe=Je)}return X(xe);case d:e:{for(zt=Me.key;he!==null;){if(he.key===zt)if(he.tag===4&&he.stateNode.containerInfo===Me.containerInfo&&he.stateNode.implementation===Me.implementation){y(xe,he.sibling),he=P(he,Me.children||[]),he.return=xe,xe=he;break e}else{y(xe,he);break}else f(xe,he);he=he.sibling}he=nf(Me,xe.mode,Je),he.return=xe,xe=he}return X(xe);case b:return zt=Me._init,cr(xe,he,zt(Me._payload),Je)}if(le(Me))return tt(xe,he,Me,Je);if(U(Me))return fn(xe,he,Me,Je);ao(xe,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,he!==null&&he.tag===6?(y(xe,he.sibling),he=P(he,Me),he.return=xe,xe=he):(y(xe,he),he=tf(Me,xe.mode,Je),he.return=xe,xe=he),X(xe)):y(xe,he)}return cr}var Ts=Dp(!0),Up=Dp(!1),Oa={},Yi=vi(Oa),zo=vi(Oa),Vo=vi(Oa);function Hr(c){if(c===Oa)throw Error(a(174));return c}function Mc(c,f){Ot(Vo,f),Ot(zo,c),Ot(Yi,Oa),c=de(f),qt(Yi),Ot(Yi,c)}function Fa(){qt(Yi),qt(zo),qt(Vo)}function kp(c){var f=Hr(Vo.current),y=Hr(Yi.current);f=B(y,c.type,f),y!==f&&(Ot(zo,c),Ot(Yi,f))}function _h(c){zo.current===c&&(qt(Yi),qt(zo))}var Pn=vi(0);function Ec(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||rc(y)||As(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var sr=[];function Ho(){for(var c=0;c<sr.length;c++){var f=sr[c];Ue?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}sr.length=0}var Wl=u.ReactCurrentDispatcher,or=u.ReactCurrentBatchConfig,Go=0,Rn=null,si=null,oi=null,Tc=!1,as=!1,Wo=0,jl=0;function ai(){throw Error(a(321))}function bc(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!Ii(c[y],f[y]))return!1;return!0}function Ba(c,f,y,w,P,I){if(Go=I,Rn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Wl.current=c===null||c.memoizedState===null?bh:Ch,c=y(w,P),as){I=0;do{if(as=!1,Wo=0,25<=I)throw Error(a(301));I+=1,oi=si=null,f.updateQueue=null,Wl.current=Ph,c=y(w,P)}while(as)}if(Wl.current=Ga,f=si!==null&&si.next!==null,Go=0,oi=si=Rn=null,Tc=!1,f)throw Error(a(300));return c}function lo(){var c=Wo!==0;return Wo=0,c}function Gr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Rn.memoizedState=oi=c:oi=oi.next=c,oi}function Wr(){if(si===null){var c=Rn.alternate;c=c!==null?c.memoizedState:null}else c=si.next;var f=oi===null?Rn.memoizedState:oi.next;if(f!==null)oi=f,si=c;else{if(c===null)throw Error(a(310));si=c,c={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},oi===null?Rn.memoizedState=oi=c:oi=oi.next=c}return oi}function ls(c,f){return typeof f=="function"?f(c):f}function Xl(c){var f=Wr(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var w=si,P=w.baseQueue,I=y.pending;if(I!==null){if(P!==null){var X=P.next;P.next=I.next,I.next=X}w.baseQueue=P=I,y.pending=null}if(P!==null){I=P.next,w=w.baseState;var fe=X=null,Te=null,We=I;do{var ot=We.lane;if((Go&ot)===ot)Te!==null&&(Te=Te.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),w=We.hasEagerState?We.eagerState:c(w,We.action);else{var Dt={lane:ot,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Te===null?(fe=Te=Dt,X=w):Te=Te.next=Dt,Rn.lanes|=ot,$o|=ot}We=We.next}while(We!==null&&We!==I);Te===null?X=w:Te.next=fe,Ii(w,f.memoizedState)||(li=!0),f.memoizedState=w,f.baseState=X,f.baseQueue=Te,y.lastRenderedState=w}if(c=y.interleaved,c!==null){P=c;do I=P.lane,Rn.lanes|=I,$o|=I,P=P.next;while(P!==c)}else P===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function Yl(c){var f=Wr(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var w=y.dispatch,P=y.pending,I=f.memoizedState;if(P!==null){y.pending=null;var X=P=P.next;do I=c(I,X.action),X=X.next;while(X!==P);Ii(I,f.memoizedState)||(li=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),y.lastRenderedState=I}return[I,w]}function Sh(){}function wh(c,f){var y=Rn,w=Wr(),P=f(),I=!Ii(w.memoizedState,P);if(I&&(w.memoizedState=P,li=!0),w=w.queue,za(bs.bind(null,y,w,c),[c]),w.getSnapshot!==f||I||oi!==null&&oi.memoizedState.tag&1){if(y.flags|=2048,ql(9,Eh.bind(null,y,w,P,f),void 0,null),Ln===null)throw Error(a(349));(Go&30)!==0||Mh(y,f,P)}return P}function Mh(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=Rn.updateQueue,f===null?(f={lastEffect:null,stores:null},Rn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Eh(c,f,y,w){f.value=y,f.getSnapshot=w,Cc(f)&&Zi(c,1,-1)}function bs(c,f,y){return y(function(){Cc(f)&&Zi(c,1,-1)})}function Cc(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!Ii(c,y)}catch{return!0}}function Ql(c){var f=Gr();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:c},f.queue=c,c=c.dispatch=A0.bind(null,Rn,c),[f.memoizedState,c]}function ql(c,f,y,w){return c={tag:c,create:f,destroy:y,deps:w,next:null},f=Rn.updateQueue,f===null?(f={lastEffect:null,stores:null},Rn.updateQueue=f,f.lastEffect=c.next=c):(y=f.lastEffect,y===null?f.lastEffect=c.next=c:(w=y.next,y.next=c,c.next=w,f.lastEffect=c)),c}function Op(){return Wr().memoizedState}function uo(c,f,y,w){var P=Gr();Rn.flags|=c,P.memoizedState=ql(1|f,y,void 0,w===void 0?null:w)}function Pc(c,f,y,w){var P=Wr();w=w===void 0?null:w;var I=void 0;if(si!==null){var X=si.memoizedState;if(I=X.destroy,w!==null&&bc(w,X.deps)){P.memoizedState=ql(f,y,I,w);return}}Rn.flags|=c,P.memoizedState=ql(1|f,y,I,w)}function Rc(c,f){return uo(8390656,8,c,f)}function za(c,f){return Pc(2048,8,c,f)}function An(c,f){return Pc(4,2,c,f)}function Lc(c,f){return Pc(4,4,c,f)}function Zl(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Va(c,f,y){return y=y!=null?y.concat([c]):null,Pc(4,4,Zl.bind(null,f,c),y)}function Ic(){}function Nc(c,f){var y=Wr();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&bc(f,w[1])?w[0]:(y.memoizedState=[c,f],c)}function Ha(c,f){var y=Wr();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&bc(f,w[1])?w[0]:(c=c(),y.memoizedState=[c,f],c)}function Dc(c,f){var y=Xt;Xt=y!==0&&4>y?y:4,c(!0);var w=or.transition;or.transition={};try{c(!1),f()}finally{Xt=y,or.transition=w}}function jo(){return Wr().memoizedState}function Fp(c,f,y){var w=hs(c);y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},Bp(c)?Th(f,y):(Kl(c,f,y),y=fi(),c=Zi(c,w,y),c!==null&&Jl(c,f,w))}function A0(c,f,y){var w=hs(c),P={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(Bp(c))Th(f,P);else{Kl(c,f,P);var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var X=f.lastRenderedState,fe=I(X,y);if(P.hasEagerState=!0,P.eagerState=fe,Ii(fe,X))return}catch{}y=fi(),c=Zi(c,w,y),c!==null&&Jl(c,f,w)}}function Bp(c){var f=c.alternate;return c===Rn||f!==null&&f===Rn}function Th(c,f){as=Tc=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Kl(c,f,y){Ln!==null&&(c.mode&1)!==0&&(Wt&2)===0?(c=f.interleaved,c===null?(y.next=y,Ar===null?Ar=[f]:Ar.push(f)):(y.next=c.next,c.next=y),f.interleaved=y):(c=f.pending,c===null?y.next=y:(y.next=c.next,c.next=y),f.pending=y)}function Jl(c,f,y){if((y&4194240)!==0){var w=f.lanes;w&=c.pendingLanes,y|=w,f.lanes=y,ss(c,y)}}var Ga={readContext:Xi,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},bh={readContext:Xi,useCallback:function(c,f){return Gr().memoizedState=[c,f===void 0?null:f],c},useContext:Xi,useEffect:Rc,useImperativeHandle:function(c,f,y){return y=y!=null?y.concat([c]):null,uo(4194308,4,Zl.bind(null,f,c),y)},useLayoutEffect:function(c,f){return uo(4194308,4,c,f)},useInsertionEffect:function(c,f){return uo(4,2,c,f)},useMemo:function(c,f){var y=Gr();return f=f===void 0?null:f,c=c(),y.memoizedState=[c,f],c},useReducer:function(c,f,y){var w=Gr();return f=y!==void 0?y(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=Fp.bind(null,Rn,c),[w.memoizedState,c]},useRef:function(c){var f=Gr();return c={current:c},f.memoizedState=c},useState:Ql,useDebugValue:Ic,useDeferredValue:function(c){var f=Ql(c),y=f[0],w=f[1];return Rc(function(){var P=or.transition;or.transition={};try{w(c)}finally{or.transition=P}},[c]),y},useTransition:function(){var c=Ql(!1),f=c[0];return c=Dc.bind(null,c[1]),Gr().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,y){var w=Rn,P=Gr();if(Tn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),Ln===null)throw Error(a(349));(Go&30)!==0||Mh(w,f,y)}P.memoizedState=y;var I={value:y,getSnapshot:f};return P.queue=I,Rc(bs.bind(null,w,I,c),[c]),w.flags|=2048,ql(9,Eh.bind(null,w,I,y,f),void 0,null),y},useId:function(){var c=Gr(),f=Ln.identifierPrefix;if(Tn){var y=Es,w=Ms;y=(w&~(1<<32-vr(w)-1)).toString(32)+y,f=":"+f+"R"+y,y=Wo++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=jl++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},Ch={readContext:Xi,useCallback:Nc,useContext:Xi,useEffect:za,useImperativeHandle:Va,useInsertionEffect:An,useLayoutEffect:Lc,useMemo:Ha,useReducer:Xl,useRef:Op,useState:function(){return Xl(ls)},useDebugValue:Ic,useDeferredValue:function(c){var f=Xl(ls),y=f[0],w=f[1];return za(function(){var P=or.transition;or.transition={};try{w(c)}finally{or.transition=P}},[c]),y},useTransition:function(){var c=Xl(ls)[0],f=Wr().memoizedState;return[c,f]},useMutableSource:Sh,useSyncExternalStore:wh,useId:jo,unstable_isNewReconciler:!1},Ph={readContext:Xi,useCallback:Nc,useContext:Xi,useEffect:za,useImperativeHandle:Va,useInsertionEffect:An,useLayoutEffect:Lc,useMemo:Ha,useReducer:Yl,useRef:Op,useState:function(){return Yl(ls)},useDebugValue:Ic,useDeferredValue:function(c){var f=Yl(ls),y=f[0],w=f[1];return za(function(){var P=or.transition;or.transition={};try{w(c)}finally{or.transition=P}},[c]),y},useTransition:function(){var c=Yl(ls)[0],f=Wr().memoizedState;return[c,f]},useMutableSource:Sh,useSyncExternalStore:wh,useId:jo,unstable_isNewReconciler:!1};function Rh(c,f){try{var y="",w=f;do y+=hh(w),w=w.return;while(w);var P=y}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:f,stack:P}}function Uc(c,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function zp(c,f,y){y=ws(-1,y),y.tag=3,y.payload={element:null};var w=f.value;return y.callback=function(){mo||(mo=!0,br=w),Uc(c,f)},y}function kc(c,f,y){y=ws(-1,y),y.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var P=f.value;y.payload=function(){return w(P)},y.callback=function(){Uc(c,f)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(y.callback=function(){Uc(c,f),typeof w!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),y}function Cs(c,f,y){var w=c.pingCache;if(w===null){w=c.pingCache=new _0;var P=new Set;w.set(f,P)}else P=w.get(f),P===void 0&&(P=new Set,w.set(f,P));P.has(y)||(P.add(y),c=Wp.bind(null,c,f,y),f.then(c,c))}function Lh(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function Xo(c,f,y,w,P){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=ws(-1,1),f.tag=2,ro(y,f))),y.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}function Jn(c){c.flags|=4}function Wa(c,f){if(c!==null&&c.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(c=f.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var ar,Yo,Oc,Fc;if(Oe)ar=function(c,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)ne(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Yo=function(){},Oc=function(c,f,y,w,P){if(c=c.memoizedProps,c!==w){var I=f.stateNode,X=Hr(Yi.current);y=ce(I,y,c,w,P,X),(f.updateQueue=y)&&Jn(f)}},Fc=function(c,f,y,w){y!==w&&Jn(f)};else if(Re){ar=function(c,f,y,w){for(var P=f.child;P!==null;){if(P.tag===5){var I=P.stateNode;y&&w&&(I=rn(I,P.type,P.memoizedProps,P)),ne(c,I)}else if(P.tag===6)I=P.stateNode,y&&w&&(I=Nn(I,P.memoizedProps,P)),ne(c,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),ar(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var co=function(c,f,y,w){for(var P=f.child;P!==null;){if(P.tag===5){var I=P.stateNode;y&&w&&(I=rn(I,P.type,P.memoizedProps,P)),Bt(c,I)}else if(P.tag===6)I=P.stateNode,y&&w&&(I=Nn(I,P.memoizedProps,P)),Bt(c,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),co(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Yo=function(c,f){var y=f.stateNode;if(!Wa(c,f)){c=y.containerInfo;var w=en(c);co(w,f,!1,!1),y.pendingChildren=w,Jn(f),dn(c,w)}},Oc=function(c,f,y,w,P){var I=c.stateNode,X=c.memoizedProps;if((c=Wa(c,f))&&X===w)f.stateNode=I;else{var fe=f.stateNode,Te=Hr(Yi.current),We=null;X!==w&&(We=ce(fe,y,X,w,P,Te)),c&&We===null?f.stateNode=I:(I=pt(I,We,y,X,w,f,c,fe),ae(I,y,w,P,Te)&&Jn(f),f.stateNode=I,c?Jn(f):ar(I,f,!1,!1))}},Fc=function(c,f,y,w){y!==w?(c=Hr(Vo.current),y=Hr(Yi.current),f.stateNode=Ee(w,c,y,f),Jn(f)):f.stateNode=c.stateNode}}else Yo=function(){},Oc=function(){},Fc=function(){};function Ps(c,f){if(!Tn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Bn(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,w=0;if(f)for(var P=c.child;P!==null;)y|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)y|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=w,c.childLanes=y,f}function Bc(c,f,y){var w=f.pendingProps;switch(yh(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(f),null;case 1:return Xn(f.type)&&no(),Bn(f),null;case 3:return w=f.stateNode,Fa(),qt(pn),qt(jn),Ho(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Gl(f)?Jn(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,wr!==null&&(Vn(wr),wr=null))),Yo(c,f),Bn(f),null;case 5:_h(f),y=Hr(Vo.current);var P=f.type;if(c!==null&&f.stateNode!=null)Oc(c,f,P,w,y),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(a(166));return Bn(f),null}if(c=Hr(Yi.current),Gl(f)){if(!Ae)throw Error(a(175));c=Le(f.stateNode,f.type,f.memoizedProps,y,c,f,!Na),f.updateQueue=c,c!==null&&Jn(f)}else{var I=Q(P,w,y,c,f);ar(I,f,!1,!1),f.stateNode=I,ae(I,P,w,y,c)&&Jn(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Bn(f),null;case 6:if(c&&f.stateNode!=null)Fc(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(a(166));if(c=Hr(Vo.current),y=Hr(Yi.current),Gl(f)){if(!Ae)throw Error(a(176));if(c=f.stateNode,w=f.memoizedProps,(y=mt(c,w,f,!Na))&&(P=Di,P!==null))switch(I=(P.mode&1)!==0,P.tag){case 3:gi(P.stateNode.containerInfo,c,w,I);break;case 5:ir(P.type,P.memoizedProps,P.stateNode,c,w,I)}y&&Jn(f)}else f.stateNode=Ee(w,c,y,f)}return Bn(f),null;case 13:if(qt(Pn),w=f.memoizedState,Tn&&yi!==null&&(f.mode&1)!==0&&(f.flags&128)===0){for(c=yi;c;)c=j(c);return Da(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Gl(f),c===null){if(!w)throw Error(a(318));if(!Ae)throw Error(a(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Et(c,f)}else Da(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;return Bn(f),null}return wr!==null&&(Vn(wr),wr=null),(f.flags&128)!==0?(f.lanes=y,f):(w=w!==null,y=!1,c===null?Gl(f):y=c.memoizedState!==null,w&&!y&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(Pn.current&1)!==0?Yn===0&&(Yn=3):au())),f.updateQueue!==null&&(f.flags|=4),Bn(f),null);case 4:return Fa(),Yo(c,f),c===null&&Ke(f.stateNode.containerInfo),Bn(f),null;case 10:return Hl(f.type._context),Bn(f),null;case 17:return Xn(f.type)&&no(),Bn(f),null;case 19:if(qt(Pn),P=f.memoizedState,P===null)return Bn(f),null;if(w=(f.flags&128)!==0,I=P.rendering,I===null)if(w)Ps(P,!1);else{if(Yn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(I=Ec(c),I!==null){for(f.flags|=128,Ps(P,!1),c=I.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=y,w=f.child;w!==null;)y=w,P=c,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=P,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,P=I.dependencies,y.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),w=w.sibling;return Ot(Pn,Pn.current&1|2),f.child}c=c.sibling}P.tail!==null&&Kn()>po&&(f.flags|=128,w=!0,Ps(P,!1),f.lanes=4194304)}else{if(!w)if(c=Ec(I),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Ps(P,!0),P.tail===null&&P.tailMode==="hidden"&&!I.alternate&&!Tn)return Bn(f),null}else 2*Kn()-P.renderingStartTime>po&&y!==1073741824&&(f.flags|=128,w=!0,Ps(P,!1),f.lanes=4194304);P.isBackwards?(I.sibling=f.child,f.child=I):(c=P.last,c!==null?c.sibling=I:f.child=I,P.last=I)}return P.tail!==null?(f=P.tail,P.rendering=f,P.tail=f.sibling,P.renderingStartTime=Kn(),f.sibling=null,c=Pn.current,Ot(Pn,w?c&1|2:c&1),f):(Bn(f),null);case 22:case 23:return zh(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&(f.mode&1)!==0?(Bi&1073741824)!==0&&(Bn(f),Oe&&f.subtreeFlags&6&&(f.flags|=8192)):Bn(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}var Ih=u.ReactCurrentOwner,li=!1;function Dn(c,f,y,w){f.child=c===null?Up(f,null,y,w):Ts(f,c.child,y,w)}function _n(c,f,y,w,P){y=y.render;var I=f.ref;return Ra(f,P),w=Ba(c,f,y,w,I,P),y=lo(),c!==null&&!li?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,Qi(c,f,P)):(Tn&&y&&vh(f),f.flags|=1,Dn(c,f,w,P),f.child)}function mn(c,f,y,w,P){if(c===null){var I=y.type;return typeof I=="function"&&!fu(I)&&I.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=I,Rs(c,f,I,w,P)):(c=hu(y.type,null,w,f,f.mode,P),c.ref=f.ref,c.return=f,f.child=c)}if(I=c.child,(c.lanes&P)===0){var X=I.memoizedProps;if(y=y.compare,y=y!==null?y:Vr,y(X,w)&&c.ref===f.ref)return Qi(c,f,P)}return f.flags|=1,c=Os(I,w),c.ref=f.ref,c.return=f,f.child=c}function Rs(c,f,y,w,P){if(c!==null&&Vr(c.memoizedProps,w)&&c.ref===f.ref)if(li=!1,(c.lanes&P)!==0)(c.flags&131072)!==0&&(li=!0);else return f.lanes=c.lanes,Qi(c,f,P);return Ls(c,f,y,w,P)}function xi(c,f,y){var w=f.pendingProps,P=w.children,I=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null},Ot(ks,Bi),Bi|=y;else if((y&1073741824)!==0)f.memoizedState={baseLanes:0,cachePool:null},w=I!==null?I.baseLanes:y,Ot(ks,Bi),Bi|=w;else return c=I!==null?I.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,Ot(ks,Bi),Bi|=c,null;else I!==null?(w=I.baseLanes|y,f.memoizedState=null):w=y,Ot(ks,Bi),Bi|=w;return Dn(c,f,P,y),f.child}function Ui(c,f){var y=f.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Ls(c,f,y,w,P){var I=Xn(y)?Br:jn.current;return I=zr(f,I),Ra(f,P),y=Ba(c,f,y,w,I,P),w=lo(),c!==null&&!li?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,Qi(c,f,P)):(Tn&&w&&vh(f),f.flags|=1,Dn(c,f,y,P),f.child)}function Qo(c,f,y,w,P){if(Xn(y)){var I=!0;sc(f)}else I=!1;if(Ra(f,P),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),Rp(f,y,w),gh(f,y,w,P),w=!0;else if(c===null){var X=f.stateNode,fe=f.memoizedProps;X.props=fe;var Te=X.context,We=y.contextType;typeof We=="object"&&We!==null?We=Xi(We):(We=Xn(y)?Br:jn.current,We=zr(f,We));var ot=y.getDerivedStateFromProps,Dt=typeof ot=="function"||typeof X.getSnapshotBeforeUpdate=="function";Dt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(fe!==w||Te!==We)&&Lp(f,X,w,We),_r=!1;var Mt=f.memoizedState;X.state=Mt,yc(f,w,X,P),Te=f.memoizedState,fe!==w||Mt!==Te||pn.current||_r?(typeof ot=="function"&&(ph(f,y,ot,w),Te=f.memoizedState),(fe=_r||mh(f,y,fe,w,Mt,Te,We))?(Dt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Te),X.props=w,X.state=Te,X.context=We,w=fe):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{X=f.stateNode,dh(c,f),fe=f.memoizedProps,We=f.type===f.elementType?fe:ji(f.type,fe),X.props=We,Dt=f.pendingProps,Mt=X.context,Te=y.contextType,typeof Te=="object"&&Te!==null?Te=Xi(Te):(Te=Xn(y)?Br:jn.current,Te=zr(f,Te));var gn=y.getDerivedStateFromProps;(ot=typeof gn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(fe!==Dt||Mt!==Te)&&Lp(f,X,w,Te),_r=!1,Mt=f.memoizedState,X.state=Mt,yc(f,w,X,P);var tt=f.memoizedState;fe!==Dt||Mt!==tt||pn.current||_r?(typeof gn=="function"&&(ph(f,y,gn,w),tt=f.memoizedState),(We=_r||mh(f,y,We,w,Mt,tt,Te)||!1)?(ot||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(w,tt,Te),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(w,tt,Te)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||fe===c.memoizedProps&&Mt===c.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||fe===c.memoizedProps&&Mt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=tt),X.props=w,X.state=tt,X.context=Te,w=We):(typeof X.componentDidUpdate!="function"||fe===c.memoizedProps&&Mt===c.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||fe===c.memoizedProps&&Mt===c.memoizedState||(f.flags|=1024),w=!1)}return Mi(c,f,y,w,I,P)}function Mi(c,f,y,w,P,I){Ui(c,f);var X=(f.flags&128)!==0;if(!w&&!X)return P&&oc(f,y,!1),Qi(c,f,I);w=f.stateNode,Ih.current=f;var fe=X&&typeof y.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&X?(f.child=Ts(f,c.child,null,I),f.child=Ts(f,null,fe,I)):Dn(c,f,fe,I),f.memoizedState=w.state,P&&oc(f,y,!0),f.child}function $l(c){var f=c.stateNode;f.pendingContext?Ul(c,f.pendingContext,f.pendingContext!==f.context):f.context&&Ul(c,f.context,!1),Mc(c,f.containerInfo)}function Nh(c,f,y,w,P){return Da(),wc(P),f.flags|=256,Dn(c,f,y,w),f.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function qo(c){return{baseLanes:c,cachePool:null}}function Dh(c,f,y){var w=f.pendingProps,P=Pn.current,I=!1,X=(f.flags&128)!==0,fe;if((fe=X)||(fe=c!==null&&c.memoizedState===null?!1:(P&2)!==0),fe?(I=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),Ot(Pn,P&1),c===null)return oo(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:As(c)?f.lanes=8:f.lanes=1073741824,null):(P=w.children,c=w.fallback,I?(w=f.mode,I=f.child,P={mode:"hidden",children:P},(w&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=P):I=nl(P,w,0,null),c=Ao(c,w,y,null),I.return=f,c.return=f,I.sibling=c,f.child=I,f.child.memoizedState=qo(y),f.memoizedState=eu,c):jr(f,P));if(P=c.memoizedState,P!==null){if(fe=P.dehydrated,fe!==null){if(X)return f.flags&256?(f.flags&=-257,nu(c,f,y,Error(a(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(I=w.fallback,P=f.mode,w=nl({mode:"visible",children:w.children},P,0,null),I=Ao(I,P,y,null),I.flags|=2,w.return=f,I.return=f,w.sibling=I,f.child=w,(f.mode&1)!==0&&Ts(f,c.child,null,y),f.child.memoizedState=qo(y),f.memoizedState=eu,I);if((f.mode&1)===0)f=nu(c,f,y,null);else if(As(fe))f=nu(c,f,y,Error(a(419)));else if(w=(y&c.childLanes)!==0,li||w){if(w=Ln,w!==null){switch(y&-y){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}w=(I&(w.suspendedLanes|y))!==0?0:I,w!==0&&w!==P.retryLane&&(P.retryLane=w,Zi(c,w,-1))}au(),f=nu(c,f,y,Error(a(421)))}else rc(fe)?(f.flags|=128,f.child=c.child,f=jp.bind(null,c),Ta(fe,f),f=null):(y=P.treeContext,Ae&&(yi=me(fe),Di=f,Tn=!0,wr=null,Na=!1,y!==null&&(Sr[rr++]=Ms,Sr[rr++]=Es,Sr[rr++]=Fo,Ms=y.id,Es=y.overflow,Fo=f)),f=jr(f,f.pendingProps.children),f.flags|=4096);return f}return I?(w=zc(c,f,w.children,w.fallback,y),I=f.child,P=c.child.memoizedState,I.memoizedState=P===null?qo(y):{baseLanes:P.baseLanes|y,cachePool:null},I.childLanes=c.childLanes&~y,f.memoizedState=eu,w):(y=tu(c,f,w.children,y),f.memoizedState=null,y)}return I?(w=zc(c,f,w.children,w.fallback,y),I=f.child,P=c.child.memoizedState,I.memoizedState=P===null?qo(y):{baseLanes:P.baseLanes|y,cachePool:null},I.childLanes=c.childLanes&~y,f.memoizedState=eu,w):(y=tu(c,f,w.children,y),f.memoizedState=null,y)}function jr(c,f){return f=nl({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function tu(c,f,y,w){var P=c.child;return c=P.sibling,y=Os(P,{mode:"visible",children:y}),(f.mode&1)===0&&(y.lanes=w),y.return=f,y.sibling=null,c!==null&&(w=f.deletions,w===null?(f.deletions=[c],f.flags|=16):w.push(c)),f.child=y}function zc(c,f,y,w,P){var I=f.mode;c=c.child;var X=c.sibling,fe={mode:"hidden",children:y};return(I&1)===0&&f.child!==c?(y=f.child,y.childLanes=0,y.pendingProps=fe,f.deletions=null):(y=Os(c,fe),y.subtreeFlags=c.subtreeFlags&14680064),X!==null?w=Os(X,w):(w=Ao(w,I,P,null),w.flags|=2),w.return=f,y.return=f,y.sibling=w,f.child=y,w}function nu(c,f,y,w){return w!==null&&wc(w),Ts(f,c.child,null,y),c=jr(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Vp(c,f,y){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),Oo(c.return,f,y)}function us(c,f,y,w,P){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:P}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=y,I.tailMode=P)}function Zo(c,f,y){var w=f.pendingProps,P=w.revealOrder,I=w.tail;if(Dn(c,f,w.children,y),w=Pn.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Vp(c,y,f);else if(c.tag===19)Vp(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Ot(Pn,w),(f.mode&1)===0)f.memoizedState=null;else switch(P){case"forwards":for(y=f.child,P=null;y!==null;)c=y.alternate,c!==null&&Ec(c)===null&&(P=y),y=y.sibling;y=P,y===null?(P=f.child,f.child=null):(P=y.sibling,y.sibling=null),us(f,!1,P,y,I);break;case"backwards":for(y=null,P=f.child,f.child=null;P!==null;){if(c=P.alternate,c!==null&&Ec(c)===null){f.child=P;break}c=P.sibling,P.sibling=y,y=P,P=c}us(f,!0,y,null,I);break;case"together":us(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Qi(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),$o|=f.lanes,(y&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,y=Os(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Os(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Vc(c,f,y){switch(f.tag){case 3:$l(f),Da();break;case 5:kp(f);break;case 1:Xn(f.type)&&sc(f);break;case 4:Mc(f,f.stateNode.containerInfo);break;case 10:ko(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Ot(Pn,Pn.current&1),f.flags|=128,null):(y&f.child.childLanes)!==0?Dh(c,f,y):(Ot(Pn,Pn.current&1),c=Qi(c,f,y),c!==null?c.sibling:null);Ot(Pn,Pn.current&1);break;case 19:if(w=(y&f.childLanes)!==0,(c.flags&128)!==0){if(w)return Zo(c,f,y);f.flags|=128}var P=f.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ot(Pn,Pn.current),w)break;return null;case 22:case 23:return f.lanes=0,xi(c,f,y)}return Qi(c,f,y)}function Hc(c,f){switch(yh(f),f.tag){case 1:return Xn(f.type)&&no(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Fa(),qt(pn),qt(jn),Ho(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return _h(f),null;case 13:if(qt(Pn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Da()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return qt(Pn),null;case 4:return Fa(),null;case 10:return Hl(f.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var ki=!1,ui=!1,Ko=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Mr(c,f){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){Vi(c,f,w)}else y.current=null}function Is(c,f,y){try{y()}catch(w){Vi(c,f,w)}}var Uh=!1;function kh(c,f){for(Z(c.containerInfo),qe=f;qe!==null;)if(c=qe,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;try{var y=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,P=y.memoizedState,I=c.stateNode,X=I.getSnapshotBeforeUpdate(c.elementType===c.type?w:ji(c.type,w),P);I.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Oe&&Ye(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(fe){Vi(c,c.return,fe)}if(f=c.sibling,f!==null){f.return=c.return,qe=f;break}qe=c.return}return y=Uh,Uh=!1,y}function Ns(c,f,y){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&c)===c){var I=P.destroy;P.destroy=void 0,I!==void 0&&Is(f,y,I)}P=P.next}while(P!==w)}}function Ai(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&c)===c){var w=y.create;y.destroy=w()}y=y.next}while(y!==f)}}function Oi(c){var f=c.ref;if(f!==null){var y=c.stateNode;c.tag===5?c=ge(y):c=y,typeof f=="function"?f(c):f.current=c}}function wn(c,f,y){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Fl,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var P=w,I=P.destroy;P=P.tag,I!==void 0&&((P&2)!==0||(P&4)!==0)&&Is(f,y,I),w=w.next}while(w!==c)}break;case 1:if(Mr(f,y),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(X){Vi(f,y,X)}break;case 5:Mr(f,y);break;case 4:Oe?Bh(c,f,y):Re&&Re&&(f=f.stateNode.containerInfo,y=en(f),ri(f,y))}}function Er(c,f,y){for(var w=f;;)if(wn(c,w,y),w.child===null||Oe&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function Oh(c){var f=c.alternate;f!==null&&(c.alternate=null,Oh(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&lt(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Fh(c){return c.tag===5||c.tag===3||c.tag===4}function Gc(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Fh(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Wc(c){if(Oe){e:{for(var f=c.return;f!==null;){if(Fh(f))break e;f=f.return}throw Error(a(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(De(f),y.flags&=-33),y=Gc(c),ja(c,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=Gc(c),jc(c,y,f);break;default:throw Error(a(161))}}}function jc(c,f,y){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?it(y,c,f):nt(y,c);else if(w!==4&&(c=c.child,c!==null))for(jc(c,f,y),c=c.sibling;c!==null;)jc(c,f,y),c=c.sibling}function ja(c,f,y){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?St(y,c,f):At(y,c);else if(w!==4&&(c=c.child,c!==null))for(ja(c,f,y),c=c.sibling;c!==null;)ja(c,f,y),c=c.sibling}function Bh(c,f,y){for(var w=f,P=!1,I,X;;){if(!P){P=w.return;e:for(;;){if(P===null)throw Error(a(160));switch(I=P.stateNode,P.tag){case 5:X=!1;break e;case 3:I=I.containerInfo,X=!0;break e;case 4:I=I.containerInfo,X=!0;break e}P=P.return}P=!0}if(w.tag===5||w.tag===6)Er(c,w,y),X?ie(I,w.stateNode):dt(I,w.stateNode);else if(w.tag===18)X?jt(I,w.stateNode):Ht(I,w.stateNode);else if(w.tag===4){if(w.child!==null){I=w.stateNode.containerInfo,X=!0,w.child.return=w,w=w.child;continue}}else if(wn(c,w,y),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(P=!1)}w.sibling.return=w.return,w=w.sibling}}function fo(c,f){if(Oe){switch(f.tag){case 0:case 11:case 14:case 15:Ns(3,f,f.return),Ai(3,f),Ns(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var w=f.memoizedProps;c=c!==null?c.memoizedProps:w;var P=f.type,I=f.updateQueue;f.updateQueue=null,I!==null&&_t(y,I,P,c,w,f)}return;case 6:if(f.stateNode===null)throw Error(a(162));y=f.memoizedProps,be(f.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:Ae&&c!==null&&c.memoizedState.isDehydrated&&kt(f.stateNode.containerInfo);return;case 12:return;case 13:Xa(f);return;case 19:Xa(f);return;case 17:return}throw Error(a(163))}switch(f.tag){case 0:case 11:case 14:case 15:Ns(3,f,f.return),Ai(3,f),Ns(5,f,f.return);return;case 12:return;case 13:Xa(f);return;case 19:Xa(f);return;case 3:Ae&&c!==null&&c.memoizedState.isDehydrated&&kt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(Re){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,ri(f.containerInfo,f.pendingChildren);break e}throw Error(a(163))}}function Xa(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new Ko),f.forEach(function(w){var P=uu.bind(null,c,w);y.has(w)||(y.add(w),w.then(P,P))})}}function S0(c,f){for(qe=f;qe!==null;){f=qe;var y=f.deletions;if(y!==null)for(var w=0;w<y.length;w++){var P=y[w];try{var I=c;Oe?Bh(I,P,f):Er(I,P,f);var X=P.alternate;X!==null&&(X.return=null),P.return=null}catch(gt){Vi(P,f,gt)}}if(y=f.child,(f.subtreeFlags&12854)!==0&&y!==null)y.return=f,qe=y;else for(;qe!==null;){f=qe;try{var fe=f.flags;if(fe&32&&Oe&&De(f.stateNode),fe&512){var Te=f.alternate;if(Te!==null){var We=Te.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(fe&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var ot=f.alternate;(ot===null||ot.memoizedState===null)&&(Qc=Kn())}break;case 22:var Dt=f.memoizedState!==null,Mt=f.alternate,gn=Mt!==null&&Mt.memoizedState!==null;if(y=f,Oe){e:if(w=y,P=Dt,I=null,Oe)for(var tt=w;;){if(tt.tag===5){if(I===null){I=tt;var fn=tt.stateNode;P?et(fn):Se(tt.stateNode,tt.memoizedProps)}}else if(tt.tag===6){if(I===null){var cr=tt.stateNode;P?ee(cr):ke(cr,tt.memoizedProps)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===w)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===w)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===w)break e;I===tt&&(I=null),tt=tt.return}I===tt&&(I=null),tt.sibling.return=tt.return,tt=tt.sibling}}if(Dt&&!gn&&(y.mode&1)!==0){qe=y;for(var xe=y.child;xe!==null;){for(y=qe=xe;qe!==null;){w=qe;var he=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Ns(4,w,w.return);break;case 1:Mr(w,w.return);var Me=w.stateNode;if(typeof Me.componentWillUnmount=="function"){var Je=w.return;try{Me.props=w.memoizedProps,Me.state=w.memoizedState,Me.componentWillUnmount()}catch(gt){Vi(w,Je,gt)}}break;case 5:Mr(w,w.return);break;case 22:if(w.memoizedState!==null){Jo(y);continue}}he!==null?(he.return=w,qe=he):Jo(y)}xe=xe.sibling}}}switch(fe&4102){case 2:Wc(f),f.flags&=-3;break;case 6:Wc(f),f.flags&=-3,fo(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,fo(f.alternate,f);break;case 4:fo(f.alternate,f)}}catch(gt){Vi(f,f.return,gt)}if(y=f.sibling,y!==null){y.return=f.return,qe=y;break}qe=f.return}}}function Xr(c,f,y){qe=c,iu(c)}function iu(c,f,y){for(var w=(c.mode&1)!==0;qe!==null;){var P=qe,I=P.child;if(P.tag===22&&w){var X=P.memoizedState!==null||ki;if(!X){var fe=P.alternate,Te=fe!==null&&fe.memoizedState!==null||ui;fe=ki;var We=ui;if(ki=X,(ui=Te)&&!We)for(qe=P;qe!==null;)X=qe,Te=X.child,X.tag===22&&X.memoizedState!==null?Xc(P):Te!==null?(Te.return=X,qe=Te):Xc(P);for(;I!==null;)qe=I,iu(I),I=I.sibling;qe=P,ki=fe,ui=We}ru(c)}else(P.subtreeFlags&8772)!==0&&I!==null?(I.return=P,qe=I):ru(c)}}function ru(c){for(;qe!==null;){var f=qe;if((f.flags&8772)!==0){var y=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:ui||Ai(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!ui)if(y===null)w.componentDidMount();else{var P=f.elementType===f.type?y.memoizedProps:ji(f.type,y.memoizedProps);w.componentDidUpdate(P,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&Cp(f,I,w);break;case 3:var X=f.updateQueue;if(X!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ge(f.child.stateNode);break;case 1:y=f.child.stateNode}Cp(f,X,y)}break;case 5:var fe=f.stateNode;y===null&&f.flags&4&&st(fe,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&f.memoizedState===null){var Te=f.alternate;if(Te!==null){var We=Te.memoizedState;if(We!==null){var ot=We.dehydrated;ot!==null&&Vt(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ui||f.flags&512&&Oi(f)}catch(Dt){Vi(f,f.return,Dt)}}if(f===c){qe=null;break}if(y=f.sibling,y!==null){y.return=f.return,qe=y;break}qe=f.return}}function Jo(c){for(;qe!==null;){var f=qe;if(f===c){qe=null;break}var y=f.sibling;if(y!==null){y.return=f.return,qe=y;break}qe=f.return}}function Xc(c){for(;qe!==null;){var f=qe;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{Ai(4,f)}catch(Te){Vi(f,y,Te)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var P=f.return;try{w.componentDidMount()}catch(Te){Vi(f,P,Te)}}var I=f.return;try{Oi(f)}catch(Te){Vi(f,I,Te)}break;case 5:var X=f.return;try{Oi(f)}catch(Te){Vi(f,X,Te)}}}catch(Te){Vi(f,f.return,Te)}if(f===c){qe=null;break}var fe=f.sibling;if(fe!==null){fe.return=f.return,qe=fe;break}qe=f.return}}var Ya=0,Qa=1,qa=2,Ds=3,Fi=4;if(typeof Symbol=="function"&&Symbol.for){var Yr=Symbol.for;Ya=Yr("selector.component"),Qa=Yr("selector.has_pseudo_class"),qa=Yr("selector.role"),Ds=Yr("selector.test_id"),Fi=Yr("selector.text")}function su(c){var f=Ne(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=Ut(c),c===null)throw Error(a(362));return c.stateNode.current}function Yc(c,f){switch(f.$$typeof){case Ya:if(c.type===f.value)return!0;break;case Qa:e:{f=f.value,c=[c,0];for(var y=0;y<c.length;){var w=c[y++],P=c[y++],I=f[P];if(w.tag!==5||!_e(w)){for(;I!=null&&Yc(w,I);)P++,I=f[P];if(P===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,P),w=w.sibling}}f=!1}return f;case qa:if(c.tag===5&&Fe(c.stateNode,f.value))return!0;break;case Fi:if((c.tag===5||c.tag===6)&&(c=H(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Ds:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Qr(c){switch(c.$$typeof){case Ya:return"<"+(z(c.value)||"Unknown")+">";case Qa:return":has("+(Qr(c)||"")+")";case qa:return'[role="'+c.value+'"]';case Fi:return'"'+c.value+'"';case Ds:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Us(c,f){var y=[];c=[c,0];for(var w=0;w<c.length;){var P=c[w++],I=c[w++],X=f[I];if(P.tag!==5||!_e(P)){for(;X!=null&&Yc(P,X);)I++,X=f[I];if(I===f.length)y.push(P);else for(P=P.child;P!==null;)c.push(P,I),P=P.sibling}}return y}function ou(c,f){if(!wt)throw Error(a(363));c=su(c),c=Us(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var w=c[y++];if(w.tag===5)_e(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}var Hp=Math.ceil,Tr=u.ReactCurrentDispatcher,cs=u.ReactCurrentOwner,bn=u.ReactCurrentBatchConfig,Wt=0,Ln=null,zn=null,ci=0,Bi=0,ks=vi(0),Yn=0,Za=null,$o=0,Ka=0,ea=0,ho=null,zi=null,Qc=0,po=1/0;function ta(){po=Kn()+500}var mo=!1,br=null,Cr=null,go=!1,qi=null,Ja=0,fs=0,qc=null,$a=-1,Sn=0;function fi(){return(Wt&6)!==0?Kn():$a!==-1?$a:$a=Kn()}function hs(c){return(c.mode&1)===0?1:(Wt&2)!==0&&ci!==0?ci&-ci:bp.transition!==null?(Sn===0&&(c=ba,ba<<=1,(ba&4194240)===0&&(ba=64),Sn=c),Sn):(c=Xt,c!==0?c:Qe())}function Zi(c,f,y){if(50<fs)throw fs=0,qc=null,Error(a(185));var w=na(c,f);return w===null?null:(Io(w,f,y),((Wt&2)===0||w!==Ln)&&(w===Ln&&((Wt&2)===0&&(Ka|=f),Yn===4&&qr(w,ci)),Ei(w,y),f===1&&Wt===0&&(c.mode&1)===0&&(ta(),hc&&xr())),w)}function na(c,f){c.lanes|=f;var y=c.alternate;for(y!==null&&(y.lanes|=f),y=c,c=c.return;c!==null;)c.childLanes|=f,y=c.alternate,y!==null&&(y.childLanes|=f),y=c,c=c.return;return y.tag===3?y.stateNode:null}function Ei(c,f){var y=c.callbackNode;Tp(c,f);var w=Ol(c,c===Ln?ci:0);if(w===0)y!==null&&Pa(y),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(y!=null&&Pa(y),f===1)c.tag===0?pc(el.bind(null,c)):dc(el.bind(null,c)),yt?ct(function(){Wt===0&&xr()}):No(Do,xr),y=null;else{switch(_s(w)){case 1:y=Do;break;case 4:y=x0;break;case 16:y=cc;break;case 536870912:y=fc;break;default:y=cc}y=cu(y,vo.bind(null,c))}c.callbackPriority=f,c.callbackNode=y}}function vo(c,f){if($a=-1,Sn=0,(Wt&6)!==0)throw Error(a(327));var y=c.callbackNode;if(xo()&&c.callbackNode!==y)return null;var w=Ol(c,c===Ln?ci:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||f)f=lr(c,w);else{f=w;var P=Wt;Wt|=2;var I=Kc();(Ln!==c||ci!==f)&&(ta(),Un(c,f));do try{lu();break}catch(fe){Zc(c,fe)}while(!0);Ni(),Tr.current=I,Wt=P,zn!==null?f=0:(Ln=null,ci=0,f=Yn)}if(f!==0){if(f===2&&(P=ac(c),P!==0&&(w=P,f=Mn(c,P))),f===1)throw y=Za,Un(c,0),qr(c,w),Ei(c,Kn()),y;if(f===6)qr(c,w);else{if(P=c.current.alternate,(w&30)===0&&!hi(P)&&(f=lr(c,w),f===2&&(I=ac(c),I!==0&&(w=I,f=Mn(c,I))),f===1))throw y=Za,Un(c,0),qr(c,w),Ei(c,Kn()),y;switch(c.finishedWork=P,c.finishedLanes=w,f){case 0:case 1:throw Error(a(345));case 2:yo(c,zi);break;case 3:if(qr(c,w),(w&130023424)===w&&(f=Qc+500-Kn(),10<f)){if(Ol(c,0)!==0)break;if(P=c.suspendedLanes,(P&w)!==w){fi(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=$(yo.bind(null,c,zi),f);break}yo(c,zi);break;case 4:if(qr(c,w),(w&4194240)===w)break;for(f=c.eventTimes,P=-1;0<w;){var X=31-vr(w);I=1<<X,X=f[X],X>P&&(P=X),w&=~I}if(w=P,w=Kn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Hp(w/1960))-w,10<w){c.timeoutHandle=$(yo.bind(null,c,zi),w);break}yo(c,zi);break;case 5:yo(c,zi);break;default:throw Error(a(329))}}}return Ei(c,Kn()),c.callbackNode===y?vo.bind(null,c):null}function Mn(c,f){var y=ho;return c.current.memoizedState.isDehydrated&&(Un(c,f).flags|=256),c=lr(c,f),c!==2&&(f=zi,zi=y,f!==null&&Vn(f)),c}function Vn(c){zi===null?zi=c:zi.push.apply(zi,c)}function hi(c){for(var f=c;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var P=y[w],I=P.getSnapshot;P=P.value;try{if(!Ii(I(),P))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function qr(c,f){for(f&=~ea,f&=~Ka,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var y=31-vr(f),w=1<<y;c[y]=-1,f&=~w}}function el(c){if((Wt&6)!==0)throw Error(a(327));xo();var f=Ol(c,0);if((f&1)===0)return Ei(c,Kn()),null;var y=lr(c,f);if(c.tag!==0&&y===2){var w=ac(c);w!==0&&(f=w,y=Mn(c,w))}if(y===1)throw y=Za,Un(c,0),qr(c,f),Ei(c,Kn()),y;if(y===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,yo(c,zi),Ei(c,Kn()),null}function tl(c){qi!==null&&qi.tag===0&&(Wt&6)===0&&xo();var f=Wt;Wt|=1;var y=bn.transition,w=Xt;try{if(bn.transition=null,Xt=1,c)return c()}finally{Xt=w,bn.transition=y,Wt=f,(Wt&6)===0&&xr()}}function zh(){Bi=ks.current,qt(ks)}function Un(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==$e&&(c.timeoutHandle=$e,Ge(y)),zn!==null)for(y=zn.return;y!==null;){var w=y;switch(yh(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&no();break;case 3:Fa(),qt(pn),qt(jn),Ho();break;case 5:_h(w);break;case 4:Fa();break;case 13:qt(Pn);break;case 19:qt(Pn);break;case 10:Hl(w.type._context);break;case 22:case 23:zh()}y=y.return}if(Ln=c,zn=c=Os(c.current,null),ci=Bi=f,Yn=0,Za=null,ea=Ka=$o=0,zi=ho=null,Ar!==null){for(f=0;f<Ar.length;f++)if(y=Ar[f],w=y.interleaved,w!==null){y.interleaved=null;var P=w.next,I=y.pending;if(I!==null){var X=I.next;I.next=P,w.next=X}y.pending=w}Ar=null}return c}function Zc(c,f){do{var y=zn;try{if(Ni(),Wl.current=Ga,Tc){for(var w=Rn.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}Tc=!1}if(Go=0,oi=si=Rn=null,as=!1,Wo=0,cs.current=null,y===null||y.return===null){Yn=1,Za=f,zn=null;break}e:{var I=c,X=y.return,fe=y,Te=f;if(f=ci,fe.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var We=Te,ot=fe,Dt=ot.tag;if((ot.mode&1)===0&&(Dt===0||Dt===11||Dt===15)){var Mt=ot.alternate;Mt?(ot.updateQueue=Mt.updateQueue,ot.memoizedState=Mt.memoizedState,ot.lanes=Mt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var gn=Lh(X);if(gn!==null){gn.flags&=-257,Xo(gn,X,fe,I,f),gn.mode&1&&Cs(I,We,f),f=gn,Te=We;var tt=f.updateQueue;if(tt===null){var fn=new Set;fn.add(Te),f.updateQueue=fn}else tt.add(Te);break e}else{if((f&1)===0){Cs(I,We,f),au();break e}Te=Error(a(426))}}else if(Tn&&fe.mode&1){var cr=Lh(X);if(cr!==null){(cr.flags&65536)===0&&(cr.flags|=256),Xo(cr,X,fe,I,f),wc(Te);break e}}I=Te,Yn!==4&&(Yn=2),ho===null?ho=[I]:ho.push(I),Te=Rh(Te,fe),fe=X;do{switch(fe.tag){case 3:fe.flags|=65536,f&=-f,fe.lanes|=f;var xe=zp(fe,Te,f);vc(fe,xe);break e;case 1:I=Te;var he=fe.type,Me=fe.stateNode;if((fe.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Cr===null||!Cr.has(Me)))){fe.flags|=65536,f&=-f,fe.lanes|=f;var Je=kc(fe,I,f);vc(fe,Je);break e}}fe=fe.return}while(fe!==null)}$c(y)}catch(gt){f=gt,zn===y&&y!==null&&(zn=y=y.return);continue}break}while(!0)}function Kc(){var c=Tr.current;return Tr.current=Ga,c===null?Ga:c}function au(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),Ln===null||($o&268435455)===0&&(Ka&268435455)===0||qr(Ln,ci)}function lr(c,f){var y=Wt;Wt|=2;var w=Kc();Ln===c&&ci===f||Un(c,f);do try{Pr();break}catch(P){Zc(c,P)}while(!0);if(Ni(),Wt=y,Tr.current=w,zn!==null)throw Error(a(261));return Ln=null,ci=0,Yn}function Pr(){for(;zn!==null;)Jc(zn)}function lu(){for(;zn!==null&&!io();)Jc(zn)}function Jc(c){var f=Gh(c.alternate,c,Bi);c.memoizedProps=c.pendingProps,f===null?$c(c):zn=f,cs.current=null}function $c(c){var f=c;do{var y=f.alternate;if(c=f.return,(f.flags&32768)===0){if(y=Bc(y,f,Bi),y!==null){zn=y;return}}else{if(y=Hc(y,f),y!==null){y.flags&=32767,zn=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Yn=6,zn=null;return}}if(f=f.sibling,f!==null){zn=f;return}zn=f=c}while(f!==null);Yn===0&&(Yn=5)}function yo(c,f){var y=Xt,w=bn.transition;try{bn.transition=null,Xt=1,Gp(c,f,y)}finally{bn.transition=w,Xt=y}return null}function Gp(c,f,y){do xo();while(qi!==null);if((Wt&6)!==0)throw Error(a(327));var w=c.finishedWork,P=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0;var I=w.lanes|w.childLanes;if(uc(c,I),c===Ln&&(zn=Ln=null,ci=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||go||(go=!0,cu(cc,function(){return xo(),null})),I=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||I){I=bn.transition,bn.transition=null;var X=Xt;Xt=1;var fe=Wt;Wt|=4,cs.current=null,kh(c,w),S0(c,w),k(c.containerInfo),c.current=w,Xr(w),y0(),Wt=fe,Xt=X,bn.transition=I}else c.current=w;if(go&&(go=!1,qi=c,Ja=P),I=c.pendingLanes,I===0&&(Cr=null),Bl(w.stateNode),Ei(c,Kn()),f!==null)for(y=c.onRecoverableError,w=0;w<f.length;w++)y(f[w]);if(mo)throw mo=!1,c=br,br=null,c;return(Ja&1)!==0&&c.tag!==0&&xo(),I=c.pendingLanes,(I&1)!==0?c===qc?fs++:(fs=0,qc=c):fs=0,xr(),null}function xo(){if(qi!==null){var c=_s(Ja),f=bn.transition,y=Xt;try{if(bn.transition=null,Xt=16>c?16:c,qi===null)var w=!1;else{if(c=qi,qi=null,Ja=0,(Wt&6)!==0)throw Error(a(331));var P=Wt;for(Wt|=4,qe=c.current;qe!==null;){var I=qe,X=I.child;if((qe.flags&16)!==0){var fe=I.deletions;if(fe!==null){for(var Te=0;Te<fe.length;Te++){var We=fe[Te];for(qe=We;qe!==null;){var ot=qe;switch(ot.tag){case 0:case 11:case 15:Ns(8,ot,I)}var Dt=ot.child;if(Dt!==null)Dt.return=ot,qe=Dt;else for(;qe!==null;){ot=qe;var Mt=ot.sibling,gn=ot.return;if(Oh(ot),ot===We){qe=null;break}if(Mt!==null){Mt.return=gn,qe=Mt;break}qe=gn}}}var tt=I.alternate;if(tt!==null){var fn=tt.child;if(fn!==null){tt.child=null;do{var cr=fn.sibling;fn.sibling=null,fn=cr}while(fn!==null)}}qe=I}}if((I.subtreeFlags&2064)!==0&&X!==null)X.return=I,qe=X;else e:for(;qe!==null;){if(I=qe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Ns(9,I,I.return)}var xe=I.sibling;if(xe!==null){xe.return=I.return,qe=xe;break e}qe=I.return}}var he=c.current;for(qe=he;qe!==null;){X=qe;var Me=X.child;if((X.subtreeFlags&2064)!==0&&Me!==null)Me.return=X,qe=Me;else e:for(X=he;qe!==null;){if(fe=qe,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Ai(9,fe)}}catch(gt){Vi(fe,fe.return,gt)}if(fe===X){qe=null;break e}var Je=fe.sibling;if(Je!==null){Je.return=fe.return,qe=Je;break e}qe=fe.return}}if(Wt=P,xr(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Fl,c)}catch{}w=!0}return w}finally{Xt=y,bn.transition=f}}return!1}function Vh(c,f,y){f=Rh(y,f),f=zp(c,f,1),ro(c,f),f=fi(),c=na(c,1),c!==null&&(Io(c,1,f),Ei(c,f))}function Vi(c,f,y){if(c.tag===3)Vh(c,c,y);else for(;f!==null;){if(f.tag===3){Vh(f,c,y);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Cr===null||!Cr.has(w))){c=Rh(y,c),c=kc(f,c,1),ro(f,c),c=fi(),f=na(f,1),f!==null&&(Io(f,1,c),Ei(f,c));break}}f=f.return}}function Wp(c,f,y){var w=c.pingCache;w!==null&&w.delete(f),f=fi(),c.pingedLanes|=c.suspendedLanes&y,Ln===c&&(ci&y)===y&&(Yn===4||Yn===3&&(ci&130023424)===ci&&500>Kn()-Qc?Un(c,0):ea|=y),Ei(c,f)}function Hh(c,f){f===0&&((c.mode&1)===0?f=1:(f=sn,sn<<=1,(sn&130023424)===0&&(sn=4194304)));var y=fi();c=na(c,f),c!==null&&(Io(c,f,y),Ei(c,y))}function jp(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),Hh(c,y)}function uu(c,f){var y=0;switch(c.tag){case 13:var w=c.stateNode,P=c.memoizedState;P!==null&&(y=P.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(f),Hh(c,y)}var Gh;Gh=function(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps||pn.current)li=!0;else{if((c.lanes&y)===0&&(f.flags&128)===0)return li=!1,Vc(c,f,y);li=(c.flags&131072)!==0}else li=!1,Tn&&(f.flags&1048576)!==0&&Ip(f,_c,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var P=zr(f,jn.current);Ra(f,y),P=Ba(null,f,w,c,P,y);var I=lo();return f.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Xn(w)?(I=!0,sc(f)):I=!1,f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,La(f),P.updater=xc,f.stateNode=P,P._reactInternals=f,gh(f,w,c,y),f=Mi(null,f,w,!0,I,y)):(f.tag=0,Tn&&I&&vh(f),Dn(null,f,P,y),f=f.child),f;case 16:w=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,P=w._init,w=P(w._payload),f.type=w,P=f.tag=Xp(w),c=ji(w,c),P){case 0:f=Ls(null,f,w,c,y);break e;case 1:f=Qo(null,f,w,c,y);break e;case 11:f=_n(null,f,w,c,y);break e;case 14:f=mn(null,f,w,ji(w.type,c),y);break e}throw Error(a(306,w,""))}return f;case 0:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:ji(w,P),Ls(c,f,w,P,y);case 1:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:ji(w,P),Qo(c,f,w,P,y);case 3:e:{if($l(f),c===null)throw Error(a(387));w=f.pendingProps,I=f.memoizedState,P=I.element,dh(c,f),yc(f,w,null,y);var X=f.memoizedState;if(w=X.element,Ae&&I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){P=Error(a(423)),f=Nh(c,f,w,y,P);break e}else if(w!==P){P=Error(a(424)),f=Nh(c,f,w,y,P);break e}else for(Ae&&(yi=Pe(f.stateNode.containerInfo),Di=f,Tn=!0,wr=null,Na=!1),y=Up(f,null,w,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Da(),w===P){f=Qi(c,f,y);break e}Dn(c,f,w,y)}f=f.child}return f;case 5:return kp(f),c===null&&oo(f),w=f.type,P=f.pendingProps,I=c!==null?c.memoizedProps:null,X=P.children,Ce(w,P)?X=null:I!==null&&Ce(w,I)&&(f.flags|=32),Ui(c,f),Dn(c,f,X,y),f.child;case 6:return c===null&&oo(f),null;case 13:return Dh(c,f,y);case 4:return Mc(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Ts(f,null,w,y):Dn(c,f,w,y),f.child;case 11:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:ji(w,P),_n(c,f,w,P,y);case 7:return Dn(c,f,f.pendingProps,y),f.child;case 8:return Dn(c,f,f.pendingProps.children,y),f.child;case 12:return Dn(c,f,f.pendingProps.children,y),f.child;case 10:e:{if(w=f.type._context,P=f.pendingProps,I=f.memoizedProps,X=P.value,ko(f,w,X),I!==null)if(Ii(I.value,X)){if(I.children===P.children&&!pn.current){f=Qi(c,f,y);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var fe=I.dependencies;if(fe!==null){X=I.child;for(var Te=fe.firstContext;Te!==null;){if(Te.context===w){if(I.tag===1){Te=ws(-1,y&-y),Te.tag=2;var We=I.updateQueue;if(We!==null){We=We.shared;var ot=We.pending;ot===null?Te.next=Te:(Te.next=ot.next,ot.next=Te),We.pending=Te}}I.lanes|=y,Te=I.alternate,Te!==null&&(Te.lanes|=y),Oo(I.return,y,f),fe.lanes|=y;break}Te=Te.next}}else if(I.tag===10)X=I.type===f.type?null:I.child;else if(I.tag===18){if(X=I.return,X===null)throw Error(a(341));X.lanes|=y,fe=X.alternate,fe!==null&&(fe.lanes|=y),Oo(X,y,f),X=I.sibling}else X=I.child;if(X!==null)X.return=I;else for(X=I;X!==null;){if(X===f){X=null;break}if(I=X.sibling,I!==null){I.return=X.return,X=I;break}X=X.return}I=X}Dn(c,f,P.children,y),f=f.child}return f;case 9:return P=f.type,w=f.pendingProps.children,Ra(f,y),P=Xi(P),w=w(P),f.flags|=1,Dn(c,f,w,y),f.child;case 14:return w=f.type,P=ji(w,f.pendingProps),P=ji(w.type,P),mn(c,f,w,P,y);case 15:return Rs(c,f,f.type,f.pendingProps,y);case 17:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:ji(w,P),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Xn(w)?(c=!0,sc(f)):c=!1,Ra(f,y),Rp(f,w,P),gh(f,w,P,y),Mi(null,f,w,!0,c,y);case 19:return Zo(c,f,y);case 22:return xi(c,f,y)}throw Error(a(156,f.tag))};function cu(c,f){return No(c,f)}function ef(c,f,y,w){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(c,f,y,w){return new ef(c,f,y,w)}function fu(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Xp(c){if(typeof c=="function")return fu(c)?1:0;if(c!=null){if(c=c.$$typeof,c===E)return 11;if(c===C)return 14}return 2}function Os(c,f){var y=c.alternate;return y===null?(y=ur(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function hu(c,f,y,w,P,I){var X=2;if(w=c,typeof c=="function")fu(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case m:return Ao(y.children,P,I,f);case g:X=8,P|=8;break;case v:return c=ur(12,y,f,P|2),c.elementType=v,c.lanes=I,c;case M:return c=ur(13,y,f,P),c.elementType=M,c.lanes=I,c;case _:return c=ur(19,y,f,P),c.elementType=_,c.lanes=I,c;case L:return nl(y,P,I,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:X=10;break e;case S:X=9;break e;case E:X=11;break e;case C:X=14;break e;case b:X=16,w=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return f=ur(X,y,f,P),f.elementType=c,f.type=w,f.lanes=I,f}function Ao(c,f,y,w){return c=ur(7,c,w,f),c.lanes=y,c}function nl(c,f,y,w){return c=ur(22,c,w,f),c.elementType=L,c.lanes=y,c.stateNode={},c}function tf(c,f,y){return c=ur(6,c,null,f),c.lanes=y,c}function nf(c,f,y){return f=ur(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Yp(c,f,y,w,P){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=w,this.onRecoverableError=P,Ae&&(this.mutableSourceEagerHydrationData=null)}function Qp(c,f,y,w,P,I,X,fe,Te){return c=new Yp(c,f,y,fe,Te),f===1?(f=1,I===!0&&(f|=8)):f=0,I=ur(3,null,null,f),c.current=I,I.stateNode=c,I.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null},La(I),c}function Wh(c){if(!c)return xn;c=c._reactInternals;e:{if(N(c)!==c||c.tag!==1)throw Error(a(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Xn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(c.tag===1){var y=c.type;if(Xn(y))return Ep(c,y,f)}return f}function qp(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=oe(f),c===null?null:c.stateNode}function Zp(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function rf(c,f){Zp(c,f),(c=c.alternate)&&Zp(c,f)}function Kp(c){return c=oe(c),c===null?null:c.stateNode}function Jp(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=fi();Zi(c,134217728,f),rf(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=fi(),y=hs(c);Zi(c,y,f),rf(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var y=Ca(f.pendingLanes);y!==0&&(ss(f,y|1),Ei(f,Kn()),(Wt&6)===0&&(ta(),xr()))}break;case 13:var w=fi();tl(function(){return Zi(c,1,w)}),rf(c,1)}},t.batchedUpdates=function(c,f){var y=Wt;Wt|=1;try{return c(f)}finally{Wt=y,Wt===0&&(ta(),hc&&xr())}},t.createComponentSelector=function(c){return{$$typeof:Ya,value:c}},t.createContainer=function(c,f,y,w,P,I,X){return Qp(c,f,!1,null,y,w,P,I,X)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Qa,value:c}},t.createHydrationContainer=function(c,f,y,w,P,I,X,fe,Te){return c=Qp(y,w,!0,c,P,I,X,fe,Te),c.context=Wh(null),y=c.current,w=fi(),P=hs(y),I=ws(w,P),I.callback=f??null,ro(y,I),c.current.lanes=P,Io(c,P,w),Ei(c,w),c},t.createPortal=function(c,f,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:c,containerInfo:f,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:qa,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Ds,value:c}},t.createTextSelector=function(c){return{$$typeof:Fi,value:c}},t.deferredUpdates=function(c){var f=Xt,y=bn.transition;try{return bn.transition=null,Xt=16,c()}finally{Xt=f,bn.transition=y}},t.discreteUpdates=function(c,f,y,w,P){var I=Xt,X=bn.transition;try{return bn.transition=null,Xt=1,c(f,y,w,P)}finally{Xt=I,bn.transition=X,Wt===0&&ta()}},t.findAllNodes=ou,t.findBoundingRects=function(c,f){if(!wt)throw Error(a(363));f=ou(c,f),c=[];for(var y=0;y<f.length;y++)c.push(Y(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var w=y.x,P=w+y.width,I=y.y,X=I+y.height,fe=f-1;0<=fe;fe--)if(f!==fe){var Te=c[fe],We=Te.x,ot=We+Te.width,Dt=Te.y,Mt=Dt+Te.height;if(w>=We&&I>=Dt&&P<=ot&&X<=Mt){c.splice(f,1);break}else if(w!==We||y.width!==Te.width||Mt<I||Dt>X){if(!(I!==Dt||y.height!==Te.height||ot<w||We>P)){We>w&&(Te.width+=We-w,Te.x=w),ot<P&&(Te.width=P-We),c.splice(f,1);break}}else{Dt>I&&(Te.height+=Dt-I,Te.y=I),Mt<X&&(Te.height=X-Dt),c.splice(f,1);break}}}return c},t.findHostInstance=qp,t.findHostInstanceWithNoPortals=function(c){return c=K(c),c=c!==null?se(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return qp(c)},t.flushControlled=function(c){var f=Wt;Wt|=1;var y=bn.transition,w=Xt;try{bn.transition=null,Xt=1,c()}finally{Xt=w,bn.transition=y,Wt=f,Wt===0&&(ta(),xr())}},t.flushPassiveEffects=xo,t.flushSync=tl,t.focusWithin=function(c,f){if(!wt)throw Error(a(363));for(c=su(c),f=Us(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++];if(!_e(y)){if(y.tag===5&&Ve(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Xt},t.getFindAllNodesFailureDescription=function(c,f){if(!wt)throw Error(a(363));var y=0,w=[];c=[su(c),0];for(var P=0;P<c.length;){var I=c[P++],X=c[P++],fe=f[X];if((I.tag!==5||!_e(I))&&(Yc(I,fe)&&(w.push(Qr(fe)),X++,X>y&&(y=X)),X<f.length))for(I=I.child;I!==null;)c.push(I,X),I=I.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Qr(f[y]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){return c=c.current,c.child?c.child.tag===5?ge(c.child.stateNode):c.child.stateNode:null},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Kp,findFiberByHostInstance:c.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Fl=f.inject(c),os=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,y,w){if(!wt)throw Error(a(363));c=ou(c,f);var P=je(c,y,w).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(c,f){var y=f._getVersion;y=y(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,y]:c.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(c,f){var y=Xt;try{return Xt=c,f()}finally{Xt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,y,w){var P=f.current,I=fi(),X=hs(P);return y=Wh(y),f.context===null?f.context=y:f.pendingContext=y,f=ws(I,X),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),ro(P,f),c=Zi(P,X,I),c!==null&&gc(c,P,X),X},t}),Dv}var fS;function wU(){return fS||(fS=1,Lv.exports=SU()),Lv.exports}var MU=wU();const EU=Vg(MU);var Uv={exports:{}},kv={};var hS;function TU(){return hS||(hS=1,(function(i){function e(B,Z){var k=B.length;B.push(Z);e:for(;0<k;){var Q=k-1>>>1,ne=B[Q];if(0<r(ne,Z))B[Q]=Z,B[k]=ne,k=Q;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],k=B.pop();if(k!==Z){B[0]=k;e:for(var Q=0,ne=B.length,ae=ne>>>1;Q<ae;){var ce=2*(Q+1)-1,Ce=B[ce],Ee=ce+1,$=B[Ee];if(0>r(Ce,k))Ee<ne&&0>r($,Ce)?(B[Q]=$,B[Ee]=k,Q=Ee):(B[Q]=Ce,B[ce]=k,Q=ce);else if(Ee<ne&&0>r($,k))B[Q]=$,B[Ee]=k,Q=Ee;else break e}}return Z}function r(B,Z){var k=B.sortIndex-Z.sortIndex;return k!==0?k:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();i.unstable_now=function(){return a.now()-u}}var h=[],d=[],m=1,g=null,v=3,A=!1,S=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var Z=t(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=B)n(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function L(B){if(E=!1,b(B),!S)if(t(h)!==null)S=!0,ge(D);else{var Z=t(d);Z!==null&&de(L,Z.startTime-B)}}function D(B,Z){S=!1,E&&(E=!1,_(V),V=-1),A=!0;var k=v;try{for(b(Z),g=t(h);g!==null&&(!(g.expirationTime>Z)||B&&!K());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var ne=Q(g.expirationTime<=Z);Z=i.unstable_now(),typeof ne=="function"?g.callback=ne:g===t(h)&&n(h),b(Z)}else n(h);g=t(h)}if(g!==null)var ae=!0;else{var ce=t(d);ce!==null&&de(L,ce.startTime-Z),ae=!1}return ae}finally{g=null,v=k,A=!1}}var U=!1,z=null,V=-1,N=5,F=-1;function K(){return!(i.unstable_now()-F<N)}function oe(){if(z!==null){var B=i.unstable_now();F=B;var Z=!0;try{Z=z(!0,B)}finally{Z?te():(U=!1,z=null)}}else U=!1}var te;if(typeof C=="function")te=function(){C(oe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=oe,te=function(){le.postMessage(null)}}else te=function(){M(oe,0)};function ge(B){z=B,U||(U=!0,te())}function de(B,Z){V=M(function(){B(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){S||A||(S=!0,ge(D))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var k=v;v=Z;try{return B()}finally{v=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=v;v=B;try{return Z()}finally{v=k}},i.unstable_scheduleCallback=function(B,Z,k){var Q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,B={id:m++,callback:Z,priorityLevel:B,startTime:k,expirationTime:ne,sortIndex:-1},k>Q?(B.sortIndex=k,e(d,B),t(h)===null&&B===t(d)&&(E?(_(V),V=-1):E=!0,de(L,k-Q))):(B.sortIndex=ne,e(h,B),S||A||(S=!0,ge(D))),B},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(B){var Z=v;return function(){var k=v;v=Z;try{return B.apply(this,arguments)}finally{v=k}}}})(kv)),kv}var dS;function bU(){return dS||(dS=1,Uv.exports=TU()),Uv.exports}var pS=bU();function dT(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}const pa=[];function pT(i,e,t=!1,n={}){for(const o of pa)if(dT(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!t)throw o.promise}const r={keys:e,equal:n.equal,promise:i(...e).then(o=>r.response=o).then(()=>{n.lifespan&&n.lifespan>0&&setTimeout(()=>{const o=pa.indexOf(r);o!==-1&&pa.splice(o,1)},n.lifespan)}).catch(o=>r.error=o)};if(pa.push(r),!t)throw r.promise}const CU=(i,e,t)=>pT(i,e,!1,t),PU=(i,e,t)=>{pT(i,e,!0,t)},RU=i=>{if(i===void 0||i.length===0)pa.splice(0,pa.length);else{const e=pa.find(t=>dT(i,t.keys,t.equal));if(e){const t=pa.indexOf(e);t!==-1&&pa.splice(t,1)}}},dA={},LU=i=>{Object.assign(dA,i)};function IU(i,e){function t(m,{args:g=[],attach:v,...A},S){let E=`${m[0].toUpperCase()}${m.slice(1)}`,M;if(m==="primitive"){if(A.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=A.object;M=If(_,{type:m,root:S,attach:v,primitive:!0})}else{const _=dA[E];if(!_)throw new Error(`R3F: ${E} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(g))throw new Error("R3F: The args prop must be an array!");M=If(new _(...g),{type:m,root:S,attach:v,memoizedProps:{args:g}})}return M.__r3f.attach===void 0&&(M instanceof Qt?M.__r3f.attach="geometry":M instanceof Wi&&(M.__r3f.attach="material")),E!=="inject"&&Bv(M,A),M}function n(m,g){let v=!1;if(g){var A,S;(A=g.__r3f)!=null&&A.attach?Fv(m,g,g.__r3f.attach):g.isObject3D&&m.isObject3D&&(m.add(g),v=!0),v||(S=m.__r3f)==null||S.objects.push(g),g.__r3f||If(g,{}),g.__r3f.parent=m,ix(g),Nf(g)}}function r(m,g,v){let A=!1;if(g){var S,E;if((S=g.__r3f)!=null&&S.attach)Fv(m,g,g.__r3f.attach);else if(g.isObject3D&&m.isObject3D){g.parent=m,g.dispatchEvent({type:"added"});const M=m.children.filter(C=>C!==g),_=M.indexOf(v);m.children=[...M.slice(0,_),g,...M.slice(_)],A=!0}A||(E=m.__r3f)==null||E.objects.push(g),g.__r3f||If(g,{}),g.__r3f.parent=m,ix(g),Nf(g)}}function o(m,g,v=!1){m&&[...m].forEach(A=>a(g,A,v))}function a(m,g,v){if(g){var A,S,E;if(g.__r3f&&(g.__r3f.parent=null),(A=m.__r3f)!=null&&A.objects&&(m.__r3f.objects=m.__r3f.objects.filter(L=>L!==g)),(S=g.__r3f)!=null&&S.attach)xS(m,g,g.__r3f.attach);else if(g.isObject3D&&m.isObject3D){var M;m.remove(g),(M=g.__r3f)!=null&&M.root&&zU(g.__r3f.root,g)}const C=(E=g.__r3f)==null?void 0:E.primitive,b=v===void 0?g.dispose!==null&&!C:v;if(!C){var _;o((_=g.__r3f)==null?void 0:_.objects,g,b),o(g.children,g,b)}g.__r3f&&(delete g.__r3f.root,delete g.__r3f.objects,delete g.__r3f.handlers,delete g.__r3f.memoizedProps,C||delete g.__r3f),b&&g.dispose&&g.type!=="Scene"&&pS.unstable_scheduleCallback(pS.unstable_IdlePriority,()=>{try{g.dispose()}catch{}}),Nf(m)}}function u(m,g,v,A){var S;const E=(S=m.__r3f)==null?void 0:S.parent;if(!E)return;const M=t(g,v,m.__r3f.root);if(m.children){for(const _ of m.children)_.__r3f&&n(M,_);m.children=m.children.filter(_=>!_.__r3f)}m.__r3f.objects.forEach(_=>n(M,_)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||a(E,m),M.parent&&(M.__r3f.autoRemovedBeforeAppend=!0),n(E,M),M.raycast&&M.__r3f.eventCount&&M.__r3f.root.getState().internal.interaction.push(M),[A,A.alternate].forEach(_=>{_!==null&&(_.stateNode=M,_.ref&&(typeof _.ref=="function"?_.ref(M):_.ref.current=M))})}const h=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:EU({createInstance:t,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,g)=>{if(!g)return;const v=m.getState().scene;v.__r3f&&(v.__r3f.root=m,n(v,g))},removeChildFromContainer:(m,g)=>{g&&a(m.getState().scene,g)},insertInContainerBefore:(m,g,v)=>{if(!g||!v)return;const A=m.getState().scene;A.__r3f&&r(A,g,v)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var g;return!!((g=m?.__r3f)!=null?g:{}).handlers},prepareUpdate(m,g,v,A){if(m.__r3f.primitive&&A.object&&A.object!==m)return[!0];{const{args:S=[],children:E,...M}=A,{args:_=[],children:C,...b}=v;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((D,U)=>D!==_[U]))return[!0];const L=_T(m,M,b,!0);return L.changes.length?[!1,L]:null}},commitUpdate(m,[g,v],A,S,E,M){g?u(m,A,E,M):Bv(m,v)},commitMount(m,g,v,A){var S;const E=(S=m.__r3f)!=null?S:{};m.raycast&&E.handlers&&E.eventCount&&m.__r3f.root.getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>If(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var g;const{attach:v,parent:A}=(g=m.__r3f)!=null?g:{};v&&A&&xS(A,m,v),m.isObject3D&&(m.visible=!1),Nf(m)},unhideInstance(m,g){var v;const{attach:A,parent:S}=(v=m.__r3f)!=null?v:{};A&&S&&Fv(S,m,A),(m.isObject3D&&g.visible==null||g.visible)&&(m.visible=!0),Nf(m)},createTextInstance:h,hideTextInstance:h,unhideTextInstance:h,getCurrentEventPriority:()=>e?e():zf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&In.fun(performance.now)?performance.now:In.fun(Date.now)?Date.now:()=>0,scheduleTimeout:In.fun(setTimeout)?setTimeout:void 0,cancelTimeout:In.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Bv}}var mS,gS;const Ov=i=>"colorSpace"in i||"outputColorSpace"in i,mT=()=>{var i;return(i=dA.ColorManagement)!=null?i:null},gT=i=>i&&i.isOrthographicCamera,NU=i=>i&&i.hasOwnProperty("current"),gp=typeof window<"u"&&((mS=window.document)!=null&&mS.createElement||((gS=window.navigator)==null?void 0:gS.product)==="ReactNative")?J.useLayoutEffect:J.useEffect;function vT(i){const e=J.useRef(i);return gp(()=>{e.current=i},[i]),e}function DU({set:i}){return gp(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class yT extends J.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}yT.getDerivedStateFromError=()=>({error:!0});const xT="__default",vS=new Map,UU=i=>i&&!!i.memoized&&!!i.changes;function AT(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const ld=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()},In={obj:i=>i===Object(i)&&!In.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(In.str(i)||In.num(i))return i===e;const o=In.obj(i);if(o&&n==="reference")return i===e;const a=In.arr(i);if(a&&t==="reference")return i===e;if((a||o)&&i===e)return!0;let u;for(u in i)if(!(u in e))return!1;if(o&&t==="shallow"&&n==="shallow"){for(u in r?e:i)if(!In.equ(i[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:i)if(i[u]!==e[u])return!1;if(In.und(u)){if(a&&i.length===0&&e.length===0||o&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function kU(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function OU(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function If(i,e){const t=i;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),i}function nx(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((o,a)=>o[a],i),{target:t,key:r}}else return{target:t,key:e}}const yS=/-\d+$/;function Fv(i,e,t){if(In.str(t)){if(yS.test(t)){const o=t.replace(yS,""),{target:a,key:u}=nx(i,o);Array.isArray(a[u])||(a[u]=[])}const{target:n,key:r}=nx(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function xS(i,e,t){var n,r;if(In.str(t)){const{target:o,key:a}=nx(i,t),u=e.__r3f.previousAttach;u===void 0?delete o[a]:o[a]=u}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function _T(i,{children:e,key:t,ref:n,...r},{children:o,key:a,ref:u,...h}={},d=!1){var m;const g=(m=i?.__r3f)!=null?m:{},v=Object.entries(r),A=[];if(d){const E=Object.keys(h);for(let M=0;M<E.length;M++)r.hasOwnProperty(E[M])||v.unshift([E[M],xT+"remove"])}v.forEach(([E,M])=>{var _;if((_=i.__r3f)!=null&&_.primitive&&E==="object"||In.equ(M,h[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return A.push([E,M,!0,[]]);let C=[];E.includes("-")&&(C=E.split("-")),A.push([E,M,!1,C]);for(const b in r){const L=r[b];b.startsWith(`${E}-`)&&A.push([b,L,!1,b.split("-")])}});const S={...r};return g.memoizedProps&&g.memoizedProps.args&&(S.args=g.memoizedProps.args),g.memoizedProps&&g.memoizedProps.attach&&(S.attach=g.memoizedProps.attach),{memoized:S,changes:A}}function Bv(i,e){var t,n,r;const o=(t=i.__r3f)!=null?t:{},a=o.root,u=(n=a==null||a.getState==null?void 0:a.getState())!=null?n:{},{memoized:h,changes:d}=UU(e)?e:_T(i,e),m=o.eventCount;i.__r3f&&(i.__r3f.memoizedProps=h);for(let v=0;v<d.length;v++){let[A,S,E,M]=d[v];if(Ov(i)){const L="srgb",D="srgb-linear";A==="encoding"?(A="colorSpace",S=S===3001?L:D):A==="outputEncoding"&&(A="outputColorSpace",S=S===3001?L:D)}let _=i,C=_[A];if(M.length&&(C=M.reduce((b,L)=>b[L],i),!(C&&C.set))){const[b,...L]=M.reverse();_=L.reverse().reduce((D,U)=>D[U],i),A=b}if(S===xT+"remove")if(_.constructor){let b=vS.get(_.constructor);b||(b=new _.constructor,vS.set(_.constructor,b)),S=b[A]}else S=0;if(E)S?o.handlers[A]=S:delete o.handlers[A],o.eventCount=Object.keys(o.handlers).length;else if(C&&C.set&&(C.copy||C instanceof Gu)){if(Array.isArray(S))C.fromArray?C.fromArray(S):C.set(...S);else if(C.copy&&S&&S.constructor&&C.constructor===S.constructor)C.copy(S);else if(S!==void 0){const b=C instanceof at;!b&&C.setScalar?C.setScalar(S):C instanceof Gu&&S instanceof Gu?C.mask=S.mask:C.set(S),!mT()&&!u.linear&&b&&C.convertSRGBToLinear()}}else if(_[A]=S,_[A]instanceof On&&_[A].format===Ur&&_[A].type===_a){const b=_[A];Ov(b)&&Ov(u.gl)?b.colorSpace=u.gl.outputColorSpace:b.encoding=u.gl.outputEncoding}Nf(i)}if(o.parent&&u.internal&&i.raycast&&m!==o.eventCount){const v=u.internal.interaction.indexOf(i);v>-1&&u.internal.interaction.splice(v,1),o.eventCount&&u.internal.interaction.push(i)}return!(d.length===1&&d[0][0]==="onUpdate")&&d.length&&(r=i.__r3f)!=null&&r.parent&&ix(i),i}function Nf(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function ix(i){i.onUpdate==null||i.onUpdate(i)}function FU(i,e){i.manual||(gT(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function lg(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function BU(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return zf.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zf.ContinuousEventPriority;default:return zf.DefaultEventPriority}}function ST(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function zU(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{ST(t.capturedMap,e,n,r)})}function VU(i){function e(h){const{internal:d}=i.getState(),m=h.offsetX-d.initialClick[0],g=h.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(h){return h.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(h,d){const m=i.getState(),g=new Set,v=[],A=d?d(m.internal.interaction):m.internal.interaction;for(let _=0;_<A.length;_++){const C=ld(A[_]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function S(_){const C=ld(_);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var b;C.events.compute==null||C.events.compute(h,C,(b=C.previousRoot)==null?void 0:b.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(_,!0):[]}let E=A.flatMap(S).sort((_,C)=>{const b=ld(_.object),L=ld(C.object);return!b||!L?_.distance-C.distance:L.events.priority-b.events.priority||_.distance-C.distance}).filter(_=>{const C=lg(_);return g.has(C)?!1:(g.add(C),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const _ of E){let C=_.object;for(;C;){var M;(M=C.__r3f)!=null&&M.eventCount&&v.push({..._,eventObject:C}),C=C.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let _ of m.internal.capturedMap.get(h.pointerId).values())g.has(lg(_.intersection))||v.push(_.intersection);return v}function r(h,d,m,g){const v=i.getState();if(h.length){const A={stopped:!1};for(const S of h){const E=ld(S.object)||v,{raycaster:M,pointer:_,camera:C,internal:b}=E,L=new G(_.x,_.y,0).unproject(C),D=F=>{var K,oe;return(K=(oe=b.capturedMap.get(F))==null?void 0:oe.has(S.eventObject))!=null?K:!1},U=F=>{const K={intersection:S,target:d.target};b.capturedMap.has(F)?b.capturedMap.get(F).set(S.eventObject,K):b.capturedMap.set(F,new Map([[S.eventObject,K]])),d.target.setPointerCapture(F)},z=F=>{const K=b.capturedMap.get(F);K&&ST(b.capturedMap,S.eventObject,K,F)};let V={};for(let F in d){let K=d[F];typeof K!="function"&&(V[F]=K)}let N={...S,...V,pointer:_,intersections:h,stopped:A.stopped,delta:m,unprojectedPoint:L,ray:M.ray,camera:C,stopPropagation(){const F="pointerId"in d&&b.capturedMap.get(d.pointerId);if((!F||F.has(S.eventObject))&&(N.stopped=A.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(K=>K.eventObject===S.eventObject))){const K=h.slice(0,h.indexOf(S));o([...K,S])}},target:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:z},currentTarget:{hasPointerCapture:D,setPointerCapture:U,releasePointerCapture:z},nativeEvent:d};if(g(N),A.stopped===!0)break}}return h}function o(h){const{internal:d}=i.getState();for(const m of d.hovered.values())if(!h.length||!h.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f,A=v?.handlers;if(d.hovered.delete(lg(m)),v!=null&&v.eventCount){const S={...m,intersections:h};A.onPointerOut==null||A.onPointerOut(S),A.onPointerLeave==null||A.onPointerLeave(S)}}}function a(h,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:m}=i.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),o([]))})}}return function(m){const{onPointerMissed:g,internal:v}=i.getState();v.lastEvent.current=m;const A=h==="onPointerMove",S=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",M=n(m,A?t:void 0),_=S?e(m):0;h==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=M.map(b=>b.eventObject)),S&&!M.length&&_<=2&&(a(m,v.interaction),g&&g(m)),A&&o(M);function C(b){const L=b.eventObject,D=L.__r3f,U=D?.handlers;if(D!=null&&D.eventCount)if(A){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const z=lg(b),V=v.hovered.get(z);V?V.stopped&&b.stopPropagation():(v.hovered.set(z,b),U.onPointerOver==null||U.onPointerOver(b),U.onPointerEnter==null||U.onPointerEnter(b))}U.onPointerMove==null||U.onPointerMove(b)}else{const z=U[h];z?(!S||v.initialHits.includes(L))&&(a(m,v.interaction.filter(V=>!v.initialHits.includes(V))),z(b)):S&&v.initialHits.includes(L)&&a(m,v.interaction.filter(V=>!v.initialHits.includes(V)))}}r(M,m,_,C)}}return{handlePointer:u}}const wT=i=>!!(i!=null&&i.render),MT=J.createContext(null),HU=(i,e)=>{const t=xU((u,h)=>{const d=new G,m=new G,g=new G;function v(_=h().camera,C=m,b=h().size){const{width:L,height:D,top:U,left:z}=b,V=L/D;C instanceof G?g.copy(C):g.set(...C);const N=_.getWorldPosition(d).distanceTo(g);if(gT(_))return{width:L/_.zoom,height:D/_.zoom,top:U,left:z,factor:1,distance:N,aspect:V};{const F=_.fov*Math.PI/180,K=2*Math.tan(F/2)*N,oe=K*(L/D);return{width:oe,height:K,top:U,left:z,factor:L/oe,distance:N,aspect:V}}}let A;const S=_=>u(C=>({performance:{...C.performance,current:_}})),E=new Ie;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>i(h(),_),advance:(_,C)=>e(_,C,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new uA,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=h();A&&clearTimeout(A),_.performance.current!==_.performance.min&&S(_.performance.min),A=setTimeout(()=>S(h().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:_=>u(C=>({...C,events:{...C.events,..._}})),setSize:(_,C,b,L,D)=>{const U=h().camera,z={width:_,height:C,top:L||0,left:D||0,updateStyle:b};u(V=>({size:z,viewport:{...V.viewport,...v(U,m,z)}}))},setDpr:_=>u(C=>{const b=AT(_);return{viewport:{...C.viewport,dpr:b,initialDpr:C.viewport.initialDpr||b}}}),setFrameloop:(_="always")=>{const C=h().clock;C.stop(),C.elapsedTime=0,_!=="never"&&(C.start(),C.elapsedTime=0),u(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:J.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,C,b)=>{const L=h().internal;return L.priority=L.priority+(C>0?1:0),L.subscribers.push({ref:_,priority:C,store:b}),L.subscribers=L.subscribers.sort((D,U)=>D.priority-U.priority),()=>{const D=h().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(C>0?1:0),D.subscribers=D.subscribers.filter(U=>U.ref!==_))}}}}}),n=t.getState();let r=n.size,o=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:d,gl:m,set:g}=t.getState();if(h!==r||d.dpr!==o){var v;r=h,o=d.dpr,FU(u,h),m.setPixelRatio(d.dpr);const A=(v=h.updateStyle)!=null?v:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,A)}u!==a&&(a=u,g(A=>({viewport:{...A.viewport,...A.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>i(u)),t};let ug,GU=new Set,WU=new Set,jU=new Set;function zv(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function ud(i,e){switch(i){case"before":return zv(GU,e);case"after":return zv(WU,e);case"tail":return zv(jU,e)}}let Vv,Hv;function Gv(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),Vv=e.internal.subscribers,ug=0;ug<Vv.length;ug++)Hv=Vv[ug],Hv.ref.current(Hv.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function XU(i){let e=!1,t,n,r;function o(h){n=requestAnimationFrame(o),e=!0,t=0,ud("before",h);for(const m of i.values()){var d;r=m.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((d=r.gl.xr)!=null&&d.isPresenting)&&(t+=Gv(h,r))}if(ud("after",h),t===0)return ud("tail",h),e=!1,cancelAnimationFrame(n)}function a(h,d=1){var m;if(!h)return i.forEach(g=>a(g.store.getState()),d);(m=h.gl.xr)!=null&&m.isPresenting||!h.internal.active||h.frameloop==="never"||(h.internal.frames=Math.min(60,h.internal.frames+d),e||(e=!0,requestAnimationFrame(o)))}function u(h,d=!0,m,g){if(d&&ud("before",h),m)Gv(h,m,g);else for(const v of i.values())Gv(h,v.store.getState());d&&ud("after",h)}return{loop:o,invalidate:a,advance:u}}function ET(){const i=J.useContext(MT);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function $r(i=t=>t,e){return ET()(i,e)}function pA(i,e=0){const t=ET(),n=t.getState().internal.subscribe,r=vT(i);return gp(()=>n(r,e,t),[e,n,t]),null}function TT(i,e){return function(t,...n){const r=new t;return i&&i(r),Promise.all(n.map(o=>new Promise((a,u)=>r.load(o,h=>{h.scene&&Object.assign(h,kU(h.scene)),a(h)},e,h=>u(new Error(`Could not load ${o}: ${h.message})`))))))}}function vp(i,e,t,n){const r=Array.isArray(e)?e:[e],o=CU(TT(t,n),[i,...r],{equal:In.equ});return Array.isArray(e)?o:o[0]}vp.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return PU(TT(t),[i,...n])};vp.clear=function(i,e){const t=Array.isArray(e)?e:[e];return RU([i,...t])};const Kf=new Map,{invalidate:AS,advance:_S}=XU(Kf),{reconciler:Rg,applyProps:Mo}=IU(Kf,BU),Lf={objects:"shallow",strict:!1},YU=(i,e)=>{const t=typeof i=="function"?i(e):i;return wT(t)?t:new Wx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function QU(i,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:o}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:o}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function qU(i){const e=Kf.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,o=n||HU(AS,_S),a=t||Rg.createContainer(o,zf.ConcurrentRoot,null,!1,null,"",r,null);e||Kf.set(i,{fiber:a,store:o});let u,h=!1,d;return{configure(m={}){let{gl:g,size:v,scene:A,events:S,onCreated:E,shadows:M=!1,linear:_=!1,flat:C=!1,legacy:b=!1,orthographic:L=!1,frameloop:D="always",dpr:U=[1,2],performance:z,raycaster:V,camera:N,onPointerMissed:F}=m,K=o.getState(),oe=K.gl;K.gl||K.set({gl:oe=YU(g,i)});let te=K.raycaster;te||K.set({raycaster:te=new fT});const{params:se,...le}=V||{};if(In.equ(le,te,Lf)||Mo(te,{...le}),In.equ(se,te.params,Lf)||Mo(te,{params:{...te.params,...se}}),!K.camera||K.camera===d&&!In.equ(d,N,Lf)){d=N;const Q=N instanceof tp,ne=Q?N:L?new Eo(0,0,0,0,.1,1e3):new Hn(75,0,.1,1e3);Q||(ne.position.z=5,N&&Mo(ne,N),!K.camera&&!(N!=null&&N.rotation)&&ne.lookAt(0,0,0)),K.set({camera:ne})}if(!K.scene){let Q;A instanceof Pg?Q=A:(Q=new Pg,A&&Mo(Q,A)),K.set({scene:If(Q)})}if(!K.xr){const Q=(ce,Ce)=>{const Ee=o.getState();Ee.frameloop!=="never"&&_S(ce,!0,Ee,Ce)},ne=()=>{const ce=o.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?Q:null),ce.gl.xr.isPresenting||AS(ce)},ae={connect(){const ce=o.getState().gl;ce.xr.addEventListener("sessionstart",ne),ce.xr.addEventListener("sessionend",ne)},disconnect(){const ce=o.getState().gl;ce.xr.removeEventListener("sessionstart",ne),ce.xr.removeEventListener("sessionend",ne)}};oe.xr&&ae.connect(),K.set({xr:ae})}if(oe.shadowMap){const Q=oe.shadowMap.enabled,ne=oe.shadowMap.type;if(oe.shadowMap.enabled=!!M,In.boo(M))oe.shadowMap.type=xd;else if(In.str(M)){var ge;const ae={basic:dM,percentage:Xg,soft:xd,variance:Ws};oe.shadowMap.type=(ge=ae[M])!=null?ge:xd}else In.obj(M)&&Object.assign(oe.shadowMap,M);(Q!==oe.shadowMap.enabled||ne!==oe.shadowMap.type)&&(oe.shadowMap.needsUpdate=!0)}const de=mT();de&&("enabled"in de?de.enabled=!b:"legacyMode"in de&&(de.legacyMode=b)),Mo(oe,{outputEncoding:_?3e3:3001,toneMapping:C?Qs:Cx}),K.legacy!==b&&K.set(()=>({legacy:b})),K.linear!==_&&K.set(()=>({linear:_})),K.flat!==C&&K.set(()=>({flat:C})),g&&!In.fun(g)&&!wT(g)&&!In.equ(g,oe,Lf)&&Mo(oe,g),S&&!K.events.handlers&&K.set({events:S(o)});const k=QU(i,v);return In.equ(k,K.size,Lf)||K.setSize(k.width,k.height,k.updateStyle,k.top,k.left),U&&K.viewport.dpr!==AT(U)&&K.setDpr(U),K.frameloop!==D&&K.setFrameloop(D),K.onPointerMissed||K.set({onPointerMissed:F}),z&&!In.equ(z,K.performance,Lf)&&K.set(Q=>({performance:{...Q.performance,...z}})),u=E,h=!0,this},render(m){return h||this.configure(),Rg.updateContainer(J.createElement(ZU,{store:o,children:m,onCreated:u,rootElement:i}),a,null,()=>{}),o},unmount(){bT(i)}}}function ZU({store:i,children:e,onCreated:t,rootElement:n}){return gp(()=>{const r=i.getState();r.set(o=>({internal:{...o.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),J.createElement(MT.Provider,{value:i},e)}function bT(i,e){const t=Kf.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),Rg.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var o,a,u,h;r.events.disconnect==null||r.events.disconnect(),(o=r.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),OU(r),Kf.delete(i)}catch{}},500)})}}Rg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.version});function Zu(){return Zu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Zu.apply(null,arguments)}var Wv,SS;function KU(){if(SS)return Wv;SS=1;function i(e,t,n){var r,o,a,u,h;t==null&&(t=100);function d(){var g=Date.now()-u;g<t&&g>=0?r=setTimeout(d,t-g):(r=null,n||(h=e.apply(a,o),a=o=null))}var m=function(){a=this,o=arguments,u=Date.now();var g=n&&!r;return r||(r=setTimeout(d,t)),g&&(h=e.apply(a,o),a=o=null),h};return m.clear=function(){r&&(clearTimeout(r),r=null)},m.flush=function(){r&&(h=e.apply(a,o),a=o=null,clearTimeout(r),r=null)},m}return i.debounce=i,Wv=i,Wv}var JU=KU();const wS=Vg(JU);function $U(i){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=i===void 0?{debounce:0,scroll:!1,offsetSize:!1}:i;const o=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,u]=J.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=J.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),d=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,g=J.useRef(!1);J.useEffect(()=>(g.current=!0,()=>{g.current=!1}));const[v,A,S]=J.useMemo(()=>{const C=()=>{if(!h.current.element)return;const{left:b,top:L,width:D,height:U,bottom:z,right:V,x:N,y:F}=h.current.element.getBoundingClientRect(),K={left:b,top:L,width:D,height:U,bottom:z,right:V,x:N,y:F};h.current.element instanceof HTMLElement&&r&&(K.height=h.current.element.offsetHeight,K.width=h.current.element.offsetWidth),Object.freeze(K),g.current&&!ik(h.current.lastBounds,K)&&u(h.current.lastBounds=K)};return[C,m?wS(C,m):C,d?wS(C,d):C]},[u,r,d,m]);function E(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function M(){h.current.element&&(h.current.resizeObserver=new o(S),h.current.resizeObserver.observe(h.current.element),t&&h.current.scrollContainers&&h.current.scrollContainers.forEach(C=>C.addEventListener("scroll",S,{capture:!0,passive:!0})))}const _=C=>{!C||C===h.current.element||(E(),h.current.element=C,h.current.scrollContainers=CT(C),M())};return tk(S,!!t),ek(A),J.useEffect(()=>{E(),M()},[t,S,A]),J.useEffect(()=>E,[]),[_,a,v]}function ek(i){J.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function tk(i,e){J.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function CT(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(o=>o==="auto"||o==="scroll")&&e.push(i),[...e,...CT(i.parentElement)]}const nk=["x","y","top","bottom","left","right","width","height"],ik=(i,e)=>nk.every(t=>i[t]===e[t]);var rk=Object.defineProperty,sk=Object.defineProperties,ok=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,ak=Object.prototype.hasOwnProperty,lk=Object.prototype.propertyIsEnumerable,ES=(i,e,t)=>e in i?rk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,TS=(i,e)=>{for(var t in e||(e={}))ak.call(e,t)&&ES(i,t,e[t]);if(MS)for(var t of MS(e))lk.call(e,t)&&ES(i,t,e[t]);return i},uk=(i,e)=>sk(i,ok(e));function PT(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=PT(n,e,t);if(r)return r;n=n.sibling}}function RT(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const mA=RT(J.createContext(null));class LT extends J.Component{render(){return J.createElement(mA.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:bS,ReactCurrentDispatcher:CS}=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ck(){const i=J.useContext(mA);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=J.useId();return J.useMemo(()=>{for(const n of[bS?.current,i,i?.alternate]){if(!n)continue;const r=PT(n,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[i,e])}function fk(){var i,e;const t=ck(),[n]=J.useState(()=>new Map);n.clear();let r=t;for(;r;){const o=(i=r.type)==null?void 0:i._context;o&&o!==mA&&!n.has(o)&&n.set(o,(e=CS?.current)==null?void 0:e.readContext(RT(o))),r=r.return}return n}function hk(){const i=fk();return J.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>J.createElement(e,null,J.createElement(t.Provider,uk(TS({},n),{value:i.get(t)}))),e=>J.createElement(LT,TS({},e))),[i])}const jv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dk(i){const{handlePointer:e}=VU(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(jv).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:o}=i.getState();o.disconnect==null||o.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((n=o.handlers)!=null?n:[]).forEach(([a,u])=>{const[h,d]=jv[a];t.addEventListener(h,u,{passive:d})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([o,a])=>{if(n&&n.connected instanceof HTMLElement){const[u]=jv[o];n.connected.removeEventListener(u,a)}}),t(o=>({events:{...o.events,connected:void 0}}))}}}}const pk=J.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:o,events:a=dk,eventSource:u,eventPrefix:h,shadows:d,linear:m,flat:g,legacy:v,orthographic:A,frameloop:S,dpr:E,performance:M,raycaster:_,camera:C,onPointerMissed:b,onCreated:L,...D},U){J.useMemo(()=>LU(pU),[]);const z=hk(),[V,N]=$U({scroll:!0,debounce:{scroll:50,resize:0},...n}),F=J.useRef(null),K=J.useRef(null);J.useImperativeHandle(U,()=>F.current);const oe=vT(b),[te,se]=J.useState(!1),[le,ge]=J.useState(!1);if(te)throw te;if(le)throw le;const de=J.useRef(null);gp(()=>{const Z=F.current;N.width>0&&N.height>0&&Z&&(de.current||(de.current=qU(Z)),de.current.configure({gl:o,events:a,shadows:d,linear:m,flat:g,legacy:v,orthographic:A,frameloop:S,dpr:E,performance:M,raycaster:_,camera:C,size:N,onPointerMissed:(...k)=>oe.current==null?void 0:oe.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(u?NU(u)?u.current:u:K.current),h&&k.setEvents({compute:(Q,ne)=>{const ae=Q[h+"X"],ce=Q[h+"Y"];ne.pointer.set(ae/ne.size.width*2-1,-(ce/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),L?.(k)}}),de.current.render(J.createElement(z,null,J.createElement(yT,{set:ge},J.createElement(J.Suspense,{fallback:J.createElement(DU,{set:se})},e)))))}),J.useEffect(()=>{const Z=F.current;if(Z)return()=>bT(Z)},[]);const B=u?"none":"auto";return J.createElement("div",Zu({ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...r}},D),J.createElement("div",{ref:V,style:{width:"100%",height:"100%"}},J.createElement("canvas",{ref:F,style:{display:"block"}},t)))}),mk=J.forwardRef(function(e,t){return J.createElement(LT,null,J.createElement(pk,Zu({},e,{ref:t})))}),yp=new G,gA=new G,gk=new G,PS=new Ie;function vk(i,e,t){const n=yp.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,o=t.height/2;return[n.x*r+r,-(n.y*o)+o]}function yk(i,e){const t=yp.setFromMatrixPosition(i.matrixWorld),n=gA.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),o=e.getWorldDirection(gk);return r.angleTo(o)>Math.PI/2}function xk(i,e,t,n){const r=yp.setFromMatrixPosition(i.matrixWorld),o=r.clone();o.project(e),PS.set(o.x,o.y),t.setFromCamera(PS,e);const a=t.intersectObjects(n,!0);if(a.length){const u=a[0].distance;return r.distanceTo(t.ray.origin)<u}return!0}function Ak(i,e){if(e instanceof Eo)return e.zoom;if(e instanceof Hn){const t=yp.setFromMatrixPosition(i.matrixWorld),n=gA.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,o=t.distanceTo(n);return 1/(2*Math.tan(r/2)*o)}else return 1}function _k(i,e,t){if(e instanceof Hn||e instanceof Eo){const n=yp.setFromMatrixPosition(i.matrixWorld),r=gA.setFromMatrixPosition(e.matrixWorld),o=n.distanceTo(r),a=(t[1]-t[0])/(e.far-e.near),u=t[1]-a*e.far;return Math.round(a*o+u)}}const rx=i=>Math.abs(i)<1e-10?0:i;function IT(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=rx(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const Sk=(i=>e=>IT(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),wk=(i=>(e,t)=>IT(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function Mk(i){return i&&typeof i=="object"&&"current"in i}const Ek=J.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:o,fullscreen:a,portal:u,distanceFactor:h,sprite:d=!1,transform:m=!1,occlude:g,onOcclude:v,castShadow:A,receiveShadow:S,material:E,geometry:M,zIndexRange:_=[16777271,0],calculatePosition:C=vk,as:b="div",wrapperClass:L,pointerEvents:D="auto",...U},z)=>{const{gl:V,camera:N,scene:F,size:K,raycaster:oe,events:te,viewport:se}=$r(),[le]=J.useState(()=>document.createElement(b)),ge=J.useRef(),de=J.useRef(null),B=J.useRef(0),Z=J.useRef([0,0]),k=J.useRef(null),Q=J.useRef(null),ne=u?.current||te.connected||V.domElement.parentNode,ae=J.useRef(null),ce=J.useRef(!1),Ce=J.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&Mk(g[0]),[g]);J.useLayoutEffect(()=>{const Ue=V.domElement;g&&g==="blending"?(Ue.style.zIndex=`${Math.floor(_[0]/2)}`,Ue.style.position="absolute",Ue.style.pointerEvents="none"):(Ue.style.zIndex=null,Ue.style.position=null,Ue.style.pointerEvents=null)},[g]),J.useLayoutEffect(()=>{if(de.current){const Ue=ge.current=eM.createRoot(le);if(F.updateMatrixWorld(),m)le.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Oe=C(de.current,N,K);le.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Oe[0]}px,${Oe[1]}px,0);transform-origin:0 0;`}return ne&&(r?ne.prepend(le):ne.appendChild(le)),()=>{ne&&ne.removeChild(le),Ue.unmount()}}},[ne,m]),J.useLayoutEffect(()=>{L&&(le.className=L)},[L]);const Ee=J.useMemo(()=>m?{position:"absolute",top:0,left:0,width:K.width,height:K.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...a&&{top:-K.height/2,left:-K.width/2,width:K.width,height:K.height},...t},[t,o,a,K,m]),$=J.useMemo(()=>({position:"absolute",pointerEvents:D}),[D]);J.useLayoutEffect(()=>{if(ce.current=!1,m){var Ue;(Ue=ge.current)==null||Ue.render(J.createElement("div",{ref:k,style:Ee},J.createElement("div",{ref:Q,style:$},J.createElement("div",{ref:z,className:n,style:t,children:i}))))}else{var Oe;(Oe=ge.current)==null||Oe.render(J.createElement("div",{ref:z,style:Ee,className:n,children:i}))}});const Ge=J.useRef(!0);pA(Ue=>{if(de.current){N.updateMatrixWorld(),de.current.updateWorldMatrix(!0,!1);const Oe=m?Z.current:C(de.current,N,K);if(m||Math.abs(B.current-N.zoom)>e||Math.abs(Z.current[0]-Oe[0])>e||Math.abs(Z.current[1]-Oe[1])>e){const Re=yk(de.current,N);let Ae=!1;Ce&&(Array.isArray(g)?Ae=g.map(lt=>lt.current):g!=="blending"&&(Ae=[F]));const Ne=Ge.current;if(Ae){const lt=xk(de.current,N,oe,Ae);Ge.current=lt&&!Re}else Ge.current=!Re;Ne!==Ge.current&&(v?v(!Ge.current):le.style.display=Ge.current?"block":"none");const Ke=Math.floor(_[0]/2),Qe=g?Ce?[_[0],Ke]:[Ke-1,0]:_;if(le.style.zIndex=`${_k(de.current,N,Qe)}`,m){const[lt,yt]=[K.width/2,K.height/2],ct=N.projectionMatrix.elements[5]*yt,{isOrthographicCamera:wt,top:Ut,left:Y,bottom:H,right:_e}=N,Fe=Sk(N.matrixWorldInverse),Ve=wt?`scale(${ct})translate(${rx(-(_e+Y)/2)}px,${rx((Ut+H)/2)}px)`:`translateZ(${ct}px)`;let je=de.current.matrixWorld;d&&(je=N.matrixWorldInverse.clone().transpose().copyPosition(je).scale(de.current.scale),je.elements[3]=je.elements[7]=je.elements[11]=0,je.elements[15]=1),le.style.width=K.width+"px",le.style.height=K.height+"px",le.style.perspective=wt?"":`${ct}px`,k.current&&Q.current&&(k.current.style.transform=`${Ve}${Fe}translate(${lt}px,${yt}px)`,Q.current.style.transform=wk(je,1/((h||10)/400)))}else{const lt=h===void 0?1:Ak(de.current,N)*h;le.style.transform=`translate3d(${Oe[0]}px,${Oe[1]}px,0) scale(${lt})`}Z.current=Oe,B.current=N.zoom}}if(!Ce&&ae.current&&!ce.current)if(m){if(k.current){const Oe=k.current.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const{isOrthographicCamera:Re}=N;if(Re||M)U.scale&&(Array.isArray(U.scale)?U.scale instanceof G?ae.current.scale.copy(U.scale.clone().divideScalar(1)):ae.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):ae.current.scale.setScalar(1/U.scale));else{const Ae=(h||10)/400,Ne=Oe.clientWidth*Ae,Ke=Oe.clientHeight*Ae;ae.current.scale.set(Ne,Ke,1)}ce.current=!0}}}else{const Oe=le.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const Re=1/se.factor,Ae=Oe.clientWidth*Re,Ne=Oe.clientHeight*Re;ae.current.scale.set(Ae,Ne,1),ce.current=!0}ae.current.lookAt(Ue.camera.position)}});const $e=J.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return J.createElement("group",Zu({},U,{ref:de}),g&&!Ce&&J.createElement("mesh",{castShadow:A,receiveShadow:S,ref:ae},M||J.createElement("planeGeometry",null),E||J.createElement("shaderMaterial",{side:Xs,vertexShader:$e.vertexShader,fragmentShader:$e.fragmentShader})))}),RS=i=>{let e;const t=new Set,n=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(A=>A(e,v))}},r=()=>e,u={setState:n,getState:r,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=i(n,r,u);return u},Tk=(i=>i?RS(i):RS),bk=i=>i;function Ck(i,e=bk){const t=yl.useSyncExternalStore(i.subscribe,yl.useCallback(()=>e(i.getState()),[i,e]),yl.useCallback(()=>e(i.getInitialState()),[i,e]));return yl.useDebugValue(t),t}const LS=i=>{const e=Tk(i),t=n=>Ck(e,n);return Object.assign(t,e),t},Pk=(i=>i?LS(i):LS);let cd=0;const Rk=Pk(i=>(Bf.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-cd)/(n-cd)*100})},Bf.onLoad=()=>{i({active:!1})},Bf.onError=e=>i(t=>({errors:[...t.errors,e]})),Bf.onProgress=(e,t,n)=>{t===n&&(cd=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-cd)/(n-cd)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var Lk=Object.defineProperty,Ik=(i,e,t)=>e in i?Lk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Nk=(i,e,t)=>(Ik(i,e+"",t),t);class Dk{constructor(){Nk(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}var Uk=Object.defineProperty,kk=(i,e,t)=>e in i?Uk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ct=(i,e,t)=>(kk(i,typeof e!="symbol"?e+"":e,t),t);const cg=new nh,IS=new ha,Ok=Math.cos(70*(Math.PI/180)),NS=(i,e)=>(i%e+e)%e;let Fk=class extends Dk{constructor(e,t){super(),Ct(this,"object"),Ct(this,"domElement"),Ct(this,"enabled",!0),Ct(this,"target",new G),Ct(this,"minDistance",0),Ct(this,"maxDistance",1/0),Ct(this,"minZoom",0),Ct(this,"maxZoom",1/0),Ct(this,"minPolarAngle",0),Ct(this,"maxPolarAngle",Math.PI),Ct(this,"minAzimuthAngle",-1/0),Ct(this,"maxAzimuthAngle",1/0),Ct(this,"enableDamping",!1),Ct(this,"dampingFactor",.05),Ct(this,"enableZoom",!0),Ct(this,"zoomSpeed",1),Ct(this,"enableRotate",!0),Ct(this,"rotateSpeed",1),Ct(this,"enablePan",!0),Ct(this,"panSpeed",1),Ct(this,"screenSpacePanning",!0),Ct(this,"keyPanSpeed",7),Ct(this,"zoomToCursor",!1),Ct(this,"autoRotate",!1),Ct(this,"autoRotateSpeed",2),Ct(this,"reverseOrbit",!1),Ct(this,"reverseHorizontalOrbit",!1),Ct(this,"reverseVerticalOrbit",!1),Ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ct(this,"mouseButtons",{LEFT:bu.ROTATE,MIDDLE:bu.DOLLY,RIGHT:bu.PAN}),Ct(this,"touches",{ONE:Cu.ROTATE,TWO:Cu.DOLLY_PAN}),Ct(this,"target0"),Ct(this,"position0"),Ct(this,"zoom0"),Ct(this,"_domElementKeyEvents",null),Ct(this,"getPolarAngle"),Ct(this,"getAzimuthalAngle"),Ct(this,"setPolarAngle"),Ct(this,"setAzimuthalAngle"),Ct(this,"getDistance"),Ct(this,"getZoomScale"),Ct(this,"listenToKeyEvents"),Ct(this,"stopListenToKeyEvents"),Ct(this,"saveState"),Ct(this,"reset"),Ct(this,"update"),Ct(this,"connect"),Ct(this,"dispose"),Ct(this,"dollyIn"),Ct(this,"dollyOut"),Ct(this,"getScale"),Ct(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ie=>{let De=NS(ie,2*Math.PI),et=m.phi;et<0&&(et+=2*Math.PI),De<0&&(De+=2*Math.PI);let ee=Math.abs(De-et);2*Math.PI-ee<ee&&(De<et?De+=2*Math.PI:et+=2*Math.PI),g.phi=De-et,n.update()},this.setAzimuthalAngle=ie=>{let De=NS(ie,2*Math.PI),et=m.theta;et<0&&(et+=2*Math.PI),De<0&&(De+=2*Math.PI);let ee=Math.abs(De-et);2*Math.PI-ee<ee&&(De<et?De+=2*Math.PI:et+=2*Math.PI),g.theta=De-et,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",At),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",At),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),h=u.NONE},this.update=(()=>{const ie=new G,De=new G(0,1,0),et=new nr().setFromUnitVectors(e.up,De),ee=et.clone().invert(),Se=new G,ke=new nr,Ye=2*Math.PI;return function(){const en=n.object.position;et.setFromUnitVectors(e.up,De),ee.copy(et).invert(),ie.copy(en).sub(n.target),ie.applyQuaternion(et),m.setFromVector3(ie),n.autoRotate&&h===u.NONE&&se(oe()),n.enableDamping?(m.theta+=g.theta*n.dampingFactor,m.phi+=g.phi*n.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Bt=n.minAzimuthAngle,dn=n.maxAzimuthAngle;isFinite(Bt)&&isFinite(dn)&&(Bt<-Math.PI?Bt+=Ye:Bt>Math.PI&&(Bt-=Ye),dn<-Math.PI?dn+=Ye:dn>Math.PI&&(dn-=Ye),Bt<=dn?m.theta=Math.max(Bt,Math.min(dn,m.theta)):m.theta=m.theta>(Bt+dn)/2?Math.max(Bt,m.theta):Math.min(dn,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(A,n.dampingFactor):n.target.add(A),n.zoomToCursor&&N||n.object.isOrthographicCamera?m.radius=ae(m.radius):m.radius=ae(m.radius*v),ie.setFromSpherical(m),ie.applyQuaternion(ee),en.copy(n.target).add(ie),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(g.theta*=1-n.dampingFactor,g.phi*=1-n.dampingFactor,A.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),A.set(0,0,0));let ri=!1;if(n.zoomToCursor&&N){let rn=null;if(n.object instanceof Hn&&n.object.isPerspectiveCamera){const Nn=ie.length();rn=ae(Nn*v);const Fn=Nn-rn;n.object.position.addScaledVector(z,Fn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Nn=new G(V.x,V.y,0);Nn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix(),ri=!0;const Fn=new G(V.x,V.y,0);Fn.unproject(n.object),n.object.position.sub(Fn).add(Nn),n.object.updateMatrixWorld(),rn=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;rn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(rn).add(n.object.position):(cg.origin.copy(n.object.position),cg.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(cg.direction))<Ok?e.lookAt(n.target):(IS.setFromNormalAndCoplanarPoint(n.object.up,n.target),cg.intersectPlane(IS,n.target))))}else n.object instanceof Eo&&n.object.isOrthographicCamera&&(ri=v!==1,ri&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix()));return v=1,N=!1,ri||Se.distanceToSquared(n.object.position)>d||8*(1-ke.dot(n.object.quaternion))>d?(n.dispatchEvent(r),Se.copy(n.object.position),ke.copy(n.object.quaternion),ri=!1,!0):!1}})(),this.connect=ie=>{n.domElement=ie,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",st),n.domElement.addEventListener("pointerdown",Y),n.domElement.addEventListener("pointercancel",_e),n.domElement.addEventListener("wheel",je)},this.dispose=()=>{var ie,De,et,ee,Se,ke;n.domElement&&(n.domElement.style.touchAction="auto"),(ie=n.domElement)==null||ie.removeEventListener("contextmenu",st),(De=n.domElement)==null||De.removeEventListener("pointerdown",Y),(et=n.domElement)==null||et.removeEventListener("pointercancel",_e),(ee=n.domElement)==null||ee.removeEventListener("wheel",je),(Se=n.domElement)==null||Se.ownerDocument.removeEventListener("pointermove",H),(ke=n.domElement)==null||ke.ownerDocument.removeEventListener("pointerup",_e),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",At)};const n=this,r={type:"change"},o={type:"start"},a={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const d=1e-6,m=new tx,g=new tx;let v=1;const A=new G,S=new Ie,E=new Ie,M=new Ie,_=new Ie,C=new Ie,b=new Ie,L=new Ie,D=new Ie,U=new Ie,z=new G,V=new Ie;let N=!1;const F=[],K={};function oe(){return 2*Math.PI/60/60*n.autoRotateSpeed}function te(){return Math.pow(.95,n.zoomSpeed)}function se(ie){n.reverseOrbit||n.reverseHorizontalOrbit?g.theta+=ie:g.theta-=ie}function le(ie){n.reverseOrbit||n.reverseVerticalOrbit?g.phi+=ie:g.phi-=ie}const ge=(()=>{const ie=new G;return function(et,ee){ie.setFromMatrixColumn(ee,0),ie.multiplyScalar(-et),A.add(ie)}})(),de=(()=>{const ie=new G;return function(et,ee){n.screenSpacePanning===!0?ie.setFromMatrixColumn(ee,1):(ie.setFromMatrixColumn(ee,0),ie.crossVectors(n.object.up,ie)),ie.multiplyScalar(et),A.add(ie)}})(),B=(()=>{const ie=new G;return function(et,ee){const Se=n.domElement;if(Se&&n.object instanceof Hn&&n.object.isPerspectiveCamera){const ke=n.object.position;ie.copy(ke).sub(n.target);let Ye=ie.length();Ye*=Math.tan(n.object.fov/2*Math.PI/180),ge(2*et*Ye/Se.clientHeight,n.object.matrix),de(2*ee*Ye/Se.clientHeight,n.object.matrix)}else Se&&n.object instanceof Eo&&n.object.isOrthographicCamera?(ge(et*(n.object.right-n.object.left)/n.object.zoom/Se.clientWidth,n.object.matrix),de(ee*(n.object.top-n.object.bottom)/n.object.zoom/Se.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Z(ie){n.object instanceof Hn&&n.object.isPerspectiveCamera||n.object instanceof Eo&&n.object.isOrthographicCamera?v=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(ie){Z(v/ie)}function Q(ie){Z(v*ie)}function ne(ie){if(!n.zoomToCursor||!n.domElement)return;N=!0;const De=n.domElement.getBoundingClientRect(),et=ie.clientX-De.left,ee=ie.clientY-De.top,Se=De.width,ke=De.height;V.x=et/Se*2-1,V.y=-(ee/ke)*2+1,z.set(V.x,V.y,1).unproject(n.object).sub(n.object.position).normalize()}function ae(ie){return Math.max(n.minDistance,Math.min(n.maxDistance,ie))}function ce(ie){S.set(ie.clientX,ie.clientY)}function Ce(ie){ne(ie),L.set(ie.clientX,ie.clientY)}function Ee(ie){_.set(ie.clientX,ie.clientY)}function $(ie){E.set(ie.clientX,ie.clientY),M.subVectors(E,S).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(se(2*Math.PI*M.x/De.clientHeight),le(2*Math.PI*M.y/De.clientHeight)),S.copy(E),n.update()}function Ge(ie){D.set(ie.clientX,ie.clientY),U.subVectors(D,L),U.y>0?k(te()):U.y<0&&Q(te()),L.copy(D),n.update()}function $e(ie){C.set(ie.clientX,ie.clientY),b.subVectors(C,_).multiplyScalar(n.panSpeed),B(b.x,b.y),_.copy(C),n.update()}function Ue(ie){ne(ie),ie.deltaY<0?Q(te()):ie.deltaY>0&&k(te()),n.update()}function Oe(ie){let De=!1;switch(ie.code){case n.keys.UP:B(0,n.keyPanSpeed),De=!0;break;case n.keys.BOTTOM:B(0,-n.keyPanSpeed),De=!0;break;case n.keys.LEFT:B(n.keyPanSpeed,0),De=!0;break;case n.keys.RIGHT:B(-n.keyPanSpeed,0),De=!0;break}De&&(ie.preventDefault(),n.update())}function Re(){if(F.length==1)S.set(F[0].pageX,F[0].pageY);else{const ie=.5*(F[0].pageX+F[1].pageX),De=.5*(F[0].pageY+F[1].pageY);S.set(ie,De)}}function Ae(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const ie=.5*(F[0].pageX+F[1].pageX),De=.5*(F[0].pageY+F[1].pageY);_.set(ie,De)}}function Ne(){const ie=F[0].pageX-F[1].pageX,De=F[0].pageY-F[1].pageY,et=Math.sqrt(ie*ie+De*De);L.set(0,et)}function Ke(){n.enableZoom&&Ne(),n.enablePan&&Ae()}function Qe(){n.enableZoom&&Ne(),n.enableRotate&&Re()}function lt(ie){if(F.length==1)E.set(ie.pageX,ie.pageY);else{const et=dt(ie),ee=.5*(ie.pageX+et.x),Se=.5*(ie.pageY+et.y);E.set(ee,Se)}M.subVectors(E,S).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(se(2*Math.PI*M.x/De.clientHeight),le(2*Math.PI*M.y/De.clientHeight)),S.copy(E)}function yt(ie){if(F.length==1)C.set(ie.pageX,ie.pageY);else{const De=dt(ie),et=.5*(ie.pageX+De.x),ee=.5*(ie.pageY+De.y);C.set(et,ee)}b.subVectors(C,_).multiplyScalar(n.panSpeed),B(b.x,b.y),_.copy(C)}function ct(ie){const De=dt(ie),et=ie.pageX-De.x,ee=ie.pageY-De.y,Se=Math.sqrt(et*et+ee*ee);D.set(0,Se),U.set(0,Math.pow(D.y/L.y,n.zoomSpeed)),k(U.y),L.copy(D)}function wt(ie){n.enableZoom&&ct(ie),n.enablePan&&yt(ie)}function Ut(ie){n.enableZoom&&ct(ie),n.enableRotate&&lt(ie)}function Y(ie){var De,et;n.enabled!==!1&&(F.length===0&&((De=n.domElement)==null||De.ownerDocument.addEventListener("pointermove",H),(et=n.domElement)==null||et.ownerDocument.addEventListener("pointerup",_e)),_t(ie),ie.pointerType==="touch"?nt(ie):Fe(ie))}function H(ie){n.enabled!==!1&&(ie.pointerType==="touch"?be(ie):Ve(ie))}function _e(ie){var De,et,ee;St(ie),F.length===0&&((De=n.domElement)==null||De.releasePointerCapture(ie.pointerId),(et=n.domElement)==null||et.ownerDocument.removeEventListener("pointermove",H),(ee=n.domElement)==null||ee.ownerDocument.removeEventListener("pointerup",_e)),n.dispatchEvent(a),h=u.NONE}function Fe(ie){let De;switch(ie.button){case 0:De=n.mouseButtons.LEFT;break;case 1:De=n.mouseButtons.MIDDLE;break;case 2:De=n.mouseButtons.RIGHT;break;default:De=-1}switch(De){case bu.DOLLY:if(n.enableZoom===!1)return;Ce(ie),h=u.DOLLY;break;case bu.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enablePan===!1)return;Ee(ie),h=u.PAN}else{if(n.enableRotate===!1)return;ce(ie),h=u.ROTATE}break;case bu.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enableRotate===!1)return;ce(ie),h=u.ROTATE}else{if(n.enablePan===!1)return;Ee(ie),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(o)}function Ve(ie){if(n.enabled!==!1)switch(h){case u.ROTATE:if(n.enableRotate===!1)return;$(ie);break;case u.DOLLY:if(n.enableZoom===!1)return;Ge(ie);break;case u.PAN:if(n.enablePan===!1)return;$e(ie);break}}function je(ie){n.enabled===!1||n.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(ie.preventDefault(),n.dispatchEvent(o),Ue(ie),n.dispatchEvent(a))}function At(ie){n.enabled===!1||n.enablePan===!1||Oe(ie)}function nt(ie){switch(it(ie),F.length){case 1:switch(n.touches.ONE){case Cu.ROTATE:if(n.enableRotate===!1)return;Re(),h=u.TOUCH_ROTATE;break;case Cu.PAN:if(n.enablePan===!1)return;Ae(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(n.touches.TWO){case Cu.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ke(),h=u.TOUCH_DOLLY_PAN;break;case Cu.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Qe(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(o)}function be(ie){switch(it(ie),h){case u.TOUCH_ROTATE:if(n.enableRotate===!1)return;lt(ie),n.update();break;case u.TOUCH_PAN:if(n.enablePan===!1)return;yt(ie),n.update();break;case u.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;wt(ie),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ut(ie),n.update();break;default:h=u.NONE}}function st(ie){n.enabled!==!1&&ie.preventDefault()}function _t(ie){F.push(ie)}function St(ie){delete K[ie.pointerId];for(let De=0;De<F.length;De++)if(F[De].pointerId==ie.pointerId){F.splice(De,1);return}}function it(ie){let De=K[ie.pointerId];De===void 0&&(De=new Ie,K[ie.pointerId]=De),De.set(ie.pageX,ie.pageY)}function dt(ie){const De=ie.pointerId===F[0].pointerId?F[1]:F[0];return K[De.pointerId]}this.dollyIn=(ie=te())=>{Q(ie),n.update()},this.dollyOut=(ie=te())=>{k(ie),n.update()},this.getScale=()=>v,this.setScale=ie=>{Z(ie),n.update()},this.getZoomScale=()=>te(),t!==void 0&&this.connect(t),this.update()}};class Bk extends Qt{constructor(e,t,n,r){super();const o=[],a=[],u=[],h=new G,d=new Ft;d.makeRotationFromEuler(n),d.setPosition(t);const m=new Ft;m.copy(d).invert(),g(),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(u,2));function g(){let E,M=[];const _=new G,C=new G;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const b=e.geometry,L=b.attributes.position,D=b.attributes.normal;if(b.index!==null){const U=b.index;for(E=0;E<U.count;E++)_.fromBufferAttribute(L,U.getX(E)),C.fromBufferAttribute(D,U.getX(E)),v(M,_,C)}else for(E=0;E<L.count;E++)_.fromBufferAttribute(L,E),C.fromBufferAttribute(D,E),v(M,_,C);for(M=A(M,h.set(1,0,0)),M=A(M,h.set(-1,0,0)),M=A(M,h.set(0,1,0)),M=A(M,h.set(0,-1,0)),M=A(M,h.set(0,0,1)),M=A(M,h.set(0,0,-1)),E=0;E<M.length;E++){const U=M[E];u.push(.5+U.position.x/r.x,.5+U.position.y/r.y),U.position.applyMatrix4(d),o.push(U.position.x,U.position.y,U.position.z),a.push(U.normal.x,U.normal.y,U.normal.z)}}function v(E,M,_){M.applyMatrix4(e.matrixWorld),M.applyMatrix4(m),_.transformDirection(e.matrixWorld),E.push(new DS(M.clone(),_.clone()))}function A(E,M){const _=[],C=.5*Math.abs(r.dot(M));for(let b=0;b<E.length;b+=3){let L,D,U,z=0,V,N,F,K;const oe=E[b+0].position.dot(M)-C,te=E[b+1].position.dot(M)-C,se=E[b+2].position.dot(M)-C;switch(L=oe>0,D=te>0,U=se>0,z=(L?1:0)+(D?1:0)+(U?1:0),z){case 0:{_.push(E[b]),_.push(E[b+1]),_.push(E[b+2]);break}case 1:{if(L&&(V=E[b+1],N=E[b+2],F=S(E[b],V,M,C),K=S(E[b],N,M,C)),D){V=E[b],N=E[b+2],F=S(E[b+1],V,M,C),K=S(E[b+1],N,M,C),_.push(F),_.push(N.clone()),_.push(V.clone()),_.push(N.clone()),_.push(F.clone()),_.push(K);break}U&&(V=E[b],N=E[b+1],F=S(E[b+2],V,M,C),K=S(E[b+2],N,M,C)),_.push(V.clone()),_.push(N.clone()),_.push(F),_.push(K),_.push(F.clone()),_.push(N.clone());break}case 2:{L||(V=E[b].clone(),N=S(V,E[b+1],M,C),F=S(V,E[b+2],M,C),_.push(V),_.push(N),_.push(F)),D||(V=E[b+1].clone(),N=S(V,E[b+2],M,C),F=S(V,E[b],M,C),_.push(V),_.push(N),_.push(F)),U||(V=E[b+2].clone(),N=S(V,E[b],M,C),F=S(V,E[b+1],M,C),_.push(V),_.push(N),_.push(F));break}}}return _}function S(E,M,_,C){const b=E.position.dot(_)-C,L=M.position.dot(_)-C,D=b/(b-L);return new DS(new G(E.position.x+D*(M.position.x-E.position.x),E.position.y+D*(M.position.y-E.position.y),E.position.z+D*(M.position.z-E.position.z)),new G(E.normal.x+D*(M.normal.x-E.normal.x),E.normal.y+D*(M.normal.y-E.normal.y),E.normal.z+D*(M.normal.z-E.normal.z)))}}}class DS{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const Xv=i=>i===Object(i)&&!Array.isArray(i)&&typeof i!="function";function vA(i,e){const t=$r(o=>o.gl),n=vp(s0,Xv(i)?Object.values(i):i);return J.useLayoutEffect(()=>{e?.(n)},[e]),J.useEffect(()=>{if("initTexture"in t){let o=[];Array.isArray(n)?o=n:n instanceof On?o=[n]:Xv(n)&&(o=Object.values(n)),o.forEach(a=>{a instanceof On&&t.initTexture(a)})}},[t,n]),J.useMemo(()=>{if(Xv(i)){const o={};let a=0;for(const u in i)o[u]=n[a++];return o}else return n},[i,n])}vA.preload=i=>vp.preload(s0,i);vA.clear=i=>vp.clear(s0,i);function zk(i){return Array.isArray(i)}function Yv(i=[0,0,0]){return zk(i)?i:i instanceof G||i instanceof Ju?[i.x,i.y,i.z]:[i,i,i]}const Vk=J.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:n=-10,map:r,mesh:o,children:a,position:u,rotation:h,scale:d,...m},g){const v=J.useRef(null);J.useImperativeHandle(g,()=>v.current);const A=J.useRef(null),S=J.useRef({position:new G,rotation:new Ju,scale:new G(1,1,1)});return J.useLayoutEffect(()=>{const E=o?.current||v.current.parent,M=v.current;if(!(E instanceof Li))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(E){Mo(S.current,{position:u,scale:d});const _=E.matrixWorld.clone();if(E.matrixWorld.identity(),!h||typeof h=="number"){const C=new cn;C.position.copy(S.current.position);const b=E.geometry.attributes.position.array;E.geometry.attributes.normal===void 0&&E.geometry.computeVertexNormals();const L=E.geometry.attributes.normal.array;let D=1/0;new G;let U=new G;const z=C.position.x,V=C.position.y,N=C.position.z,F=b.length;let K=-1;for(let oe=0;oe<F;oe+=3){const te=b[oe],se=b[oe+1],le=b[oe+2],ge=te-z,de=se-V,B=le-N,Z=ge*ge+de*de+B*B;Z<D&&(D=Z,K=oe)}U.fromArray(L,K),C.lookAt(C.position.clone().add(U)),C.rotateZ(Math.PI),C.rotateY(Math.PI),typeof h=="number"&&C.rotateZ(h),Mo(S.current,{rotation:C.rotation})}else Mo(S.current,{rotation:h});return M.geometry=new Bk(E,S.current.position,S.current.rotation,S.current.scale),E.matrixWorld=_,()=>{M.geometry.dispose()}}},[o,...Yv(u),...Yv(d),...Yv(h)]),J.useLayoutEffect(()=>{A.current&&(Mo(A.current,S.current),A.current.traverse(E=>E.raycast=()=>null))},[e]),J.createElement("mesh",Zu({ref:v,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":n,"material-depthTest":t,"material-map":r},m),a,e&&J.createElement("mesh",{ref:A},J.createElement("boxGeometry",null),J.createElement("meshNormalMaterial",{wireframe:!0}),J.createElement("axesHelper",null)))}),Hk=J.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:o=!1,onChange:a,onStart:u,onEnd:h,...d},m)=>{const g=$r(U=>U.invalidate),v=$r(U=>U.camera),A=$r(U=>U.gl),S=$r(U=>U.events),E=$r(U=>U.setEvents),M=$r(U=>U.set),_=$r(U=>U.get),C=$r(U=>U.performance),b=e||v,L=n||S.connected||A.domElement,D=J.useMemo(()=>new Fk(b),[b]);return pA(()=>{D.enabled&&D.update()},-1),J.useEffect(()=>(o&&D.connect(o===!0?L:o),D.connect(L),()=>{D.dispose()}),[o,L,t,D,g]),J.useEffect(()=>{const U=N=>{g(),t&&C.regress(),a&&a(N)},z=N=>{u&&u(N)},V=N=>{h&&h(N)};return D.addEventListener("change",U),D.addEventListener("start",z),D.addEventListener("end",V),()=>{D.removeEventListener("start",z),D.removeEventListener("end",V),D.removeEventListener("change",U)}},[a,u,h,D,g,E]),J.useEffect(()=>{if(i){const U=_().controls;return M({controls:D}),()=>M({controls:U})}},[i,D]),J.createElement("primitive",Zu({ref:m,object:D,enableDamping:r},d))});var Qv={exports:{}},qv,US;function Gk(){if(US)return qv;US=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qv=i,qv}var Zv,kS;function Wk(){if(kS)return Zv;kS=1;var i=Gk();function e(){}function t(){}return t.resetWarningCache=e,Zv=function(){function n(a,u,h,d,m,g){if(g!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Zv}var OS;function NT(){return OS||(OS=1,Qv.exports=Wk()()),Qv.exports}const jk=J.forwardRef(({children:i,enabled:e=!0,speed:t=1,rotationIntensity:n=1,floatIntensity:r=1,floatingRange:o=[-.1,.1],autoInvalidate:a=!1,...u},h)=>{const d=J.useRef(null);J.useImperativeHandle(h,()=>d.current,[]);const m=J.useRef(Math.random()*1e4);return pA(g=>{var v,A;if(!e||t===0)return;a&&g.invalidate();const S=m.current+g.clock.elapsedTime;d.current.rotation.x=Math.cos(S/4*t)/8*n,d.current.rotation.y=Math.sin(S/4*t)/8*n,d.current.rotation.z=Math.sin(S/4*t)/20*n;let E=Math.sin(S/4*t)/10;E=uE.mapLinear(E,-.1,.1,(v=o?.[0])!==null&&v!==void 0?v:-.1,(A=o?.[1])!==null&&A!==void 0?A:.1),d.current.position.y=E*r,d.current.updateMatrix()}),J.createElement("group",u,J.createElement("group",{ref:d,matrixAutoUpdate:!1},i))});function Xk({all:i,scene:e,camera:t}){const n=$r(({gl:a})=>a),r=$r(({camera:a})=>a),o=$r(({scene:a})=>a);return J.useLayoutEffect(()=>{const a=[];i&&(e||o).traverse(d=>{d.visible===!1&&(a.push(d),d.visible=!0)}),n.compile(e||o,t||r);const u=new zx(128);new Bx(.01,1e5,u).update(n,e||o),u.dispose(),a.forEach(d=>d.visible=!1)},[]),null}const Yk=()=>{const{progress:i}=Rk();return W.jsxs(Ek,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[W.jsx("span",{className:"canvas-loader"}),W.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[i.toFixed(2),"%"]})]})},Qk=i=>{const[e]=vA([i.imgUrl]);return W.jsxs(jk,{speed:2.5,rotationIntensity:1,floatIntensity:2,children:[W.jsx("ambientLight",{intensity:.25}),W.jsx("directionalLight",{position:[0,0,.05]}),W.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:3,children:[W.jsx("icosahedronGeometry",{args:[1,2]}),W.jsx("meshStandardMaterial",{transparent:!0,opacity:0,polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),W.jsx(Vk,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],flatShading:!0,map:e})]})]})},qk=({icon:i})=>W.jsxs(mk,{frameloop:"always",gl:{preserveDrawingBuffer:!0},children:[W.jsxs(J.Suspense,{fallback:W.jsx(Yk,{}),children:[W.jsx(Hk,{enableZoom:!1,position0:0}),W.jsx(Qk,{imgUrl:i})]}),W.jsx(Xk,{all:!0})]}),DT=J.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),l0=J.createContext({}),u0=J.createContext(null),c0=typeof document<"u",Lg=c0?J.useLayoutEffect:J.useEffect,UT=J.createContext({strict:!1});function Zk(i,e,t,n){const{visualElement:r}=J.useContext(l0),o=J.useContext(UT),a=J.useContext(u0),u=J.useContext(DT).reducedMotion,h=J.useRef();n=n||o.renderer,!h.current&&n&&(h.current=n(i,{visualState:e,parent:r,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const d=h.current;return J.useInsertionEffect(()=>{d&&d.update(t,a)}),Lg(()=>{d&&d.render()}),J.useEffect(()=>{d&&d.updateFeatures()}),(window.HandoffAppearAnimations?Lg:J.useEffect)(()=>{d&&d.animationState&&d.animationState.animateChanges()}),d}function Vf(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function Kk(i,e,t){return J.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Vf(t)&&(t.current=n))},[e])}function qd(i){return typeof i=="string"||Array.isArray(i)}function f0(i){return typeof i=="object"&&typeof i.start=="function"}const yA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xA=["initial",...yA];function h0(i){return f0(i.animate)||xA.some(e=>qd(i[e]))}function kT(i){return!!(h0(i)||i.variants)}function Jk(i,e){if(h0(i)){const{initial:t,animate:n}=i;return{initial:t===!1||qd(t)?t:void 0,animate:qd(n)?n:void 0}}return i.inherit!==!1?e:{}}function $k(i){const{initial:e,animate:t}=Jk(i,J.useContext(l0));return J.useMemo(()=>({initial:e,animate:t}),[FS(e),FS(t)])}function FS(i){return Array.isArray(i)?i.join(" "):i}const BS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zd={};for(const i in BS)Zd[i]={isEnabled:e=>BS[i].some(t=>!!e[t])};function eO(i){for(const e in i)Zd[e]={...Zd[e],...i[e]}}function AA(i){const e=J.useRef(null);return e.current===null&&(e.current=i()),e.current}const Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let tO=1;function nO(){return AA(()=>{if(Ed.hasEverUpdated)return tO++})}const _A=J.createContext({}),OT=J.createContext({}),iO=Symbol.for("motionComponentSymbol");function rO({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&eO(i);function o(u,h){let d;const m={...J.useContext(DT),...u,layoutId:sO(u)},{isStatic:g}=m,v=$k(u),A=g?void 0:nO(),S=n(u,g);if(!g&&c0){v.visualElement=Zk(r,S,m,e);const E=J.useContext(OT),M=J.useContext(UT).strict;v.visualElement&&(d=v.visualElement.loadFeatures(m,M,i,A,E))}return J.createElement(l0.Provider,{value:v},d&&v.visualElement?J.createElement(d,{visualElement:v.visualElement,...m}):null,t(r,u,A,Kk(S,v.visualElement,h),S,g,v.visualElement))}const a=J.forwardRef(o);return a[iO]=r,a}function sO({layoutId:i}){const e=J.useContext(_A).id;return e&&i!==void 0?e+"-"+i:i}function oO(i){function e(n,r={}){return rO(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SA(i){return typeof i!="string"||i.includes("-")?!1:!!(aO.indexOf(i)>-1||/[A-Z]/.test(i))}const Ig={};function lO(i){Object.assign(Ig,i)}const xp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nc=new Set(xp);function FT(i,{layout:e,layoutId:t}){return nc.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Ig[i]||i==="opacity")}const Or=i=>!!(i&&i.getVelocity),uO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cO=xp.length;function fO(i,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,r){let o="";for(let a=0;a<cO;a++){const u=xp[a];if(i[u]!==void 0){const h=uO[u]||u;o+=`${h}(${i[u]}) `}}return e&&!i.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(i,n?"":o):t&&n&&(o="none"),o}const BT=i=>e=>typeof e=="string"&&e.startsWith(i),zT=BT("--"),sx=BT("var(--"),hO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dO=(i,e)=>e&&typeof i=="number"?e.transform(i):i,Ku=(i,e,t)=>Math.min(Math.max(t,i),e),ic={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Td={...ic,transform:i=>Ku(0,1,i)},fg={...ic,default:1},bd=i=>Math.round(i*1e5)/1e5,d0=/(-)?([\d]*\.?[\d])+/g,VT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ap(i){return typeof i=="string"}const _p=i=>({test:e=>Ap(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),gl=_p("deg"),bo=_p("%"),Rt=_p("px"),mO=_p("vh"),gO=_p("vw"),zS={...bo,parse:i=>bo.parse(i)/100,transform:i=>bo.transform(i*100)},VS={...ic,transform:Math.round},HT={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,size:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,rotate:gl,rotateX:gl,rotateY:gl,rotateZ:gl,scale:fg,scaleX:fg,scaleY:fg,scaleZ:fg,skew:gl,skewX:gl,skewY:gl,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Td,originX:zS,originY:zS,originZ:Rt,zIndex:VS,fillOpacity:Td,strokeOpacity:Td,numOctaves:VS};function wA(i,e,t,n){const{style:r,vars:o,transform:a,transformOrigin:u}=i;let h=!1,d=!1,m=!0;for(const g in e){const v=e[g];if(zT(g)){o[g]=v;continue}const A=HT[g],S=dO(v,A);if(nc.has(g)){if(h=!0,a[g]=S,!m)continue;v!==(A.default||0)&&(m=!1)}else g.startsWith("origin")?(d=!0,u[g]=S):r[g]=S}if(e.transform||(h||n?r.transform=fO(i.transform,t,m,n):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:v="50%",originZ:A=0}=u;r.transformOrigin=`${g} ${v} ${A}`}}const MA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GT(i,e,t){for(const n in e)!Or(e[n])&&!FT(n,t)&&(i[n]=e[n])}function vO({transformTemplate:i},e,t){return J.useMemo(()=>{const n=MA();return wA(n,e,{enableHardwareAcceleration:!t},i),Object.assign({},n.vars,n.style)},[e])}function yO(i,e,t){const n=i.style||{},r={};return GT(r,n,i),Object.assign(r,vO(i,e,t)),i.transformValues?i.transformValues(r):r}function xO(i,e,t){const n={},r=yO(i,e,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const AO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Ng(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||AO.has(i)}let WT=i=>!Ng(i);function _O(i){i&&(WT=e=>e.startsWith("on")?!Ng(e):i(e))}try{_O(require("@emotion/is-prop-valid").default)}catch{}function SO(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(WT(r)||t===!0&&Ng(r)||!e&&!Ng(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function HS(i,e,t){return typeof i=="string"?i:Rt.transform(e+t*i)}function wO(i,e,t){const n=HS(e,i.x,i.width),r=HS(t,i.y,i.height);return`${n} ${r}`}const MO={offset:"stroke-dashoffset",array:"stroke-dasharray"},EO={offset:"strokeDashoffset",array:"strokeDasharray"};function TO(i,e,t=1,n=0,r=!0){i.pathLength=1;const o=r?MO:EO;i[o.offset]=Rt.transform(-n);const a=Rt.transform(e),u=Rt.transform(t);i[o.array]=`${a} ${u}`}function EA(i,{attrX:e,attrY:t,attrScale:n,originX:r,originY:o,pathLength:a,pathSpacing:u=1,pathOffset:h=0,...d},m,g,v){if(wA(i,d,m,v),g){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:A,style:S,dimensions:E}=i;A.transform&&(E&&(S.transform=A.transform),delete A.transform),E&&(r!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=wO(E,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(A.x=e),t!==void 0&&(A.y=t),n!==void 0&&(A.scale=n),a!==void 0&&TO(A,a,u,h,!1)}const jT=()=>({...MA(),attrs:{}}),TA=i=>typeof i=="string"&&i.toLowerCase()==="svg";function bO(i,e,t,n){const r=J.useMemo(()=>{const o=jT();return EA(o,e,{enableHardwareAcceleration:!1},TA(n),i.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(i.style){const o={};GT(o,i.style,i),r.style={...o,...r.style}}return r}function CO(i=!1){return(t,n,r,o,{latestValues:a},u)=>{const d=(SA(t)?bO:xO)(n,a,u,t),g={...SO(n,typeof t=="string",i),...d,ref:o},{children:v}=n,A=J.useMemo(()=>Or(v)?v.get():v,[v]);return r&&(g["data-projection-id"]=r),J.createElement(t,{...g,children:A})}}const bA=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function XT(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const o in t)i.style.setProperty(o,t[o])}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QT(i,e,t,n){XT(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(YT.has(r)?r:bA(r),e.attrs[r])}function CA(i,e){const{style:t}=i,n={};for(const r in t)(Or(t[r])||e.style&&Or(e.style[r])||FT(r,i))&&(n[r]=t[r]);return n}function qT(i,e){const t=CA(i,e);for(const n in i)if(Or(i[n])||Or(e[n])){const r=xp.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[r]=i[n]}return t}function PA(i,e,t,n={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),e}const Dg=i=>Array.isArray(i),PO=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),RO=i=>Dg(i)?i[i.length-1]||0:i;function wg(i){const e=Or(i)?i.get():i;return PO(e)?e.toValue():e}function LO({scrapeMotionValuesFromProps:i,createRenderState:e,onMount:t},n,r,o){const a={latestValues:IO(n,r,o,i),renderState:e()};return t&&(a.mount=u=>t(n,u,a)),a}const ZT=i=>(e,t)=>{const n=J.useContext(l0),r=J.useContext(u0),o=()=>LO(i,e,n,r);return t?o():AA(o)};function IO(i,e,t,n){const r={},o=n(i,{});for(const v in o)r[v]=wg(o[v]);let{initial:a,animate:u}=i;const h=h0(i),d=kT(i);e&&d&&!h&&i.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?u:a;return g&&typeof g!="boolean"&&!f0(g)&&(Array.isArray(g)?g:[g]).forEach(A=>{const S=PA(i,A);if(!S)return;const{transitionEnd:E,transition:M,..._}=S;for(const C in _){let b=_[C];if(Array.isArray(b)){const L=m?b.length-1:0;b=b[L]}b!==null&&(r[C]=b)}for(const C in E)r[C]=E[C]}),r}const NO={useVisualState:ZT({scrapeMotionValuesFromProps:qT,createRenderState:jT,onMount:(i,e,{renderState:t,latestValues:n})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}EA(t,n,{enableHardwareAcceleration:!1},TA(e.tagName),i.transformTemplate),QT(e,t)}})},DO={useVisualState:ZT({scrapeMotionValuesFromProps:CA,createRenderState:MA})};function UO(i,{forwardMotionProps:e=!1},t,n){return{...SA(i)?NO:DO,preloadedFeatures:t,useRender:CO(e),createVisualElement:n,Component:i}}function ga(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const KT=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function p0(i,e="page"){return{point:{x:i[e+"X"],y:i[e+"Y"]}}}const kO=i=>e=>KT(e)&&i(e,p0(e));function ya(i,e,t,n){return ga(i,e,kO(t),n)}const OO=(i,e)=>t=>e(i(t)),wl=(...i)=>i.reduce(OO);function JT(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const GS=JT("dragHorizontal"),WS=JT("dragVertical");function $T(i){let e=!1;if(i==="y")e=WS();else if(i==="x")e=GS();else{const t=GS(),n=WS();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function eb(){const i=$T(!0);return i?(i(),!1):!0}class Dl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function FO(i){let e=[],t=[],n=0,r=!1,o=!1;const a=new WeakSet,u={schedule:(h,d=!1,m=!1)=>{const g=m&&r,v=g?e:t;return d&&a.add(h),v.indexOf(h)===-1&&(v.push(h),g&&r&&(n=e.length)),h},cancel:h=>{const d=t.indexOf(h);d!==-1&&t.splice(d,1),a.delete(h)},process:h=>{if(r){o=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,n=e.length,n)for(let d=0;d<n;d++){const m=e[d];m(h),a.has(m)&&(u.schedule(m),i())}r=!1,o&&(o=!1,u.process(h))}};return u}const Pi={delta:0,timestamp:0,isProcessing:!1},BO=40;let ox=!0,Kd=!1;const m0=["read","update","preRender","render","postRender"],Xf=m0.reduce((i,e)=>(i[e]=FO(()=>Kd=!0),i),{}),zO=i=>Xf[i].process(Pi),tb=i=>{Kd=!1,Pi.delta=ox?1e3/60:Math.max(Math.min(i-Pi.timestamp,BO),1),Pi.timestamp=i,Pi.isProcessing=!0,m0.forEach(zO),Pi.isProcessing=!1,Kd&&(ox=!1,requestAnimationFrame(tb))},VO=()=>{Kd=!0,ox=!0,Pi.isProcessing||requestAnimationFrame(tb)},kn=m0.reduce((i,e)=>{const t=Xf[e];return i[e]=(n,r=!1,o=!1)=>(Kd||VO(),t.schedule(n,r,o)),i},{});function wa(i){m0.forEach(e=>Xf[e].cancel(i))}function jS(i,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),r=(o,a)=>{if(o.type==="touch"||eb())return;const u=i.getProps();i.animationState&&u.whileHover&&i.animationState.setActive("whileHover",e),u[n]&&kn.update(()=>u[n](o,a))};return ya(i.current,t,r,{passive:!i.getProps()[n]})}class HO extends Dl{mount(){this.unmount=wl(jS(this.node,!0),jS(this.node,!1))}unmount(){}}class GO extends Dl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(ga(this.node.current,"focus",()=>this.onFocus()),ga(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nb=(i,e)=>e?i===e?!0:nb(i,e.parentElement):!1,Ri=i=>i;function Kv(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,p0(t))}class WO extends Dl{constructor(){super(...arguments),this.removeStartListeners=Ri,this.removeEndListeners=Ri,this.removeAccessibleListeners=Ri,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),o=ya(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m}=this.node.getProps();kn.update(()=>{nb(this.node.current,u.target)?d&&d(u,h):m&&m(u,h)})},{passive:!(n.onTap||n.onPointerUp)}),a=ya(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=wl(o,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=u=>{u.key!=="Enter"||!this.checkPressEnd()||Kv("up",(h,d)=>{const{onTap:m}=this.node.getProps();m&&kn.update(()=>m(h,d))})};this.removeEndListeners(),this.removeEndListeners=ga(this.node.current,"keyup",a),Kv("down",(u,h)=>{this.startPress(u,h)})},t=ga(this.node.current,"keydown",e),n=()=>{this.isPressing&&Kv("cancel",(o,a)=>this.cancelPress(o,a))},r=ga(this.node.current,"blur",n);this.removeAccessibleListeners=wl(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&kn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eb()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&kn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=ya(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ga(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wl(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ax=new WeakMap,Jv=new WeakMap,jO=i=>{const e=ax.get(i.target);e&&e(i)},XO=i=>{i.forEach(jO)};function YO({root:i,...e}){const t=i||document;Jv.has(t)||Jv.set(t,{});const n=Jv.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(XO,{root:i,...e})),n[r]}function QO(i,e,t){const n=YO(e);return ax.set(i,t),n.observe(i),()=>{ax.delete(i),n.unobserve(i)}}const qO={some:0,all:1};class ZO extends Dl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:qO[r]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(h)};return QO(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(KO(e,t))&&this.startObserver()}unmount(){}}function KO({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const JO={inView:{Feature:ZO},tap:{Feature:WO},focus:{Feature:GO},hover:{Feature:HO}};function ib(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}function $O(i){const e={};return i.values.forEach((t,n)=>e[n]=t.get()),e}function eF(i){const e={};return i.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function g0(i,e,t){const n=i.getProps();return PA(n,e,t!==void 0?t:n.custom,$O(i),eF(i))}const tF="framerAppearId",nF="data-"+bA(tF);let RA=Ri;const ju=i=>i*1e3,xa=i=>i/1e3,iF={current:!1},rb=i=>Array.isArray(i)&&typeof i[0]=="number";function sb(i){return!!(!i||typeof i=="string"&&ob[i]||rb(i)||Array.isArray(i)&&i.every(sb))}const yd=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function ab(i){if(i)return rb(i)?yd(i):Array.isArray(i)?i.map(ab):ob[i]}function rF(i,e,t,{delay:n=0,duration:r,repeat:o=0,repeatType:a="loop",ease:u,times:h}={}){const d={[e]:t};h&&(d.offset=h);const m=ab(u);return Array.isArray(m)&&(d.easing=m),i.animate(d,{delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const XS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},$v={},lb={};for(const i in XS)lb[i]=()=>($v[i]===void 0&&($v[i]=XS[i]()),$v[i]);function sF(i,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[n]}const ub=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,oF=1e-7,aF=12;function lF(i,e,t,n,r){let o,a,u=0;do a=e+(t-e)/2,o=ub(a,n,r)-i,o>0?t=a:e=a;while(Math.abs(o)>oF&&++u<aF);return a}function Sp(i,e,t,n){if(i===e&&t===n)return Ri;const r=o=>lF(o,0,1,i,t);return o=>o===0||o===1?o:ub(r(o),e,n)}const uF=Sp(.42,0,1,1),cF=Sp(0,0,.58,1),cb=Sp(.42,0,.58,1),fF=i=>Array.isArray(i)&&typeof i[0]!="number",fb=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,hb=i=>e=>1-i(1-e),db=i=>1-Math.sin(Math.acos(i)),LA=hb(db),hF=fb(LA),pb=Sp(.33,1.53,.69,.99),IA=hb(pb),dF=fb(IA),pF=i=>(i*=2)<1?.5*IA(i):.5*(2-Math.pow(2,-10*(i-1))),mF={linear:Ri,easeIn:uF,easeInOut:cb,easeOut:cF,circIn:db,circInOut:hF,circOut:LA,backIn:IA,backInOut:dF,backOut:pb,anticipate:pF},YS=i=>{if(Array.isArray(i)){RA(i.length===4);const[e,t,n,r]=i;return Sp(e,t,n,r)}else if(typeof i=="string")return mF[i];return i},NA=(i,e)=>t=>!!(Ap(t)&&pO.test(t)&&t.startsWith(i)||e&&Object.prototype.hasOwnProperty.call(t,e)),mb=(i,e,t)=>n=>{if(!Ap(n))return n;const[r,o,a,u]=n.match(d0);return{[i]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},gF=i=>Ku(0,255,i),ey={...ic,transform:i=>Math.round(gF(i))},Bu={test:NA("rgb","red"),parse:mb("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+ey.transform(i)+", "+ey.transform(e)+", "+ey.transform(t)+", "+bd(Td.transform(n))+")"};function vF(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const lx={test:NA("#"),parse:vF,transform:Bu.transform},Hf={test:NA("hsl","hue"),parse:mb("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+bo.transform(bd(e))+", "+bo.transform(bd(t))+", "+bd(Td.transform(n))+")"},pr={test:i=>Bu.test(i)||lx.test(i)||Hf.test(i),parse:i=>Bu.test(i)?Bu.parse(i):Hf.test(i)?Hf.parse(i):lx.parse(i),transform:i=>Ap(i)?i:i.hasOwnProperty("red")?Bu.transform(i):Hf.transform(i)},Wn=(i,e,t)=>-t*i+t*e+i;function ty(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function yF({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,o=0,a=0;if(!e)r=o=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;r=ty(h,u,i+1/3),o=ty(h,u,i),a=ty(h,u,i-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}const ny=(i,e,t)=>{const n=i*i;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},xF=[lx,Bu,Hf],AF=i=>xF.find(e=>e.test(i));function QS(i){const e=AF(i);let t=e.parse(i);return e===Hf&&(t=yF(t)),t}const gb=(i,e)=>{const t=QS(i),n=QS(e),r={...t};return o=>(r.red=ny(t.red,n.red,o),r.green=ny(t.green,n.green,o),r.blue=ny(t.blue,n.blue,o),r.alpha=Wn(t.alpha,n.alpha,o),Bu.transform(r))};function _F(i){var e,t;return isNaN(i)&&Ap(i)&&(((e=i.match(d0))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(VT))===null||t===void 0?void 0:t.length)||0)>0}const vb={regex:hO,countKey:"Vars",token:"${v}",parse:Ri},yb={regex:VT,countKey:"Colors",token:"${c}",parse:pr.parse},xb={regex:d0,countKey:"Numbers",token:"${n}",parse:ic.parse};function iy(i,{regex:e,countKey:t,token:n,parse:r}){const o=i.tokenised.match(e);o&&(i["num"+t]=o.length,i.tokenised=i.tokenised.replace(e,n),i.values.push(...o.map(r)))}function Ug(i){const e=i.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&iy(t,vb),iy(t,yb),iy(t,xb),t}function Ab(i){return Ug(i).values}function _b(i){const{values:e,numColors:t,numVars:n,tokenised:r}=Ug(i),o=e.length;return a=>{let u=r;for(let h=0;h<o;h++)h<n?u=u.replace(vb.token,a[h]):h<n+t?u=u.replace(yb.token,pr.transform(a[h])):u=u.replace(xb.token,bd(a[h]));return u}}const SF=i=>typeof i=="number"?0:i;function wF(i){const e=Ab(i);return _b(i)(e.map(SF))}const Cl={test:_F,parse:Ab,createTransformer:_b,getAnimatableNone:wF},Sb=(i,e)=>t=>`${t>0?e:i}`;function wb(i,e){return typeof i=="number"?t=>Wn(i,e,t):pr.test(i)?gb(i,e):i.startsWith("var(")?Sb(i,e):Eb(i,e)}const Mb=(i,e)=>{const t=[...i],n=t.length,r=i.map((o,a)=>wb(o,e[a]));return o=>{for(let a=0;a<n;a++)t[a]=r[a](o);return t}},MF=(i,e)=>{const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=wb(i[r],e[r]));return r=>{for(const o in n)t[o]=n[o](r);return t}},Eb=(i,e)=>{const t=Cl.createTransformer(e),n=Ug(i),r=Ug(e);return n.numVars===r.numVars&&n.numColors===r.numColors&&n.numNumbers>=r.numNumbers?wl(Mb(n.values,r.values),t):Sb(i,e)},Jd=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},qS=(i,e)=>t=>Wn(i,e,t);function EF(i){return typeof i=="number"?qS:typeof i=="string"?pr.test(i)?gb:Eb:Array.isArray(i)?Mb:typeof i=="object"?MF:qS}function TF(i,e,t){const n=[],r=t||EF(i[0]),o=i.length-1;for(let a=0;a<o;a++){let u=r(i[a],i[a+1]);if(e){const h=Array.isArray(e)?e[a]||Ri:e;u=wl(h,u)}n.push(u)}return n}function Tb(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const o=i.length;if(RA(o===e.length),o===1)return()=>e[0];i[0]>i[o-1]&&(i=[...i].reverse(),e=[...e].reverse());const a=TF(e,n,r),u=a.length,h=d=>{let m=0;if(u>1)for(;m<i.length-2&&!(d<i[m+1]);m++);const g=Jd(i[m],i[m+1],d);return a[m](g)};return t?d=>h(Ku(i[0],i[o-1],d)):h}function bF(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=Jd(0,e,n);i.push(Wn(t,1,r))}}function CF(i){const e=[0];return bF(e,i.length-1),e}function PF(i,e){return i.map(t=>t*e)}function RF(i,e){return i.map(()=>e||cb).splice(0,i.length-1)}function kg({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=fF(n)?n.map(YS):YS(n),o={done:!1,value:e[0]},a=PF(t&&t.length===e.length?t:CF(e),i),u=Tb(a,e,{ease:Array.isArray(r)?r:RF(e,r)});return{calculatedDuration:i,next:h=>(o.value=u(h),o.done=h>=i,o)}}function bb(i,e){return e?i*(1e3/e):0}const LF=5;function Cb(i,e,t){const n=Math.max(e-LF,0);return bb(t-i(n),e-n)}const ry=.001,IF=.01,NF=10,DF=.05,UF=1;function kF({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,o,a=1-e;a=Ku(DF,UF,a),i=Ku(IF,NF,xa(i)),a<1?(r=d=>{const m=d*a,g=m*i,v=m-t,A=ux(d,a),S=Math.exp(-g);return ry-v/A*S},o=d=>{const g=d*a*i,v=g*t+t,A=Math.pow(a,2)*Math.pow(d,2)*i,S=Math.exp(-g),E=ux(Math.pow(d,2),a);return(-r(d)+ry>0?-1:1)*((v-A)*S)/E}):(r=d=>{const m=Math.exp(-d*i),g=(d-t)*i+1;return-ry+m*g},o=d=>{const m=Math.exp(-d*i),g=(t-d)*(i*i);return m*g});const u=5/i,h=FF(r,o,u);if(i=ju(i),isNaN(h))return{stiffness:100,damping:10,duration:i};{const d=Math.pow(h,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:i}}}const OF=12;function FF(i,e,t){let n=t;for(let r=1;r<OF;r++)n=n-i(n)/e(n);return n}function ux(i,e){return i*Math.sqrt(1-e*e)}const BF=["duration","bounce"],zF=["stiffness","damping","mass"];function ZS(i,e){return e.some(t=>i[t]!==void 0)}function VF(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!ZS(i,zF)&&ZS(i,BF)){const t=kF(i);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Pb({keyframes:i,restDelta:e,restSpeed:t,...n}){const r=i[0],o=i[i.length-1],a={done:!1,value:r},{stiffness:u,damping:h,mass:d,velocity:m,duration:g,isResolvedFromDuration:v}=VF(n),A=m?-xa(m):0,S=h/(2*Math.sqrt(u*d)),E=o-r,M=xa(Math.sqrt(u/d)),_=Math.abs(E)<5;t||(t=_?.01:2),e||(e=_?.005:.5);let C;if(S<1){const b=ux(M,S);C=L=>{const D=Math.exp(-S*M*L);return o-D*((A+S*M*E)/b*Math.sin(b*L)+E*Math.cos(b*L))}}else if(S===1)C=b=>o-Math.exp(-M*b)*(E+(A+M*E)*b);else{const b=M*Math.sqrt(S*S-1);C=L=>{const D=Math.exp(-S*M*L),U=Math.min(b*L,300);return o-D*((A+S*M*E)*Math.sinh(U)+b*E*Math.cosh(U))/b}}return{calculatedDuration:v&&g||null,next:b=>{const L=C(b);if(v)a.done=b>=g;else{let D=A;b!==0&&(S<1?D=Cb(C,b,L):D=0);const U=Math.abs(D)<=t,z=Math.abs(o-L)<=e;a.done=U&&z}return a.value=a.done?o:L,a}}}function KS({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:h,restDelta:d=.5,restSpeed:m}){const g=i[0],v={done:!1,value:g},A=V=>u!==void 0&&V<u||h!==void 0&&V>h,S=V=>u===void 0?h:h===void 0||Math.abs(u-V)<Math.abs(h-V)?u:h;let E=t*e;const M=g+E,_=a===void 0?M:a(M);_!==M&&(E=_-g);const C=V=>-E*Math.exp(-V/n),b=V=>_+C(V),L=V=>{const N=C(V),F=b(V);v.done=Math.abs(N)<=d,v.value=v.done?_:F};let D,U;const z=V=>{A(v.value)&&(D=V,U=Pb({keyframes:[v.value,S(v.value)],velocity:Cb(b,V,v.value),damping:r,stiffness:o,restDelta:d,restSpeed:m}))};return z(0),{calculatedDuration:null,next:V=>{let N=!1;return!U&&D===void 0&&(N=!0,L(V),z(V)),D!==void 0&&V>D?U.next(V-D):(!N&&L(V),v)}}}const HF=i=>{const e=({timestamp:t})=>i(t);return{start:()=>kn.update(e,!0),stop:()=>wa(e),now:()=>Pi.isProcessing?Pi.timestamp:performance.now()}},JS=2e4;function $S(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<JS;)e+=t,n=i.next(e);return e>=JS?1/0:e}const GF={decay:KS,inertia:KS,tween:kg,keyframes:kg,spring:Pb};function Og({autoplay:i=!0,delay:e=0,driver:t=HF,keyframes:n,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:m,onUpdate:g,...v}){let A=1,S=!1,E,M;const _=()=>{E&&E(),M=new Promise(Q=>{E=Q})};_();let C;const b=GF[r]||kg;let L;b!==kg&&typeof n[0]!="number"&&(L=Tb([0,100],n,{clamp:!1}),n=[0,100]);const D=b({...v,keyframes:n});let U;u==="mirror"&&(U=b({...v,keyframes:[...n].reverse(),velocity:-(v.velocity||0)}));let z="idle",V=null,N=null,F=null;D.calculatedDuration===null&&o&&(D.calculatedDuration=$S(D));const{calculatedDuration:K}=D;let oe=1/0,te=1/0;K!==null&&(oe=K+a,te=oe*(o+1)-a);let se=0;const le=Q=>{if(N===null)return;A>0&&(N=Math.min(N,Q)),V!==null?se=V:se=(Q-N)*A;const ne=se-e,ae=ne<0;se=Math.max(ne,0),z==="finished"&&V===null&&(se=te);let ce=se,Ce=D;if(o){const $e=se/oe;let Ue=Math.floor($e),Oe=$e%1;!Oe&&$e>=1&&(Oe=1),Oe===1&&Ue--,Ue=Math.min(Ue,o+1);const Re=!!(Ue%2);Re&&(u==="reverse"?(Oe=1-Oe,a&&(Oe-=a/oe)):u==="mirror"&&(Ce=U));let Ae=Ku(0,1,Oe);se>te&&(Ae=u==="reverse"&&Re?1:0),ce=Ae*oe}const Ee=ae?{done:!1,value:n[0]}:Ce.next(ce);L&&(Ee.value=L(Ee.value));let{done:$}=Ee;!ae&&K!==null&&($=se>=te);const Ge=V===null&&(z==="finished"||z==="running"&&$||A<0&&se<=0);return g&&g(Ee.value),Ge&&B(),Ee},ge=()=>{C&&C.stop(),C=void 0},de=()=>{z="idle",ge(),_(),N=F=null},B=()=>{z="finished",m&&m(),ge(),_()},Z=()=>{if(S)return;C||(C=t(le));const Q=C.now();h&&h(),V!==null?N=Q-V:(!N||z==="finished")&&(N=Q),F=N,V=null,z="running",C.start()};i&&Z();const k={then(Q,ne){return M.then(Q,ne)},get time(){return xa(se)},set time(Q){Q=ju(Q),se=Q,V!==null||!C||A===0?V=Q:N=C.now()-Q/A},get duration(){const Q=D.calculatedDuration===null?$S(D):D.calculatedDuration;return xa(Q)},get speed(){return A},set speed(Q){Q===A||!C||(A=Q,k.time=xa(se))},get state(){return z},play:Z,pause:()=>{z="paused",V=se},stop:()=>{S=!0,z!=="idle"&&(z="idle",d&&d(),de())},cancel:()=>{F!==null&&le(F),de()},complete:()=>{z="finished"},sample:Q=>(N=0,le(Q))};return k}const WF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hg=10,jF=2e4,XF=(i,e)=>e.type==="spring"||i==="backgroundColor"||!sb(e.ease);function YF(i,e,{onUpdate:t,onComplete:n,...r}){if(!(lb.waapi()&&WF.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,u,h;const d=()=>{h=new Promise(_=>{u=_})};d();let{keyframes:m,duration:g=300,ease:v,times:A}=r;if(XF(e,r)){const _=Og({...r,repeat:0,delay:0});let C={done:!1,value:m[0]};const b=[];let L=0;for(;!C.done&&L<jF;)C=_.sample(L),b.push(C.value),L+=hg;A=void 0,m=b,g=L-hg,v="linear"}const S=rF(i.owner.current,e,m,{...r,duration:g,ease:v,times:A}),E=()=>S.cancel(),M=()=>{kn.update(E),u(),d()};return S.onfinish=()=>{i.set(sF(m,r)),n&&n(),M()},{then(_,C){return h.then(_,C)},get time(){return xa(S.currentTime||0)},set time(_){S.currentTime=ju(_)},get speed(){return S.playbackRate},set speed(_){S.playbackRate=_},get duration(){return xa(g)},play:()=>{a||(S.play(),wa(E))},pause:()=>S.pause(),stop:()=>{if(a=!0,S.playState==="idle")return;const{currentTime:_}=S;if(_){const C=Og({...r,autoplay:!1});i.setWithVelocity(C.sample(_-hg).value,C.sample(_).value,hg)}M()},complete:()=>S.finish(),cancel:M}}function QF({keyframes:i,delay:e,onUpdate:t,onComplete:n}){const r=()=>(t&&t(i[i.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ri,pause:Ri,stop:Ri,then:o=>(o(),Promise.resolve()),cancel:Ri,complete:Ri});return e?Og({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const qF={type:"spring",stiffness:500,damping:25,restSpeed:10},ZF=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),KF={type:"keyframes",duration:.8},JF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$F=(i,{keyframes:e})=>e.length>2?KF:nc.has(i)?i.startsWith("scale")?ZF(e[1]):qF:JF,cx=(i,e)=>i==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Cl.test(e)&&!e.startsWith("url(")),eB=new Set(["brightness","contrast","saturate","opacity"]);function tB(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(d0)||[];if(!n)return i;const r=t.replace(n,"");let o=eB.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+r+")"}const nB=/([a-z-]*)\(.*?\)/g,fx={...Cl,getAnimatableNone:i=>{const e=i.match(nB);return e?e.map(tB).join(" "):i}},iB={...HT,color:pr,backgroundColor:pr,outlineColor:pr,fill:pr,stroke:pr,borderColor:pr,borderTopColor:pr,borderRightColor:pr,borderBottomColor:pr,borderLeftColor:pr,filter:fx,WebkitFilter:fx},DA=i=>iB[i];function UA(i,e){let t=DA(i);return t!==fx&&(t=Cl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}function rB({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}function ew(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function tw(i){return typeof i=="number"?0:UA("",i)}function Rb(i,e){return i[e]||i.default||i}function sB(i,[...e]){for(let t=0;t<e.length;t++)e[t]===null&&(e[t]=t===0?i:e[t-1]);return e}function oB(i,e,t,n){const r=cx(e,t);let o=n.from!==void 0?n.from:i.get();return o==="none"&&r&&typeof t=="string"?o=UA(e,t):ew(o)&&typeof t=="string"?o=tw(t):!Array.isArray(t)&&ew(t)&&typeof o=="string"&&(t=tw(o)),Array.isArray(t)?sB(o,t):[o,t]}const kA=(i,e,t,n={})=>r=>{const o=Rb(n,i)||{},a=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ju(a);const h=oB(e,i,t,o),d=h[0],m=h[h.length-1],g=cx(i,d),v=cx(i,m);let A={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-u,onUpdate:S=>{e.set(S),o.onUpdate&&o.onUpdate(S)},onComplete:()=>{r(),o.onComplete&&o.onComplete()}};if(rB(o)||(A={...A,...$F(i,A)}),A.duration&&(A.duration=ju(A.duration)),A.repeatDelay&&(A.repeatDelay=ju(A.repeatDelay)),!g||!v||iF.current||o.type===!1)return QF(A);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=YF(e,i,A);if(S)return S}return Og(A)};function Fg(i){return!!(Or(i)&&i.add)}const aB=i=>/^\-?\d*\.?\d+$/.test(i),lB=i=>/^0[^.\s]+$/.test(i);function OA(i,e){i.indexOf(e)===-1&&i.push(e)}function FA(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}class BA{constructor(){this.subscriptions=[]}add(e){return OA(this.subscriptions,e),()=>FA(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uB=i=>!isNaN(parseFloat(i));class cB{constructor(e,t={}){this.version="10.12.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:a}=Pi;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,kn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>kn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=uB(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new BA);const n=this.events[e].add(t);return e==="change"?()=>{n(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jf(i,e){return new cB(i,e)}const Lb=i=>e=>e.test(i),fB={test:i=>i==="auto",parse:i=>i},Ib=[ic,Rt,bo,gl,gO,mO,fB],fd=i=>Ib.find(Lb(i)),hB=[...Ib,pr,Cl],dB=i=>hB.find(Lb(i));function pB(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,Jf(t))}function mB(i,e){const t=g0(i,e);let{transitionEnd:n={},transition:r={},...o}=t?i.makeTargetAnimatable(t,!1):{};o={...o,...n};for(const a in o){const u=RO(o[a]);pB(i,a,u)}}function gB(i,e,t){var n,r;const o=Object.keys(e).filter(u=>!i.hasValue(u)),a=o.length;if(a)for(let u=0;u<a;u++){const h=o[u],d=e[h];let m=null;Array.isArray(d)&&(m=d[0]),m===null&&(m=(r=(n=t[h])!==null&&n!==void 0?n:i.readValue(h))!==null&&r!==void 0?r:e[h]),m!=null&&(typeof m=="string"&&(aB(m)||lB(m))?m=parseFloat(m):!dB(m)&&Cl.test(d)&&(m=UA(h,d)),i.addValue(h,Jf(m,{owner:i})),t[h]===void 0&&(t[h]=m),m!==null&&i.setBaseTarget(h,m))}}function vB(i,e){return e?(e[i]||e.default||e).from:void 0}function yB(i,e,t){const n={};for(const r in i){const o=vB(r,e);if(o!==void 0)n[r]=o;else{const a=t.getValue(r);a&&(n[r]=a.get())}}return n}function xB({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function Nb(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:o=i.getDefaultTransition(),transitionEnd:a,...u}=i.makeTargetAnimatable(e);const h=i.getValue("willChange");n&&(o=n);const d=[],m=r&&i.animationState&&i.animationState.getState()[r];for(const g in u){const v=i.getValue(g),A=u[g];if(!v||A===void 0||m&&xB(m,g))continue;const S={delay:t,elapsed:0,...o};if(window.HandoffAppearAnimations&&!v.hasAnimated){const M=i.getProps()[nF];M&&(S.elapsed=window.HandoffAppearAnimations(M,g,v,kn))}v.start(kA(g,v,A,i.shouldReduceMotion&&nc.has(g)?{type:!1}:S));const E=v.animation;Fg(h)&&(h.add(g),E.then(()=>h.remove(g))),d.push(E)}return a&&Promise.all(d).then(()=>{a&&mB(i,a)}),d}function hx(i,e,t={}){const n=g0(i,e,t.custom);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const o=n?()=>Promise.all(Nb(i,n,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=r;return AB(i,e,d+h,m,g,t)}:()=>Promise.resolve(),{when:u}=r;if(u){const[h,d]=u==="beforeChildren"?[o,a]:[a,o];return h().then(()=>d())}else return Promise.all([o(),a(t.delay)])}function AB(i,e,t=0,n=0,r=1,o){const a=[],u=(i.variantChildren.size-1)*n,h=r===1?(d=0)=>d*n:(d=0)=>u-d*n;return Array.from(i.variantChildren).sort(_B).forEach((d,m)=>{d.notify("AnimationStart",e),a.push(hx(d,e,{...o,delay:t+h(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function _B(i,e){return i.sortNodePosition(e)}function SB(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(o=>hx(i,o,t));n=Promise.all(r)}else if(typeof e=="string")n=hx(i,e,t);else{const r=typeof e=="function"?g0(i,e,t.custom):e;n=Promise.all(Nb(i,r,t))}return n.then(()=>i.notify("AnimationComplete",e))}const wB=[...yA].reverse(),MB=yA.length;function EB(i){return e=>Promise.all(e.map(({animation:t,options:n})=>SB(i,t,n)))}function TB(i){let e=EB(i);const t=CB();let n=!0;const r=(h,d)=>{const m=g0(i,d);if(m){const{transition:g,transitionEnd:v,...A}=m;h={...h,...A,...v}}return h};function o(h){e=h(i)}function a(h,d){const m=i.getProps(),g=i.getVariantContext(!0)||{},v=[],A=new Set;let S={},E=1/0;for(let _=0;_<MB;_++){const C=wB[_],b=t[C],L=m[C]!==void 0?m[C]:g[C],D=qd(L),U=C===d?b.isActive:null;U===!1&&(E=_);let z=L===g[C]&&L!==m[C]&&D;if(z&&n&&i.manuallyAnimateOnMount&&(z=!1),b.protectedKeys={...S},!b.isActive&&U===null||!L&&!b.prevProp||f0(L)||typeof L=="boolean")continue;const V=bB(b.prevProp,L);let N=V||C===d&&b.isActive&&!z&&D||_>E&&D;const F=Array.isArray(L)?L:[L];let K=F.reduce(r,{});U===!1&&(K={});const{prevResolvedValues:oe={}}=b,te={...oe,...K},se=le=>{N=!0,A.delete(le),b.needsAnimating[le]=!0};for(const le in te){const ge=K[le],de=oe[le];S.hasOwnProperty(le)||(ge!==de?Dg(ge)&&Dg(de)?!ib(ge,de)||V?se(le):b.protectedKeys[le]=!0:ge!==void 0?se(le):A.add(le):ge!==void 0&&A.has(le)?se(le):b.protectedKeys[le]=!0)}b.prevProp=L,b.prevResolvedValues=K,b.isActive&&(S={...S,...K}),n&&i.blockInitialAnimation&&(N=!1),N&&!z&&v.push(...F.map(le=>({animation:le,options:{type:C,...h}})))}if(A.size){const _={};A.forEach(C=>{const b=i.getBaseTarget(C);b!==void 0&&(_[C]=b)}),v.push({animation:_})}let M=!!v.length;return n&&m.initial===!1&&!i.manuallyAnimateOnMount&&(M=!1),n=!1,M?e(v):Promise.resolve()}function u(h,d,m){var g;if(t[h].isActive===d)return Promise.resolve();(g=i.variantChildren)===null||g===void 0||g.forEach(A=>{var S;return(S=A.animationState)===null||S===void 0?void 0:S.setActive(h,d)}),t[h].isActive=d;const v=a(m,h);for(const A in t)t[A].protectedKeys={};return v}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>t}}function bB(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!ib(e,i):!1}function Tu(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CB(){return{animate:Tu(!0),whileInView:Tu(),whileHover:Tu(),whileTap:Tu(),whileDrag:Tu(),whileFocus:Tu(),exit:Tu()}}class PB extends Dl{constructor(e){super(e),e.animationState||(e.animationState=TB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),f0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let RB=0;class LB extends Dl{constructor(){super(...arguments),this.id=RB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IB={animation:{Feature:PB},exit:{Feature:LB}},nw=(i,e)=>Math.abs(i-e);function NB(i,e){const t=nw(i.x,e.x),n=nw(i.y,e.y);return Math.sqrt(t**2+n**2)}class Db{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=oy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=NB(d.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:v}=d,{timestamp:A}=Pi;this.history.push({...v,timestamp:A});const{onStart:S,onMove:E}=this.handlers;m||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=sy(m,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:g,onSessionEnd:v}=this.handlers,A=oy(d.type==="pointercancel"?this.lastMoveEventInfo:sy(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,A),v&&v(d,A)},!KT(e))return;this.handlers=t,this.transformPagePoint=n;const r=p0(e),o=sy(r,this.transformPagePoint),{point:a}=o,{timestamp:u}=Pi;this.history=[{...a,timestamp:u}];const{onSessionStart:h}=t;h&&h(e,oy(o,this.history)),this.removeListeners=wl(ya(window,"pointermove",this.handlePointerMove),ya(window,"pointerup",this.handlePointerUp),ya(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function sy(i,e){return e?{point:e(i.point)}:i}function iw(i,e){return{x:i.x-e.x,y:i.y-e.y}}function oy({point:i},e){return{point:i,delta:iw(i,Ub(e)),offset:iw(i,DB(e)),velocity:UB(e,.1)}}function DB(i){return i[0]}function Ub(i){return i[i.length-1]}function UB(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=Ub(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>ju(e)));)t--;if(!n)return{x:0,y:0};const o=xa(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ns(i){return i.max-i.min}function dx(i,e=0,t=.01){return Math.abs(i-e)<=t}function rw(i,e,t,n=.5){i.origin=n,i.originPoint=Wn(e.min,e.max,i.origin),i.scale=ns(t)/ns(e),(dx(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=Wn(t.min,t.max,i.origin)-i.originPoint,(dx(i.translate)||isNaN(i.translate))&&(i.translate=0)}function Cd(i,e,t,n){rw(i.x,e.x,t.x,n?n.originX:void 0),rw(i.y,e.y,t.y,n?n.originY:void 0)}function sw(i,e,t){i.min=t.min+e.min,i.max=i.min+ns(e)}function kB(i,e,t){sw(i.x,e.x,t.x),sw(i.y,e.y,t.y)}function ow(i,e,t){i.min=e.min-t.min,i.max=i.min+ns(e)}function Pd(i,e,t){ow(i.x,e.x,t.x),ow(i.y,e.y,t.y)}function OB(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Wn(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Wn(t,i,n.max):Math.min(i,t)),i}function aw(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function FB(i,{top:e,left:t,bottom:n,right:r}){return{x:aw(i.x,t,r),y:aw(i.y,e,n)}}function lw(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function BB(i,e){return{x:lw(i.x,e.x),y:lw(i.y,e.y)}}function zB(i,e){let t=.5;const n=ns(i),r=ns(e);return r>n?t=Jd(e.min,e.max-n,i.min):n>r&&(t=Jd(i.min,i.max-r,e.min)),Ku(0,1,t)}function VB(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const px=.35;function HB(i=px){return i===!1?i=0:i===!0&&(i=px),{x:uw(i,"left","right"),y:uw(i,"top","bottom")}}function uw(i,e,t){return{min:cw(i,e),max:cw(i,t)}}function cw(i,e){return typeof i=="number"?i:i[e]||0}const fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rd=()=>({x:fw(),y:fw()}),hw=()=>({min:0,max:0}),mi=()=>({x:hw(),y:hw()});function wo(i){return[i("x"),i("y")]}function kb({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function GB({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function WB(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function ay(i){return i===void 0||i===1}function mx({scale:i,scaleX:e,scaleY:t}){return!ay(i)||!ay(e)||!ay(t)}function Ru(i){return mx(i)||Ob(i)||i.z||i.rotate||i.rotateX||i.rotateY}function Ob(i){return dw(i.x)||dw(i.y)}function dw(i){return i&&i!=="0%"}function Bg(i,e,t){const n=i-t,r=e*n;return t+r}function pw(i,e,t,n,r){return r!==void 0&&(i=Bg(i,r,n)),Bg(i,t,n)+e}function gx(i,e=0,t=1,n,r){i.min=pw(i.min,e,t,n,r),i.max=pw(i.max,e,t,n,r)}function Fb(i,{x:e,y:t}){gx(i.x,e.translate,e.scale,e.originPoint),gx(i.y,t.translate,t.scale,t.originPoint)}function jB(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,a;for(let u=0;u<r;u++){o=t[u],a=o.projectionDelta;const h=o.instance;h&&h.style&&h.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Gf(i,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Fb(i,a)),n&&Ru(o.latestValues)&&Gf(i,o.latestValues))}e.x=mw(e.x),e.y=mw(e.y)}function mw(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function vl(i,e){i.min=i.min+e,i.max=i.max+e}function gw(i,e,[t,n,r]){const o=e[r]!==void 0?e[r]:.5,a=Wn(i.min,i.max,o);gx(i,e[t],e[n],a,e.scale)}const XB=["x","scaleX","originX"],YB=["y","scaleY","originY"];function Gf(i,e){gw(i.x,e,XB),gw(i.y,e,YB)}function Bb(i,e){return kb(WB(i.getBoundingClientRect(),e))}function QB(i,e,t){const n=Bb(i,t),{scroll:r}=e;return r&&(vl(n.x,r.offset.x),vl(n.y,r.offset.y)),n}const qB=new WeakMap;class ZB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=h=>{this.stopAnimation(),t&&this.snapToCursor(p0(h,"page").point)},o=(h,d)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$T(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wo(S=>{let E=this.getAxisMotionValue(S).get()||0;if(bo.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const _=M.layout.layoutBox[S];_&&(E=ns(_)*(parseFloat(E)/100))}}this.originPoint[S]=E}),v&&kn.update(()=>v(h,d),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:A}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:S}=d;if(g&&this.currentDirection===null){this.currentDirection=KB(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),A&&A(h,d)},u=(h,d)=>this.stop(h,d);this.panSession=new Db(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&kn.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!dg(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=OB(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&Vf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=FB(n.layoutBox,e):this.constraints=!1,this.elastic=HB(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wo(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VB(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vf(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=QB(n,r.root,this.visualElement.getTransformPagePoint());let a=BB(r.layout.layoutBox,o);if(t){const u=t(GB(a));this.hasMutatedConstraints=!!u,u&&(a=kb(u))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=wo(m=>{if(!dg(m,t,this.currentDirection))return;let g=h&&h[m]||{};a&&(g={min:0,max:0});const v=r?200:1e6,A=r?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(d).then(u)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(kA(e,n,0,t))}stopAnimation(){wo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wo(t=>{const{drag:n}=this.getProps();if(!dg(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:u}=r.layout.layoutBox[t];o.set(e[t]-Wn(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Vf(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wo(a=>{const u=this.getAxisMotionValue(a);if(u){const h=u.get();r[a]=zB({min:h,max:h},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wo(a=>{if(!dg(a,e,null))return;const u=this.getAxisMotionValue(a),{min:h,max:d}=this.constraints[a];u.set(Wn(h,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;qB.set(this.visualElement,this);const e=this.visualElement.current,t=ya(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Vf(h)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();const a=ga(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(wo(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{a(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=px,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function dg(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function KB(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class JB extends Dl{constructor(e){super(e),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new ZB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const vw=i=>(e,t)=>{i&&kn.update(()=>i(e,t))};class $B extends Dl{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(e){this.session=new Db(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:vw(e),onStart:vw(t),onMove:n,onEnd:(o,a)=>{delete this.session,r&&kn.update(()=>r(o,a))}}}mount(){this.removePointerDownListener=ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function e4(){const i=J.useContext(u0);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=J.useId();return J.useEffect(()=>n(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function yw(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const hd={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Rt.test(i))i=parseFloat(i);else return i;const t=yw(i,e.target.x),n=yw(i,e.target.y);return`${t}% ${n}%`}},t4={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=Cl.parse(i);if(r.length>5)return n;const o=Cl.createTransformer(i),a=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;r[0+a]/=u,r[1+a]/=h;const d=Wn(u,h,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),o(r)}};class n4 extends yl.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;lO(i4),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||kn.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zb(i){const[e,t]=e4(),n=J.useContext(_A);return yl.createElement(n4,{...i,layoutGroup:n,switchLayoutGroup:J.useContext(OT),isPresent:e,safeToRemove:t})}const i4={borderRadius:{...hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hd,borderTopRightRadius:hd,borderBottomLeftRadius:hd,borderBottomRightRadius:hd,boxShadow:t4},Vb=["TopLeft","TopRight","BottomLeft","BottomRight"],r4=Vb.length,xw=i=>typeof i=="string"?parseFloat(i):i,Aw=i=>typeof i=="number"||Rt.test(i);function s4(i,e,t,n,r,o){r?(i.opacity=Wn(0,t.opacity!==void 0?t.opacity:1,o4(n)),i.opacityExit=Wn(e.opacity!==void 0?e.opacity:1,0,a4(n))):o&&(i.opacity=Wn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<r4;a++){const u=`border${Vb[a]}Radius`;let h=_w(e,u),d=_w(t,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||Aw(h)===Aw(d)?(i[u]=Math.max(Wn(xw(h),xw(d),n),0),(bo.test(d)||bo.test(h))&&(i[u]+="%")):i[u]=d}(e.rotate||t.rotate)&&(i.rotate=Wn(e.rotate||0,t.rotate||0,n))}function _w(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const o4=Hb(0,.5,LA),a4=Hb(.5,.95,Ri);function Hb(i,e,t){return n=>n<i?0:n>e?1:t(Jd(i,e,n))}function Sw(i,e){i.min=e.min,i.max=e.max}function vs(i,e){Sw(i.x,e.x),Sw(i.y,e.y)}function ww(i,e,t,n,r){return i-=e,i=Bg(i,1/t,n),r!==void 0&&(i=Bg(i,1/r,n)),i}function l4(i,e=0,t=1,n=.5,r,o=i,a=i){if(bo.test(e)&&(e=parseFloat(e),e=Wn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Wn(o.min,o.max,n);i===o&&(u-=e),i.min=ww(i.min,e,t,u,r),i.max=ww(i.max,e,t,u,r)}function Mw(i,e,[t,n,r],o,a){l4(i,e[t],e[n],e[r],e.scale,o,a)}const u4=["x","scaleX","originX"],c4=["y","scaleY","originY"];function Ew(i,e,t,n){Mw(i.x,e,u4,t?t.x:void 0,n?n.x:void 0),Mw(i.y,e,c4,t?t.y:void 0,n?n.y:void 0)}function Tw(i){return i.translate===0&&i.scale===1}function Gb(i){return Tw(i.x)&&Tw(i.y)}function vx(i,e){return i.x.min===e.x.min&&i.x.max===e.x.max&&i.y.min===e.y.min&&i.y.max===e.y.max}function bw(i){return ns(i.x)/ns(i.y)}class f4{constructor(){this.members=[]}add(e){OA(this.members,e),e.scheduleRender()}remove(e){if(FA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cw(i,e,t){let n="";const r=i.x.translate/e.x,o=i.y.translate/e.y;if((r||o)&&(n=`translate3d(${r}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:h,rotateX:d,rotateY:m}=t;h&&(n+=`rotate(${h}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `)}const a=i.x.scale*e.x,u=i.y.scale*e.y;return(a!==1||u!==1)&&(n+=`scale(${a}, ${u})`),n||"none"}const h4=(i,e)=>i.depth-e.depth;class d4{constructor(){this.children=[],this.isDirty=!1}add(e){OA(this.children,e),this.isDirty=!0}remove(e){FA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h4),this.isDirty=!1,this.children.forEach(e)}}function p4(i,e){const t=performance.now(),n=({timestamp:r})=>{const o=r-t;o>=e&&(wa(n),i(o-e))};return kn.read(n,!0),()=>wa(n)}function m4(i){window.MotionDebug&&window.MotionDebug.record(i)}function g4(i){return i instanceof SVGElement&&i.tagName!=="svg"}function v4(i,e,t){const n=Or(i)?i:Jf(i);return n.start(kA("",n,e,t)),n.animation}const Pw=["","X","Y","Z"],Rw=1e3;let y4=0;const Lu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wb({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a,u={},h=e?.()){this.id=y4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Lu.totalNodes=Lu.resolvedTargetDeltas=Lu.recalculatedProjection=0,this.nodes.forEach(_4),this.nodes.forEach(E4),this.nodes.forEach(T4),this.nodes.forEach(S4),m4(Lu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=a,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new d4)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new BA),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const h=this.eventHandlers.get(a);h&&h.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}registerPotentialNode(a,u){this.potentialNodes.set(a,u)}mount(a,u=!1){if(this.instance)return;this.isSVG=g4(a),this.instance=a;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),u&&(d||h)&&(this.isLayoutDirty=!0),i){let g;const v=()=>this.root.updateBlockedByResize=!1;i(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=p4(v,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(Iw))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:A,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||L4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:_}=m.getProps(),C=!this.targetLayout||!vx(this.targetLayout,S)||A,b=!v&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,b);const L={...Rb(E,"layout"),onPlay:M,onComplete:_};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else!v&&this.animationProgress===0&&Iw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lw);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(I4),this.potentialNodes.clear()),this.nodes.forEach(M4),this.nodes.forEach(x4),this.nodes.forEach(A4),this.clearAllSnapshots(),Xf.update.process(Pi),Xf.preRender.process(Pi),Xf.render.process(Pi))}clearAllSnapshots(){this.nodes.forEach(w4),this.sharedNodes.forEach(C4)}scheduleUpdateProjection(){kn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!Gb(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;a&&(u||Ru(this.latestValues)||m)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return a&&(h=this.removeTransform(h)),N4(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return mi();const u=a.measureViewportBox(),{scroll:h}=this.root;return h&&(vl(u.x,h.offset.x),vl(u.y,h.offset.y)),u}removeElementScroll(a){const u=mi();vs(u,a);for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:m,options:g}=d;if(d!==this.root&&m&&g.layoutScroll){if(m.isRoot){vs(u,a);const{scroll:v}=this.root;v&&(vl(u.x,-v.offset.x),vl(u.y,-v.offset.y))}vl(u.x,m.offset.x),vl(u.y,m.offset.y)}}return u}applyTransform(a,u=!1){const h=mi();vs(h,a);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Gf(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ru(m.latestValues)&&Gf(h,m.latestValues)}return Ru(this.latestValues)&&Gf(h,this.latestValues),h}removeTransform(a){const u=mi();vs(u,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Ru(d.latestValues))continue;mx(d.latestValues)&&d.updateSnapshot();const m=mi(),g=d.measurePageBox();vs(m,g),Ew(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ru(this.latestValues)&&Ew(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Pi.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Pd(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vs(this.target,this.layout.layoutBox),Fb(this.target,this.targetDelta)):vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),Pd(this.relativeTargetOrigin,this.target,A.target),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mx(this.parent.latestValues)||Ob(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pi.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;vs(this.layoutCorrected,this.layout.layoutBox),jB(this.layoutCorrected,this.treeScale,this.path,h);const{target:v}=u;if(!v)return;this.projectionDelta||(this.projectionDelta=Rd(),this.projectionDeltaWithTransform=Rd());const A=this.treeScale.x,S=this.treeScale.y,E=this.projectionTransform;Cd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Cw(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==A||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Lu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,u=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},g=Rd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=mi(),A=h?h.source:void 0,S=this.layout?this.layout.source:void 0,E=A!==S,M=this.getStack(),_=!M||M.members.length<=1,C=!!(E&&!_&&this.options.crossfade===!0&&!this.path.some(R4));this.animationProgress=0;let b;this.mixTargetDelta=L=>{const D=L/1e3;Nw(g.x,a.x,D),Nw(g.y,a.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P4(this.relativeTarget,this.relativeTargetOrigin,v,D),b&&vx(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=mi()),vs(b,this.relativeTarget)),E&&(this.animationValues=m,s4(m,d,this.latestValues,D,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{Ed.hasAnimatedSinceResize=!0,this.currentAnimation=v4(0,Rw,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:m}=a;if(!(!u||!h||!d)){if(this!==a&&this.layout&&d&&jb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||mi();const g=ns(this.layout.layoutBox.x);h.x.min=a.target.x.min,h.x.max=h.x.min+g;const v=ns(this.layout.layoutBox.y);h.y.min=a.target.y.min,h.y.max=h.y.min+v}vs(u,h),Gf(u,m),Cd(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new f4),this.sharedNodes.get(a).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:h}=a;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const d={};for(let m=0;m<Pw.length;m++){const g="rotate"+Pw[m];h[g]&&(d[g]=h[g],a.setStaticValue(g,0))}a.render();for(const m in d)a.setStaticValue(m,d[m]);a.scheduleRender()}getProjectionStyles(a={}){var u,h;const d={};if(!this.instance||this.isSVG)return d;if(this.isVisible)d.visibility="";else return{visibility:"hidden"};const m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=wg(a.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=wg(a.pointerEvents)||""),this.hasProjected&&!Ru(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=Cw(this.projectionDeltaWithTransform,this.treeScale,v),m&&(d.transform=m(v,d.transform));const{x:A,y:S}=this.projectionDelta;d.transformOrigin=`${A.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?(h=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in Ig){if(v[E]===void 0)continue;const{correct:M,applyTo:_}=Ig[E],C=d.transform==="none"?v[E]:M(v[E],g);if(_){const b=_.length;for(let L=0;L<b;L++)d[_[L]]=C}else d[E]=C}return this.options.layoutId&&(d.pointerEvents=g===this?wg(a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Lw),this.root.sharedNodes.clear()}}}function x4(i){i.updateLayout()}function A4(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:o}=i.options,a=t.source!==i.layout.source;o==="size"?wo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],A=ns(v);v.min=n[g].min,v.max=v.min+A}):jb(o,t.layoutBox,n)&&wo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],A=ns(n[g]);v.max=v.min+A,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[g].max=i.relativeTarget[g].min+A)});const u=Rd();Cd(u,n,t.layoutBox);const h=Rd();a?Cd(h,i.applyTransform(r,!0),t.measuredBox):Cd(h,n,t.layoutBox);const d=!Gb(u);let m=!1;if(!i.resumeFrom){const g=i.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:A}=g;if(v&&A){const S=mi();Pd(S,t.layoutBox,v.layoutBox);const E=mi();Pd(E,n,A.layoutBox),vx(S,E)||(m=!0),g.options.layoutRoot&&(i.relativeTarget=E,i.relativeTargetOrigin=S,i.relativeParent=g)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function _4(i){Lu.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function S4(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function w4(i){i.clearSnapshot()}function Lw(i){i.clearMeasurements()}function M4(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function Iw(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0}function E4(i){i.resolveTargetDelta()}function T4(i){i.calcProjection()}function b4(i){i.resetRotation()}function C4(i){i.removeLeadSnapshot()}function Nw(i,e,t){i.translate=Wn(e.translate,0,t),i.scale=Wn(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function Dw(i,e,t,n){i.min=Wn(e.min,t.min,n),i.max=Wn(e.max,t.max,n)}function P4(i,e,t,n){Dw(i.x,e.x,t.x,n),Dw(i.y,e.y,t.y,n)}function R4(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const L4={duration:.45,ease:[.4,0,.1,1]};function I4(i,e){let t=i.root;for(let o=i.path.length-1;o>=0;o--)if(i.path[o].instance){t=i.path[o];break}const r=(t&&t!==i.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&i.mount(r,!0)}function Uw(i){i.min=Math.round(i.min),i.max=Math.round(i.max)}function N4(i){Uw(i.x),Uw(i.y)}function jb(i,e,t){return i==="position"||i==="preserve-aspect"&&!dx(bw(e),bw(t),.2)}const D4=Wb({attachResizeListener:(i,e)=>ga(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ly={current:void 0},Xb=Wb({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!ly.current){const i=new D4(0,{});i.mount(window),i.setOptions({layoutScroll:!0}),ly.current=i}return ly.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),U4={pan:{Feature:$B},drag:{Feature:JB,ProjectionNode:Xb,MeasureLayout:zb}},k4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function O4(i){const e=k4.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]}function yx(i,e,t=1){const[n,r]=O4(i);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);return o?o.trim():sx(r)?yx(r,e,t+1):r}function F4(i,{...e},t){const n=i.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),i.values.forEach(r=>{const o=r.get();if(!sx(o))return;const a=yx(o,n);a&&r.set(a)});for(const r in e){const o=e[r];if(!sx(o))continue;const a=yx(o,n);a&&(e[r]=a,t||(t={}),t[r]===void 0&&(t[r]=o))}return{target:e,transitionEnd:t}}const B4=new Set(["width","height","top","left","right","bottom","x","y"]),Yb=i=>B4.has(i),z4=i=>Object.keys(i).some(Yb),kw=i=>i===ic||i===Rt,Ow=(i,e)=>parseFloat(i.split(", ")[e]),Fw=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/);if(r)return Ow(r[1],e);{const o=n.match(/^matrix\((.+)\)$/);return o?Ow(o[1],i):0}},V4=new Set(["x","y","z"]),H4=xp.filter(i=>!V4.has(i));function G4(i){const e=[];return H4.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&i.render(),e}const Bw={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:Fw(4,13),y:Fw(5,14)},W4=(i,e,t)=>{const n=e.measureViewportBox(),r=e.current,o=getComputedStyle(r),{display:a}=o,u={};a==="none"&&e.setStaticValue("display",i.display||"block"),t.forEach(d=>{u[d]=Bw[d](n,o)}),e.render();const h=e.measureViewportBox();return t.forEach(d=>{const m=e.getValue(d);m&&m.jump(u[d]),i[d]=Bw[d](h,o)}),i},j4=(i,e,t={},n={})=>{e={...e},n={...n};const r=Object.keys(e).filter(Yb);let o=[],a=!1;const u=[];if(r.forEach(h=>{const d=i.getValue(h);if(!i.hasValue(h))return;let m=t[h],g=fd(m);const v=e[h];let A;if(Dg(v)){const S=v.length,E=v[0]===null?1:0;m=v[E],g=fd(m);for(let M=E;M<S&&v[M]!==null;M++)A?RA(fd(v[M])===A):A=fd(v[M])}else A=fd(v);if(g!==A)if(kw(g)&&kw(A)){const S=d.get();typeof S=="string"&&d.set(parseFloat(S)),typeof v=="string"?e[h]=parseFloat(v):Array.isArray(v)&&A===Rt&&(e[h]=v.map(parseFloat))}else g?.transform&&A?.transform&&(m===0||v===0)?m===0?d.set(A.transform(m)):e[h]=g.transform(v):(a||(o=G4(i),a=!0),u.push(h),n[h]=n[h]!==void 0?n[h]:e[h],d.jump(v))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,d=W4(e,i,u);return o.length&&o.forEach(([m,g])=>{i.getValue(m).set(g)}),i.render(),c0&&h!==null&&window.scrollTo({top:h}),{target:d,transitionEnd:n}}else return{target:e,transitionEnd:n}};function X4(i,e,t,n){return z4(e)?j4(i,e,t,n):{target:e,transitionEnd:n}}const Y4=(i,e,t,n)=>{const r=F4(i,e,n);return e=r.target,n=r.transitionEnd,X4(i,e,t,n)},xx={current:null},Qb={current:!1};function Q4(){if(Qb.current=!0,!!c0)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>xx.current=i.matches;i.addListener(e),e()}else xx.current=!1}function q4(i,e,t){const{willChange:n}=e;for(const r in e){const o=e[r],a=t[r];if(Or(o))i.addValue(r,o),Fg(n)&&n.add(r);else if(Or(a))i.addValue(r,Jf(o,{owner:i})),Fg(n)&&n.remove(r);else if(a!==o)if(i.hasValue(r)){const u=i.getValue(r);!u.hasAnimated&&u.set(o)}else{const u=i.getStaticValue(r);i.addValue(r,Jf(u!==void 0?u:o,{owner:i}))}}for(const r in t)e[r]===void 0&&i.removeValue(r);return e}const zw=new WeakMap,qb=Object.keys(Zd),Z4=qb.length,Vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],K4=xA.length;class J4{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kn.render(this.render,!1,!0);const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=h0(t),this.isVariantNode=kT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(t,{});for(const g in m){const v=m[g];u[g]!==void 0&&Or(v)&&(v.set(u[g],!1),Fg(d)&&d.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,zw.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),Qb.current||Q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zw.delete(this.current),this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=nc.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&kn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,r,o,a){let u,h;for(let d=0;d<Z4;d++){const m=qb[d],{isEnabled:g,Feature:v,ProjectionNode:A,MeasureLayout:S}=Zd[m];A&&(u=A),g(t)&&(!this.features[m]&&v&&(this.features[m]=new v(this)),S&&(h=S))}if(!this.projection&&u){this.projection=new u(o,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:m,drag:g,dragConstraints:v,layoutScroll:A,layoutRoot:S}=t;this.projection.setOptions({layoutId:d,layout:m,alwaysMeasureLayout:!!g||v&&Vf(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:A,layoutRoot:S})}return h}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Vw.length;n++){const r=Vw[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o=e["on"+r];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=q4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<K4;n++){const r=xA[n],o=this.props[r];(qd(o)||o===!1)&&(t[r]=o)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Jf(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r=typeof n=="string"||typeof n=="object"?(t=PA(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Or(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new BA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Zb extends J4{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},o){let a=yB(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),a&&(a=r(a))),o){gB(this,n,a);const u=Y4(this,n,a,t);t=u.transitionEnd,n=u.target}return{transition:e,transitionEnd:t,...n}}}function $4(i){return window.getComputedStyle(i)}class ez extends Zb{readValueFromInstance(e,t){if(nc.has(t)){const n=DA(t);return n&&n.default||0}else{const n=$4(e),r=(zT(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Bb(e,t)}build(e,t,n,r){wA(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return CA(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Or(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,r){XT(e,t,n,r)}}class tz extends Zb{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(nc.has(t)){const n=DA(t);return n&&n.default||0}return t=YT.has(t)?t:bA(t),e.getAttribute(t)}measureInstanceViewportBox(){return mi()}scrapeMotionValuesFromProps(e,t){return qT(e,t)}build(e,t,n,r){EA(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){QT(e,t,n,r)}mount(e){this.isSVGTag=TA(e.tagName),super.mount(e)}}const nz=(i,e)=>SA(i)?new tz(e,{enableHardwareAcceleration:!1}):new ez(e,{enableHardwareAcceleration:!0}),iz={layout:{ProjectionNode:Xb,MeasureLayout:zb}},rz={...IB,...JO,...U4,...iz},Nt=oO((i,e)=>UO(i,e,rz,nz));function Kb(){const i=J.useRef(!1);return Lg(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function sz(){const i=Kb(),[e,t]=J.useState(0),n=J.useCallback(()=>{i.current&&t(e+1)},[e]);return[J.useCallback(()=>kn.postRender(n),[n]),e]}class oz extends J.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function az({children:i,isPresent:e}){const t=J.useId(),n=J.useRef(null),r=J.useRef({width:0,height:0,top:0,left:0});return J.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:h}=r.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=t;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),J.createElement(oz,{isPresent:e,childRef:n,sizeRef:r},J.cloneElement(i,{ref:n}))}const uy=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:a})=>{const u=AA(lz),h=J.useId(),d=J.useMemo(()=>({id:h,initial:e,isPresent:t,custom:r,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),o?void 0:[t]);return J.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[t]),J.useEffect(()=>{!t&&!u.size&&n&&n()},[t]),a==="popLayout"&&(i=J.createElement(az,{isPresent:t},i)),J.createElement(u0.Provider,{value:d},i)};function lz(){return new Map}function uz(i){return J.useEffect(()=>()=>i(),[])}const Df=i=>i.key||"";function cz(i,e){i.forEach(t=>{const n=Df(t);e.set(n,t)})}function fz(i){const e=[];return J.Children.forEach(i,t=>{J.isValidElement(t)&&e.push(t)}),e}const hz=({children:i,custom:e,initial:t=!0,onExitComplete:n,exitBeforeEnter:r,presenceAffectsLayout:o=!0,mode:a="sync"})=>{let[u]=sz();const h=J.useContext(_A).forceRender;h&&(u=h);const d=Kb(),m=fz(i);let g=m;const v=new Set,A=J.useRef(g),S=J.useRef(new Map).current,E=J.useRef(!0);if(Lg(()=>{E.current=!1,cz(m,S),A.current=g}),uz(()=>{E.current=!0,S.clear(),v.clear()}),E.current)return J.createElement(J.Fragment,null,g.map(b=>J.createElement(uy,{key:Df(b),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:o,mode:a},b)));g=[...g];const M=A.current.map(Df),_=m.map(Df),C=M.length;for(let b=0;b<C;b++){const L=M[b];_.indexOf(L)===-1&&v.add(L)}return a==="wait"&&v.size&&(g=[]),v.forEach(b=>{if(_.indexOf(b)!==-1)return;const L=S.get(b);if(!L)return;const D=M.indexOf(b),U=()=>{S.delete(b),v.delete(b);const z=A.current.findIndex(V=>V.key===b);if(A.current.splice(z,1),!v.size){if(A.current=m,d.current===!1)return;u(),n&&n()}};g.splice(D,0,J.createElement(uy,{key:Df(L),isPresent:!1,onExitComplete:U,custom:e,presenceAffectsLayout:o,mode:a},L))}),g=g.map(b=>{const L=b.key;return v.has(L)?b:J.createElement(uy,{key:Df(b),isPresent:!0,presenceAffectsLayout:o,mode:a},b)}),J.createElement(J.Fragment,null,v.size?g:g.map(b=>J.cloneElement(b)))},kr={paddingX:"sm:px-16 px-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-eerieBlack lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[90px] mt-2",heroSubText:"text-eerieBlack font-bold lg:text-[40px] sm:text-[30px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[48px] xs:text-[40px] text-[30px] font-poppins",sectionHeadTextLight:"text-timberWolf font-black md:text-[60px] sm:text-[48px] xs:text-[40px] text-[30px] font-poppins",sectionSubTextLight:"sm:text-[18px] text-[16px] text-taupe uppercase tracking-wider font-semibold font-poppins"},dz="/assets/logo-black-B24ok_AQ.png",pz="/assets/profile-O7QcNAUD.png",mz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFl0lEQVR4nO2dTYwUVRDHh5CwIup6MSRyQTyIHxhN1IusRxCRbCLZxOPqyUA0HsSoMaxKSLwQj8CyqDG7F86unlBPkIiiF/TkakI0etC4iAbWJT9TTA2+edMzPdPTHzUz9Us6m8zreVVd/63XM9011bVaAPAgcBL4CVjBKYoVjfEcsC3UoCHEGuBt4FphLjjtkJjPiAahICKGUy0z4TJ1LUqno8A0MOUbRcRAYnssOi2sXl++9JwRivF4y5rmFAKwPRLlRE1PLg2OFmPaaQdwPIj/Ui1SaDraeRPwjKbZIwmTjQFP6bj8HUvY51Edl3k21YYMmmOQtrXEQJevBlflhZCpSIw/o/Hnosk+jcYXo/Hno3GZ787aEEFrDNJoioEKdYNOguxMmGwucmY5NhaNh+enBjtqQwStMeiGHVkEkVRc1LO/8APwUOTMy8BfOi5/X4rGH5Z1Ucdlno+BdbUhguYYpNESg64FccrBBTGGCzJggpwBTvlGmTE400kQp2JcEGP4koXtJcs/9paMf8oyhgtiDBfEGC6IMVwQY5gVBLgPOAQslPiRc0Ft3lvhcdsTBHgnuMxfBWL7rYqO3ZYgwIvYYd9ICwLcBPwR2L+iN8XKWrIW1WaD35PqAkZJkCci+0+WaV99kAKFkO2jLMjeyP7aMu2rD2sjH/aOsiDNzlSEqRiYcqYiTMXAlDMVYSoGppypCFMxMOVMRZiKgSlnKsJUDEw5UxGmYmDKmYowFQNTzlSEqRiYcqYiTMXAlDMVYSoGppypCFMxqNgZv7iILUEmIvu7yrSvPuyOfBjpy+9jCTeoPinxBpXYuhrdoFo3soKoQ/uxwwsVHL8tQdSpmYqLHP4FDlZ07PYEUce2as+V+R6XnYuB/xd7fO+82rynwuO2KUhWqAe2wanagOGCGMMFMYYLYgwXxBguiDFcEGO4IKMqCDAJfAFcZni4DHwO7BkoQYB3GX4OD4QgmhmjwtODIIgsUw2k29orPbZQnepxOxvYO1uwrQNRB7nPBkGQsLvagX7ns3YtC3g1sHdpEATJdT6DguRaB+CC9IkLkoJnSHqAfMnqAV+y+sSXrBR8yaoHYWOHfuchRxLGJxOfKpP+e/aJPr6HTPT6+3N9jMdkwlxH4mU5YZPYbCz8Yy9wuxYG5PEknm+SGvy36fQQ1m5lRebY34W9x4Bvc7AnMfoIGC9EEOBm4Gvy5e9OolDvgVLMk2zai/FPzvbOAeuLEORNiuF8h+5AqwXYkzm3trGZR2Yk8UYRgnwf7CeZsrmWAWAD8F5k9/6U7LgibTeydHrQTg27op4mLZ1/gAcin+RcsSHjMW6Wf7RgrgtFCNL2wS8ZHL4lsjuZsM9Cu+eSZLQpdbwN5ru4Sp1JjLYPailAkK7268HhjvOR8zWqtPkK/37R7X4uSB0XxDPkOp4hdXzJiqEZP4cofg5R/BzSjGeI4hmieIY04xmieIYoniHNeIYoniGKZ0gzniEZMiS3ikRgS2R3Z8I+7wfj5/qxp/N9Fcx3MmFcLu+H3FVGhWM/l06kDL/BshrMUh87rbdvwxtGdyTY2xf5JgI9m8GevOeDtI4NWicQ3po+r75mOUaJzaVgrtNFCLKHYviwjb1x4LcC7P0K3NrGptwDL4LduQuibz6cs6NfArelNOtfztGezDXRwd643gPPk0OFFlvLbyKkDL+HZ4jHSPedC8BrUt7Thb27dcn5JXtM+FmXvC1d2FsPvA58F3UK6gWJzelOmZGbIE6+uCDGcEEGQJDcqkmcHKpTgB+DF45lmNPpA2A2iP+SvDAXvLBSdhPIUYb6x3rpZtdgVl7cFpVsiijH+/iW6htdXa2YjcRYvVHBqT0PnWr5v+cjsMZAI8pRRWJ+UDSotSk4PqEn+qzfUh1Skdgu6bLVVGj+H7o+6DX7moFaAAAAAElFTkSuQmCC",gz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOUlEQVR4nO2dO4wVVRjHL0KMEFgNEAKEJdHWRXlEHhVGqOiJiQ3BbCgsjMYCoibyKCB0RhcKHqHZAg0BtoKeikpMIITO1WajMW4BkbjyI58ekslw7rzuPL7N/H/JqfacmW++3z33mzs7c2YwKACwFpgAdqhRJQeWu7VFcp0lYQtwDvgNURe/hpxuKSNiJXAZ+Le2MEQay+0ly3WejHHg55eGi6awXI9nzYx7je1aDOM+MBYTYl9TMR4D14ATwFE1quTgRMih5TLGxVgBj9WM68D6wgVIZAJsAG5G8rxgZ2LJjlb509wAXsnehSiL5XSIlKkXHZZETm1tamlmNDtTnqRyPpv80ZfmWlPBiP8J5SDN6hf1I83JME40BHAqkvcJ+8PuyB+O5WzMLgXsT7RdwKsZ/V8H9ib67wM2DXoMcCyS992lhWScHv8ErIr03w78Een/D3B40FOoQwjwNtl8EhnzY0b/uUFPoSYh9mnP4vPImJmM/n/ZWd6gh1CTEDuHvp1xJXNdZIzVi7+HjPly0FOosYYsBQ4ARxLtQ+CNjDFvAocS/SeBnYMeQ11CRD1IiDMkxBkS4gwJWeRCpoGDajSZg+kyQkQ3SIgzJMQZEuIMFXUWSVHXpZOG0e8QZ0iIMyTEGRLiDAlxhoQ4Q0KcISHOkBBnSIgzJMQZEuIMCXGGhDhDQpwhIc6QkL4JAdYAb7XcNpd5dNseu2sojjVuhAArMp4ZaYM54P0CcU5GHkWuk1vAcg9CPqN7HuTEOAY8bSGOTz0IOU33/JkT47stxXHOg5BtLX36svg2J8attMP5zoWEjb8DfAOc6aB9lFfYhwi5M+J+v3MrxDvEhRwfcZvrJaQiEuIMNEN8gYT4AgnxBX0TYktqhNPPIy23SeC9AvH1R0hYNuN3uuWLnBh7JeQk3TOXE2OvhHxF9/ySE2OvhNgimg/pjqdWv3Ji7I+QsPHXgD2pdRjbaB/YkqsF4uuXEO8gIb5AQnyBhPgCCfEFEuIL+iYkrFJ6BfihZLMxB0bYx1Xga7sVqYKQ+xXiTbYZl0LsnijgGdWxsXtH3Md0BSFN4ELI2RoO5OyI+5jPGR97A0QTfO9BiF0CH5WPR9zH3QJ3V87XEOdIx9GWkGU2VSse8HwYu7TiPhZMRpEXNYYa9KhCjLUdRytCRDUkxBkS4gwJcYaEOENCnCEhzpAQZ0iIMyTEGRLiDAlxhoQ4Q0IWkRC9vtvZ67ttjZI0esF9hy+4XxLeY5vkcZF7ZkU1gI2RdVdmkx2mIrZulllpRxQjvOB5JvP/8aGOLAyRoplS78yIybDcT6Q7XyLOk/B9Z09KHVWjSg4sdzcyloe6ELO3Erg3ZIBoDrthb2zYlBqXlFaxCTCe9z1nM+XikJoi6sFye8FyXaYATYSzr9maghD8l8uplwp4WewHSxC0Q40qObDcrS6S7Oe8HVQwawLXqQAAAABJRU5ErkJggg==",vz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGLUlEQVR4nO2daahVVRTHj0WZOVQOlZVlFkH1DEoywQ8SKlEERVgSURFZPSKi4UOSCGlR9EHqg1bkQEEWFE4NNKBfxKDBBqtnA1nxGm0iCm1Sf7F4+8LtuPZ59+x7rm/vd9YPzqe7975rrf85Zw9nn3WyrAWAsUAXMMUOQmIgsRvbSqyLRJgMPAJ8g1EVX7uYTi4jxAhgFbC3MjOMPBLblRLr/sSYAHywX3WjU0isJxRdGds69teGjx5glCaI3KY0dgFrgEXAXXYQEoNFLoYSS40VWgeu9RnrgGNb7oCMQoDxwAYlzntkJNZcUHr+POuBg4r/wiiLxNQjyrJGgSHK0FYuLbsyOnul7M7FvLd50pdnTaeMMfpw3UGe0Y3+I89iV8/oEMC9Sty75Idpyg/z+2lMlgJmNR3nAYcWlD8CmNFUfiZwQlZjgPlK3KeVFqRgePw+MFIpfw7ws1L+X+C6rKZQhSDAmRRzs1LnuYLyO7OaQkWCyNlexO1KnecLyv8mo7yshlCRIDKGfrVgJfNopY70F3956tyd1RQq7EMOBi4Cbmw65gJHFtQ5Gbi2qfw8YGpWY6hKEKMaTJDIMEEiwwSJDBMkcUFWA5fbQSdjsLqMIMbAYIJEhgkSGSZIZFinTiKdui2ddBibh0SGCRIZJkhkmCCRYYJEhgkSGSZIZJggkWGCRIYJEhkmSGSYIJFRO0GAw4D7gBeAW2WDXxYRdRTk8ZxPC7KIqJUgwFHAnzmfXs8iom6CdCs+PZlFRN0EeUPx6YIsImojCHAasC/nz7fWqQ+cIA8oJ9iDWWTU4gqh74WiXsWf1tMhHSDqIshsxZe3+6kzINkqohbEZZNYAHznsuPMDGznKcWXWzxlLwN+cK/bPQQc0rYjg0EQCYQSyF+AYSXbGaVk2/lbS63nUlH9niv7InB4pc6lJggwHHgFnZNKtnW90sZaT9kTPf+5RSaVlTmYkiAux8qbnsBsLfu6NLBZaeeSkuUbWd7GV+JkKoLI2Q987AlIT9m0G8Apytzjx6J+ARjjmUAKXwCnVuJs7IIAZ3iGpsJbIelUJVkO+/Nwi7fMl9GRDv/sYEdTEMQlqfnJE4CNWq6UFkdoO5T2WgqmJM0BnvHY9IcMpYOcjV0Q4OKCnINPhw47gfOV9j4KEHWJxzYZFs8JsS1aQYBrgH88Di9tZ3IGPKG0eWdgW5KwEk9OxBtCbYxKEOBKpcNtsLDNtoe720o+7VNwekLJaORJCCo+XNWOvbEI0uNxrruiKy/PSxW0O9dzEm1vt+0YBHkXnfvbTc0EbFLavaLNNiW5znKPzVvbaTsWQWa7JQyNx0KfU9A3l8nfWn6VzQ1tboxY67FVfJgV2nZsnfpMZe2owbqQIAILlbYebcNGWd96zWOjjA4vDG071mHvuQVzkE1l5yDAJ6pDYbYdA7zjsU2uuukh7aYwMTy9n1n6mBbbma7U/yykTwImAp96bJLHAWcFOZuCIE0rrdrZjRuRHR+w5yooXaBbxpHUhBqfyxpZsKOpCOKMGSdP8jyB2AFMKqg7zCXPbGav9zsc/namuduRhtg2rhJnUxDEGTTSrV9pfOi7/biJZp6NAUPb3irX1JIXxBk1tCCv70RPHe2B1tUl/3eS5z/FlqGVOZiaIE1nq8xHmtmpDYWlf3HrSs3IcHp4wInwfVVzokElSJOBtwFfAu/5hpmexb9Vgf833f2X3LruaNuBwSZIKwDbFVtnZAmSvCDAVMXOr1L9CtBgEGSZYuc9WaIkLQh9j1nzn7zY18mJW6dJXZA5io2bs4RJXZBnFRvnZQmTuiBbcvbtVr+OmRCpC9Kds29JljhJCyIAl8oDKOCm2N6GqqUggw0TJDJMkMgwQSLDBIkMEyQyTJDIMEESEsQ+3x3Z57vlXbs89oH7AfzA/RBls9iuA/Emal0BjnMLpM309vc0bkOqj0cTyMeifUF7aXOhycr2moYodqVUe2VoYkjsu/KFV6Kz293vFrttOHZQOgYSu/XKbarBct/7Eds8FYzO0eN92CYblk2UA8q2fjeJuytlhadPMaphj3uPcUSZDqjLjb58u8SN8vS6mP6/Ay+LTFicQFPsICQGErvRrQT7P9WX1nUadcvzAAAAAElFTkSuQmCC",yz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHPklEQVR4nO2dCagVVRjHJ/O5pKaFpra40bNCszRJk4zCpaI9ewStVD4lCoyi1SijECMpDVySMEWjTCvKV5KpYVgqGVpJFJFEGEVWtGhRLr84732vhvGcWe6cmTtz3/nDgXvvzFnm/ubM2b7vjOc5OTk5lU/AYGAN8CfZ6GdgAdC92tdaeAEnA3+Qj3YAHap9zYUW8Ab5alq1r7nQAn7KGcjKal9zoQXszRlIU7WvudByQMoBZBbQLWW6xwPrXA2xA6SLpbQvdUDsADlSjm0Bvq4gzJX4JwBTAuGipGVsU4oA8n2FDfdL1b6u0ipLIEA/aY+yCNOAgV6tKWMgo8lW/wD3erWkktaQ2cBGX37XeLWiMrchwFOS38derajMvSzgJCnvAaC9Vwsq8zgE6GK7zEUF8qSFkbqqHeszBnK0L91U5S2MyjqXBRwBvOVLd7VXCyoiEKAj0B8YpAm95ZxTNWnXy7G+hrj9Cr9AViQgtICYFbGUvF7O7Q3sD4xJesmx7SHx1erow4XtBBQMyOIY8fcBPeT8qcBvwK9Ao2+WWfW6ojTbK6KKAgQ4I0Eai3zx2qnga1dWxkzjoHqEeSUB8hjQKWW6PcWSJS6Qm0mmF1U744tfX4F9wOVeSYAcZSntSxIAaSS5DgHfArupTA1eyUbqXwC/VBCel/jjMgaSVg1tbXLRBpCHDF3YJGGGA2IPyHkWbrrxDog9IHuBbSmD6irr5B5Zrg0pfxuSpRra2nqIDSCzgZHAWRUGFXdu2YF0tZT2ZRaAjLJQjrFlB6LuqD7AMYHQ3rcwpL53lO+dNeeeAmyyAOQH4N2U4ceyAzHpfInziny/Q76b+vk6uTYkTA5IwVQCIIuACTK4qyRMBF4wpO0eWRUAGWHhpjvHAbFXQ3ZJjUwTvnFA7AHJUoV8ZF2lChYz9DK0IUMSpHGuoRyNmf71ZQFSiYJALKXZaPjTVgHXasBeB3xQc0CAZ4HnYobBhhoyPmAIHZbGnQmBjAwp+421CKTo3d6dYlQdtIB/OsXSbascENeoRyikS5hVDVliKEcj+auQNeSJnIFcnBDIX8BaTVu0MjBp+B2wTHNeU4glZCGBdDT4k2cBZE5IORoNg8L6kDhq1vlt4M0wOzLZ7Wh3UiCynrPQwsBUF5YCt7Qa+QUzVhZ/1yvznYhEhhiANETEWxzlqIMeyJU+89Bgt3e4z8b3OPk8XHNe35AemRGI9Bbz0Ma0Rol5jkN6ybENmmN/+31C1Gf5LagNvm2oYgFRNw/5amZZgHSJsGbv44uvFtR02u5zIIoLRD1O8tSutH9erQNpIl/tLQuQrnJM2Vbp1DNg3K3TtoCDqF8OSEIgp/uMJVbLb/vlhpgux9oDdfJ5eqAzsUI5nsqxCx2Q9DVkheoByvEBuuoN3K3sfyPS7mAwuHA1JCEQpQUmIDJGUC4JSi8DN2m6vWpPlE/RKymQnRqLlg2y62qbaEOU1oYAMdnsxlUSIM+ElP1YmSmoVA5IBUAmRNxQr1K5HJAKgIyL+dSoGSDdDM42fUMeWQNTOvJot+NwQOIBG2DlboqXl6shtCwD65xtlpqAAO8ksO99X5P2eAfEfFc2GJ6vW0OAxNkgIEyuDQkBMqkKQCa5GmIGMqoKQM52QMxA2gGbcwSyVbtaZ27Uo1YXdXuDlbfbqyRd0R3BPy4DIJ9FLA3rgHylNts0WNg/4pvCqR0gvolAZd56H3C/mp8KATIz4W6mM8QKstnzyyS3HlKOcUiWKm4NMckBCZEDYl2uhoTJPbLK8cjaDJymcf9OEpShxZxaqyH7cshrtJjY+lcCr7aUdmdNFzk1kNclobtsFDJmnj18F9A7pzyVxeSXkqfNLdIPWAMi9qiHfFuuNpuX5iH+t89a2Gr8YDn9TsCDYvo6UX4bIxtm5gtE7sARIZu41Pk2pDnMDFKekaa4w6IGYwn2kj/ke6Y/LoNHW0FN57dKQRgj+X6YGxD1RwPzYwz9h8r5yufPr2YXNdWeRMRXtWmyhYuZKi4KeehRyXN5nkDUPEwcNds+yRbgm+QPXtK6dbf4cERJ3XVjLVzQicA9wLwE/pFxQtBktRkC8F6eQD6PCeR31e2z4Hw53yuoaDHnWSgzt7fKb0NlG/PcgOicPpdrXsQyRfdqIXGamaw5d6rBJrc0r16l5XUYH0m5qwqkv6WMbysjEFp8SW4XD65WXWFxNvtgUiBbLL24a3dJgTRpyr2m9SUAKdKtk32ISQokS5UVSJZyQMoGZJ2l9w2qZc+gXA2pAMh/rmJpBNxQUiAPZOQKbQrLooCsMnR7kwQ1cv+kjECqqgQDQ1ua5xVcwJkp9nisJFzgz1y9ICsvHTRtYFYkVbtRr5M5oTR2RXGnXpqnI4ouimB1AnSPmH5PE4YV/v2BPmlmtLPWHn/+TgGpldCcgbwWLIPT4fNNQZPWLB/lg/z5O5lnetXC3Z6MQOyTtspoY+zk5OTkFVf/Ar+1GNdaFFBrAAAAAElFTkSuQmCC",xz="/assets/github-BUfx7uqA.png",Az="/assets/close-B8dEpz1_.png",Hw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAETklEQVR4nO2dS4gdRRSGS8HXSnTjI64Ft2p8bEQFE4yZRMWFC9GN6E5RfCIhCtlmqxu3KoJkFVBwpzirC5Op/3Sd6smEiWYzoohCGJPx0XLmTsgQ753pnn5Vbv8fnM3Qt05Xfbe7uutW1ThHCCGEEEIIIYQQQghpndFodB0Q9onENy28D0/Y39j0PQDooyK6LBKLrQHE01mWP0IpHSISHxeJ61fK2CLlogmjlA5YWlq6AYg/TpOxRcqKHUspLZNl8fBOMi5L0TkKaRlAPyorRCQepZD2hRyvcIUcpxAKGRbgFZIWoJC0AIWkBSgkLUAhaQEKSQtQSFqAQtICFJIWoJC0AIWkBSgkLUAhaQEKSQtQSFqAQtICFJIWoJC0AIWkBSgkLUAhaQEKSQtQSFqAQjpb53EQ0A9F4jHv4wuj0Zmb2xJiZVsOy2U5LTfXlWwSQnho0joPkfgbkL/YtBCR8JKVPWVdyYNuyABxr4iu7dCw7zYlxMra/jO65r3e54ZIURTXiuhiuYaN79QVYmWU+5yeKoriGjfMW1XpZQUFoG/vVoh9tlquuNcNDRF9tUojyUaE96sKEYlvVM0DxJfd0BDRV6oLidZYZ9s4dvBC7IlmN40lHcQgb1mbnfqpvhtf/n+bWxhkp254r/eXeOwtugtdCyHc64aM7cQA6J99y8DG2vZwsO/2SIK+pWC80cBsLKFuanF+lsUnAb3QQ59xwXI3UYfeNipYXFy6SyR+IhJXL917Af267nYWWZYf6FLKWEZ+oIFtPr7ZcoWviujHCwv5HtfVGzYQf51SwX9F4nt1yvc+f6oLKZbDctU5V0A/2KzzpPJ/aX2wUkRuFdGfd6qsbX9RJw82huLjxZQ7cO/zZ0rkWvXe3+LawraqKFdpXaybC9C5NqQ01YEDESVzHnFtIRLny1ZcVe+sn08PNSllXJYeaqgPLZv3B9cWFceRGhl+yLJ4uAkpVkbdW+klRPIHKuQ920TOKSei58qeiPfh4abyZvWfvtazLD7d1PlY3crn1nNu1oTUfPpatw7YNQiFbAKEZ7fb2m/Ct/NvIH/eNQyF7EpKOzIMCrkCEX1uBynrdoxrCQqZAKCPieiZCVfGcts7klLIFETkekD324yScYR9XUx4o5DEoJDESEaITbcs/4Y6u7++ATpX4U39dJsn8n2Fb8ay9/raeLrP7ASgr09+mJgmRL9rTYiIflFj+GKQAcTPE5ttOOxAm7Mgvfe3AfpP35WUqyTGbSW3uzYR0RN9V1SunvjKtU0I4e5qA3yDjb+A/B6X4H8oGGocdV1hc18B/TKBShdphp6wucuuS+bnf7rJHun6r3xMKoD42crKyo2uD8ZXysZSsfN9N4T0H+cBfSuJmfM2w8RmMgL6RwINU3Qb+rvNVAwh3OFS4/JwuHX6+qmIngT021kKET1pdRuvb9f9Vue+250QQgghhBBCCCGEEEIIIW47/gN/nclRh6/LjAAAAABJRU5ErkJggg==",_z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEG0lEQVR4nO2dS4gdRRSGawRfK9GNxun6/+phEJylo9FsRAUNGWcSIy5ciG4k7hTF+EDECG6z1Y1blUDIKqDgTtGtCS5nxEg2iiIKITrxMXJMDwx6b+7t213dJ9P/B2cz9O3TdT66q29NVd0QhBBCCCGEEEIIIYQQ2VleXr42pfQIyZcsYowP299U+h4g+QDJDZJb/4n1lNL9ktIhAB4CcGmEjH8DwKYJk5QOWFxcvB7Ad+Nk7JDyrR0rKZlJKR2aJGM7YoxrEpIZkm9PKwTAWxKSGQDHawg5LiESMiygO8QXkBBfQEJ8AQnxBSTEF5AQX0BCfAEJ8QUkxBeQEF9AQnwBCfEFJMQXkBBfQEJ8AQnxBSTEF5AQX0BCfAEJ8QUkxBeQEF9AQnwBCcmPrekAsEryGIB3ADy1sLBwUy4hdm7LYbmqnKtaV1JB8r4x6zx+jjE+3baQlNIzdu4x60ruDUOmKIp7SF6cUNRX2xJi55rwmYsAlsNAuQbA2SkL+0pTIXaOKT9zJoQwFwb6qJqqsLxcqKOzCrHP1slld24YGiml5+oUiZfj9bpCSL5YNw+AZ8PQAHBkBiFbAM7lOHbwQuyNZpZisYMY5COr6tTP9F18/v/u+GqQnboRY7x70msvuw177b0rDBnbiQHAb33LALBp39j7rocL+pYCYHPXLKFua3E+yQMAfu9BhuU80EYbetuoYH5+vgDwHoDvdzx7P266nQXJlS6lVLlWWtjm45PtO9xqAuDdoijmQ4ffsH8a08i/Sb7W5PwAHu1CiuWwXA1r8UbV5lE5fsw+WFkUxS0AfpjUWNv+okkeAKvVBjJuO3CSh6fIY3fLzSEXtlXFlA0+2zRXjHEth5S2OnCSX0+Z782QCwBfTtvwGOPtTfPFGA+2KaWScbCNPrRG3i9CLuqMDbU1/JBSOtSGFDtH00fpNmVZ7q2R91zIBcnzNYqwr8W8K006+mqzs8davJ59NfKfbyuvGyFN3r4qGYdDi0hIBcnHr7S134j4k+SToWUkZDYpWWRU16BH1k4APDFhE8xLdkzIhISMgOSDJL8ZIWQj946kEjKGpaWl61JK+21GiYWNGncx4U1CnCEhzvAkZL3G+/+u/e9bjHGthpD1bBdC8vMaF7IB4Hmb7rObIsb4wpiXiXHxWTYhAD6adfhiqAHgQ2+zDQcdyDkLsizLW0n+1XcjefWE1eq2kBMApxw0dOsqiZMhN2VZ3lFzgG+o8QfJO4O3XygYaqDjX2aYI3mi70bTadhj3eYudynEZqDcaK90fTeezgLAByRvCD0xVy0Vu9B3Idh/XADwsouZ8zbDpJrJ+OsA74hfbKYigD3BG9vD4VWn/z7J0yQ/3WVxumrbMWurtbnvugshhBBCCCGEEEIIIYQQIlyJfwAaengNkrLaVwAAAABJRU5ErkJggg==",Sz="/assets/pineapple-eAZllWuS.png",wz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADgJJREFUeJzt3UGsZmV5wPH/MGQG4ji02EFhxjQUxZK0muCusQWUdFC6MyVpMGpI05R0ISGYrqqGnRtMbbRRbHBiu+imMbESkESUbrrqoi5UBGObgRAxswBMZ6aZmS4ONtQ6cO/c+933vt/9/ZKbzOz+i5l7nu/5znlPAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsJ72jQ6A1/GW6p3VoerXB7cA6+ds9fPqheqZ6vTYnJ1lAGA3eVv14eoD1fuqI2NzgD3kfPWj6snq8erRlgFhbRkA2A1urR6o7qj2j00BqOpUdaJ6qDo5uGUlDACM9O7qb6o/GB0CcBFnqy9Un6leGpuyvQwAjHB5y3+mv3z1zwC73fPVx6snBndsG+tWdtqRlu/WPlJdNrgFYKPeXN3d8sH5qcEt28IAwE76zerb1c2jQwAuwb6We5aOVd+sLgyt2SIDADvlSMvdte8aHQKwRTdX11dfHx2yFQYAdsKVLRf/3xkdArBN3tPy6OB3R4dcKgMAO+FvqztHRwBss1uqf62eHR1yKTwFwKrdWf3z6AiAFXmuuql6eXTIZtkAsEpXVt/IMb7A+jpcHay+NTpkszyGxSr9afVboyMAVuwvqqOjIzbLBoBVubz6x+qq0SEAK/aLA82m2gK4B4BV+aOW9T/AXnCquq46Mzpko3wFwKrcPToAYAddXR0fHbEZBgBW4bLq9tERADvMAMCe97vVb4yOANhht40O2AwDAKvw7tEBAAPcWF0xOmKjDACswo2jAwAG2F/dMDpiowwArMKR0QEAg0zz+88AwCocGh0AMMjh0QEbZQAAgD3IAMAqvDI6AGCQl0YHbJQBgFX46egAgEFeHB2wUQYAVuHp0QEAA5yrnh0dsVEGAFbh30cHAAzww+r06IiNMgCwCt+rfjY6AmCHPTk6YDMMAKzChSZ7LSbANnh8dMBmGABYlX8YHQCwg05lAIBq2QD8x+gIgB3ySHV2dMRm7B8dwNo6X/139aHRIQArdqb6k+rl0SGbYQPAKv1dEz0SA3CJPl89Nzpis/aNDmDtfbB6dHQEwIqcrG5qwhNQfQXAqj1TXVe9d3QIwDY7X/1x9YPRIZfCVwDshPuqfxsdAbDNPl09MTriUvkKgJ1ypPqX6l2jQwC2wcPVn42O2AobAHbKi9UfNumqDOA1Hq7uHR2xVQYAdtJ/Vu+rvjO4A+BSnKv+quWT/7nBLVvmJkB22n9Vf//qn38v/waBOZysPlydGB2yXfzyZYQLLVuAf6p+u7p+aA3AxZ2uPlfd1fK2v7XhJkB2g9+vPtlyZsDlg1sAanmj6Ynqoer5wS0rYQBgN7mmZcX2gZZ7Bd46NgfYQ85VT7e80vexlhf7THW2/2YZANjNrq5uqK6qfi3/XoHtdablBL8XWo4tPzM2BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADYTfaNDhjgiuqd1VurN1UHxuYAMMjZ6ufVC9Uz1emxOTtrLwwAB6sPVcerW1su/peNDAJg1zlf/ah6snq8erRlQFhb6zwAvL26v/podfXgFgDmcqo6UT1UnRzcshLrOABcVT1Y/XnW+wBszdnqC9VnqpfGpmyvdRsAjlePVNeODgFgrTxffbx6YnDHttk/OmCb7Gv51P+l6vDgFgDWz5uru1uuN08NbtkW6zAA7K++Un2i9dtoALB77Gu5mfxY9c3qwtCaLZp9ANhXfbm6Z3QIAHvGzdX11ddHh2zF7APAg9V9oyMA2HPe0/Lo4HdHh1yqmVfm76++1fxDDABzOl99sOVaNJ1ZB4DD1Q9ytz8AYz1X3VS9PDpks2b99PzZ6vbREQDseYdbTpydbgsw4wbgWPVsDvkBYHc4U93Qsg2Yxoxn4j+Qiz8Au8fBlqPnpzLbBuBAy2lMbxkdAgCvcaq6rmUbMIXZNgB35uIPwO5zdctx9NOYbQC4Y3QAAFyEAWCFbhkdAAAXcdvogM2Y6R6AK6tXmm9oAWBvOFcdqk6PDtmImS6m72iuXgD2lv0tjwNOYaYL6jWjAwDgDRwZHbBRMw0Ah0YHAMAbODw6YKNmGgAAgG0y0wDwyugAAHgDL40O2KiZBoCfjg4AgDfw4uiAjZrpMcArWrYAs77BEID15jHAFTldPTM6AgAu4odNcvGvuQaAqu+MDgCAi3hydMBmzDYAPDY6AAAu4vHRAZsx0z0A5XXAAOxOp6prq7OjQzZqtg3A2eproyMA4Jc80kQX/5pvA1B1rOVmwIOjQwCgOtPyDoDnRodsxmwbgKqT1RdHRwDAqz7fZBf/mnMDUMtZy9+vrhsdAsCedrK6qQlPq51xA1DLUYsfaTl0AQBGOF/d04QX/5r7VL2ftGwwbh2bAcAe9anqq6MjLtXMA0DVU9XR6ubRIQDsKQ9XnxwdsRWzDwBVj2YIAGDnPFzdW10YHbIV6zAAXKi+0fJdzC3Ne2MjALvbuerTLZ/8p7741/pdLG9v+T7m6OAOANbLyepj1bdHh2yXddgAvNaPW1YzB6r3VpePzQFgcqerz1V3tbztb22s2wbgtY5W97dMbN4dAMBm/Kw6UT3U8g6atbPOA8AvHKjuqI5Xt1U3tn6bDwC25lz1dMsrfR9rebPfVGf7b9ZeGAB+2cGWM5vfVh3KOwUA9qozLYf4vFA9++rfAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACq2jc6ANhRV1TvrN5avak6MDYHhjpb/bx6oXqmOj02Z2cZAGC9Haw+VB2vbm25+F82Mgh2qfPVj6onq8erR1sGhLVlAID19Pbq/uqj1dWDW2BGp6oT1UPVycEtAG/oquqvqzPVBT9+/Gz550zLEHC4NWMDAOvjePVIde3oEFhDz1cfr54Y3LFt9o8OALZsX/Vg9aXW8FMK7BJvru5u+f/21OCWbWEAgLntr75SfSIbPVi1fS030x6rvtnyFcG0DAAwr33Vl6t7RofAHnNzdX319dEhW2EAgHk9WN03OgL2qPe0PDr43dEhl8rKEOb0/upbGeJhpPPVB1v+L07HAADzOVz9IHf7w27wXHVT9fLokM3y6QHm89nq9tERQLUM5AebcAtgAwBzOVY9mzP8YTc5U93Qsg2YhjPBYS4P5OIPu83BlqO3p2IDAPM40HIa2VtGhwD/z6nqupZtwBRsAGAed+biD7vV1S3HcU/DAADzuGN0APC6DADAStwyOgB4XbeNDtgM9wDAHK6sXsnQDrvZuepQdXp0yEb4ZQJzeEf+v8Jut7/lccAp+IUCc7hmdACwIUdGB2yUAQDmcGh0ALAhh0cHbJQBAAD2IAMAzOGV0QHAhrw0OmCjDAAwh5+ODgA25MXRARvlMUCYwxUtWwBv8ITdy2OAwLY7XT0zOgJ4XT9skot/GQBgJt8ZHQC8ridHB2yGAQDm8djoAOB1PT46YDPcAwDz8Dpg2L1OVddWZ0eHbJQNAMzjbPW10RHAr/RIE138ywYAZnOs5WbAg6NDgP91puUdAM+NDtkMGwCYy8nqi6MjgP/j80128S8bAJjR4er71XWjQ4BOVjc14WmdNgAwn5eqj7QcOgKMc766pwkv/uVUMZjVT1o2eLeOzYA97VPVV0dHXCoDAMzrqepodfPoENiDHq4+OTpiKwwAMLdHMwTATnu4ure6MDpkKwwAMLcL1Tdavou8JTf2wiqdqz7d8sl/6ot/+WUB6+T2lu8jjw7ugHV0svpY9e3RIdvFBgDWx49bVpMHqvdWl4/NgbVwuvpcdVfL2/7Whg0ArKej1f0tn1i8OwA272fVieqhlndwrB0DAKy3A9Ud1fHqturGbP7gVzlXPd3ySt/HWt7sN9XZ/ptlAIC95WDLmeVvqw7lnQLsbWdaDvF5oXr21b8DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA5P4Hai45Ce28ckYAAAAASUVORK5CYII=",Mz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADvUlEQVR4nO2dy0sVURzHjwnWqiyISHehLSzCRVC00B4WRO1koH+gFla6rE3ULjDJVq6K1qHZAyqDzJa1CMxemxZlYY9N2mOj0CcOjnGFdF73en/nnN8HZuc932E+zj0zv/O7M8YoiqIoiqIojgBsANqByNOtHVhvpANsBW4Cc/jPHDAENBuJAIeAH4THDNBhBJ4ZIcooldJkpAAM/9u1cBk0gibwEOaMJGZFTPTAvsRdDYd2CUI6q30UBNEpQYi9LlfmiartQ4UEIuQX8By4F2/vcQPvhDwDjgJrlpirppCNV0LOAasSslqAaeTijZCLGTP3AC+RhxdC3gJ1OXI3Ap+RhRdCugpk9yAL54X8sf/pBbI3xWNIwXkh78qQ/wE5OC/kURnynyIH54XcKkP+HeTgvJDRMuSPIgfnhXwDagrmTyEH54VYdhXI3oksnBfyHWgskN0orJTivJCxMuQ/yZF7La6L1S4z7mbgZMbmDeeFTJYh/2PGzKsZxz+Y4ebTeSGWAwWyO3LkteTIeROSkJ95mgOYb+e0n83K2hxZD0MSYhnIkTuQMytTlyGwGvgampDfWa62mL+6sp/JwwRQnzKnBricYWxvhFjuprlJjA+S/dsifAIuAMeW6XDvyXEF55UQS2+KvF7k4p2QVynyJC7dLqBChOGdkPEUeePIxTshZ1LknUUu3gixpYn+5WpLJXm1wBVk4rwQK+J+nhI8sBt4kLPJYRI4n3DZ2w08DknICNBahvzWDKUNywtgXcqx7T1Pn+9C5or0Yi0FcCrlL7kyFTNtE5/vpZPjFdyXEynytbhYwnClZCwA3E4QouX3ErabCgPsSBByPeN49ucR+PiVNbGC+zSRJAXYlrCE2wCczrjm4pSQEIiq7UOFLEaFCEOFCEOFCEOFCEOFCEOFCEOFCEOFCMM5IfZReF22s9wIh0C63w8bx8Dj7vfEniup+Nr9PmIcBU+737/keaZJtfG9+72v6K9uV5JQut/H4s7ySPjWo93v7uPkGeIzUbV9qJDFqBBhqBBhqBBhOClkNO4sj4Rv3SF0v19y8Mawz1chrpZO6nwtnWhxUZiQ18ZR8LT8bjliHAOPu9+Jl0PtsmiDEQ7a/e4Fzp0hvhNV24cKWYwKEYYKEYYKEYYIIfpiSWEvltxbskOh0yZBSH38Yt7QmRXxcmILMFTtoyGAG0YKQHPc2R4q08AWI4n4sd8zgcrYbyQCNAGDgcwps/ZrStyZ8T/s5GavOASsi0cV2trSPh1bURRFURRFMQL4C6b7/Ri1ZZoBAAAAAElFTkSuQmCC",Gw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAI90lEQVR4nO1cB4wVRRg+UbH3XrD3Eo1GjLHFiLFEbNh7QVGDMSEKlmiiBIkKCkTsosYKdo0lGj2jQFQu3N3+/+7/70NygKiICmcvgM/8tzO3c+9e2X1v3+1yb75kksvt29mZ//un/GWmqcnCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCor+gubl5LQAahkhPAjAg8hIAWoXI+f5faCUAfw9ArYg01XX9U/L5/IDUyHAcvhiAO9IXDGeokAdAQ/ucDAAan37nOctlVJ8S0tbGuwLwdxnoeD57heYj4rZ9Nk3NmJFfU/4G8A9CpM70BcCZKcGakttd5NPR0bGu4/C5dSPDdf1jAOg/WcDz+fwaAUHesQD0V9qCwEwUUU7/YJGLKC0AvQHA/7iuu39dCAGgjw1NuMf4/1BEXtHgI+Mfx/FOEHmIsiLSE8az5+tARm73YHSYjaAbw+c8vPB54xRa6Tj+mVoWiDyukKzW1o5NEyUEka7prRVd09flISl0W+ONDPoP0b/aUMzrS/wu2a0wAE8p0ah/EfmkkDie1GCE3G4o7YWljGLzd0kR8mKZhv3uuv7h8juxVAH4hcYgg6eE8qETlXKW+v2kRAlB5NcqNO4nAH9f+W1LS8vaAPRe2gLDuhZ6SbtJAPgwAP6twjuP9CkhqpGLXdfdWZGyPiLPSl9wnHiR3WYul1tH+um67p6I9EOE99IgpGuk5Nravt5a3vE8bwvx7aQtQEy00FeIuKH0r7XV3wGAF0R8Nx1ClAZ9qRvd3p7bMUajM10AeJ5WtpaW+ZsgUnuM99MjRJHyESIODN7N7QfAP6/mZHxLRLtIf2bPXrQeAH0es450CVGdeEEvfIj+YNmNpS1YrKpQp/jtjA3Lu1XUkz4hASn0kK7Ddf0hYrWuZmT8ichHaZcIAE+rsq5sEKLKmCjGU9ZdIgA8oYb6skOIuBcA+KqwLm9k+sLmim1GpCuM/o+psc7sEKLKCkQ6LayP7s04ITcZbb2isuOUlgfecHoZgB+Tojy+nyDSIkR6OGuEFJuPn05b8Fi83FcptKAIahayEHEPHR8qhUrPUyIk0KT2djpQZ6wg8tsZICAfCpqf0cIT5VFKZBLxNyLf7zj+bqVlhZt7nred2CqJklAfQnrv6RFpZtpEYFDeESWRdonSIPKyAjLe0OFZDfHfyfoCwG9Jv3pvWGTLTF/IhkB2mTr8nSlCFCn+3Lm5raRux3E2UzldKZJBM8X/Ju0RZRHhGs//MGPjKiJ4YXW+OloscaNcLrdxpghRZQ4RbWT4hVLJ8QJgEKWQdoiSiLIYAvzG87xDtBwcxzsi8GfVrABLHYeurHptqRMhPVwsnuftJQ3tYzIWiDKokbGRKInxbKF+FowK71axTRL+/luy5mSGEEXK9ILYwq99QwgtbW+nvYP+4cBAObqfdXqed4B2lyDyq3Vsh4eIO2WGENWoqfpbkr1RbxcLAP8m5CvtHyD2g9GWlTqDJEjn4RmZS67rS0LUSDmvXi4WMFJ2ShDSbcQh8uSC95cE6whuK3FyiZQm2LY5OvCVmSnL3LvXw8UCQKsA/PP1N/T3wilLFttggXddPrmIhT65p1xwQwAeHTFqGKVMztSirtL7h4Ujhe5O9pveyLBPNEJ2duairkeOEnSx3OVPi8lHhaxH1ZrvLAqjE0ZS3fYS0fZ62yvWMAAdF5LCjyZE/t0G0cP0jsnc9hrfHF2qHnO6K4QydG8Qe6OGdn6WumGIyE5Bo37R+3+VWjShhg7KtHOLQcZxygVi/I5mijBDbS+3/aa2SgdzZC0A4OuqDV8D8JF9RkiMcOgSx+F9DK29ToiK9z1aKhsEo47DStWho4KIdHaEertd8+XlJmsTDw92UbFkNC2TzkVZU3pays42MoVVslUkhi+jysyplZFR6viE/D60hWh6hH4s1q6WKAj6SpdLVk5EOXVqv1odCak2HCrv0QjTzSBnL5RrfKx4aIVYqQ+A7pI53uyMIv6W8hn69LpuV4wzL3c0xYTYNXLGJlp6lD846wGqWa7Lx0f1/0jnXZdPj5iu0yVcsZijticYpdWdlFLr4nnlnKqOQ9fWhZAi4dBRtZALwAslV1bIYeYtzXbKbi2wH7oidjFsAxqh2nZSzLY8Wg0hPYnxzgpO8vaS2wN1T3IA4EvqcI7k3yB2Ub3jT9s+iN4FMd9dIemkTTVCnbh6s0BJnk2cEACaqOuQc9wVMsRTK67rD1GEXBb3XVkTaiUk+LaEg3vIbnrChNBzxlnEIyTQk7bgsaTieGcF7ZQFN9a7f8g0WSsZYiAXbv/LTof9PZUUgIfrg63VWv/VoK2tbQM5GljC5TI2KUJm6z16sGuhb9IWOEYULMC8QTHeW6JdP3EhIVwJ5QLQj6Xr9y6rmRAAcnUEbHU6jgBA74d9lTyq6DuzOFBRyTFRZoyym4WIB3YWyfEDYyh+kbagMTIh/FOYGM5PReirV9aSLkCgnDw2qtEpU1hZeyvukTZE/iBtIWPMIuuHtF95ACoILNqp2iBpgsZXEZbuTtZr5EOfjxh9mFfmd82ViFA+twnVHMEQO03H+hv9WPQynS9V5rz5KsehQ0vJSbbAgQx6ZjzGJKS0/WEQMrxY4xDpon52ccCdxsVsvdwZkn1SXD7zBslZmN5xlthk/CU3LVUkRHJZG+NqDVqu/WPBqa9Cdww9WDAidlHZ7olkyQDQzRXJMEbAR8Uun3FdPiPpBLI0CwC/YihawdRFna7L50hET4UPknQFvRYrk9F1/aMLr2dSVzb1u+uZAPxLDUWcWP/v0edVGZmyZjTGBWb0p94GB0ErvrNeU7LMPGK3NdWCYE3p71f8UfeFZKFrnpYnWL9M8+PEbquJjEa6BBOAfpGwge63HMSJFnOvWObIEtCUJIIzEvGyKVbPQisl8910lch0LUfy4m1zu0aEHIM7LfEjbhrSSDk6DECPq9h1v71IGYDm6gTtUCklw9E7VRnOH6qskmUqgile7llBONm/Wl/LYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWHR1J/xPyiXxjl18lFhAAAAAElFTkSuQmCC",Ez="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIpklEQVR4nO1cC6wdRRk+t7eKLxTEWu69O9+35/RAoUAwNGiICDFCeARFqIJgQZAiQjAkRAElkgABwrsloDwENIAioLwCEhqssYUITQAhNFFCBFpKBVqqSBH7OOSn/1znLuexu2fP2ek98yV/cnN3z+w//zc7M/9jtlIJCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhEmApgDslfkHwWwCqSG0k2BkA2AHgVwFMAriF5cKVSmVIaEwDmAviHB4Zp+CIAlhljvloGGReV3Xn6Laf3m5AqyZUedLzhobxAcvt+ETG3UqkMy99xHO8OYK0HBmj4IrKmGGNmiH1IfsQYc0TPyIjjeB+Sm2QBr1QqQ/q/fQG8U7Yh6IHo4PycmmsYwN0A3jXG7NITQkg+4jz8Qvt/WcRIrh9wMt41xuyvJhkieYNz/dbCyZDXUN+OcSWMMafZ6wDmJa8PkGwgeZhjiwuSZJHcplBCAHyviSJCwHH2HpI/8cA4jT7LJgAnOjY4pdl9hW+FSV7V7EEA/kfyQOe++R4YqdFHOdvp+9FtnOLx+woBgF+3Ueo/cRx/QW+dAuA2DwzV6INcZe0Tx/EBOjhb3Tu/aEJ+10G5N0juLPfOnj37QwAe9MBgjV4JgN/YMEkURXuSfKvD/T/vNyEiK+I4ptw/MjLyMZKPlm049kYeqdfrW0k/x8bGdgDwzxQElkKIPPjvtVrts/Kb0dHR7SS244EBGwXKE9OmTfuE9C+KojEAL6a0SzmE6MMft0qPjY1FaZXeAuR5O9hqtdqnAPw1g03KI0Rl4axZsz6sv51FcrUHBm10Ia+QjKU/URR9lOTiLL/3gRBR4ja78FWr1c/LbswDwzZy9GOtxO2cDcsDOdoonxCVq5029lOvtbEFyTpjzN7ahSEAN+Uk1RtCRJkzUzpPvodELuvCBv4QouGFE5y2TvXA2I1OOpM83tH5zG7a840QkfXGmK/Z9khe7IHRG20M+ENH1+M7BU4BvCn+CYDbSV6ncgOAPwJ4GcDPfCOk2Xx8c9mGZ3O5JEVqQd76RUJWFEV1mx9qgyEfCXl/JEVRtJs2O5XkfR4Q0HD0+6U1ngweGUSJ6/8leSmAWitbRVH0aQAj4qsUSkIvCGmxp19SNhHcLPfLIFG9diO5JkHG3TY9ayHxO11f7tV+bUxumQH8RTYEssu06W/fCBFF/1av16dp29tKTVfJZCyR+JsaOVbj2mtvJ3LjQ7pbzBOrWyF5o3q9/kmvCFFZOnPmzK2duFBZNV7PyqAQPWSQyGBxri0HsIe1A8m9JJ5VwIB8jeR3c68tPSJkQoilWq3uqIr2jQwAL8pgkOfL4JBB4lx7yV7Tt+LH6psUqcO9sub4RIjIb93cAoB/94mM1+I4ninPlUEhg8O5tjaKol1tuITkXT3UY1mtVoNPhIhS19hnSfVGH0Isbwn5TpbzdufaBqeCZJjkHd4V1/WTEEEcx0f2KsSCiSU7HyDEdeJILkj8dpWuI9tLnlwzpUXpttQmvryZsty9e49CLBtJfss+wz7PTlkyjdkFnuRBTTz0Ba5dJO8D4Iw0WcOUssC3RV3K++c4I/S8gt+OU5238CTZ2bmLun1zxNDNapcB/KmZfTRlfXoB9c4bnYKR8ra9xphRu+1Vb/jLzrOvLeh55zltznF2TOPbXuf6Ga3aSUx3EyCOLoAfqL+RV88/++AYPpO4/i9n/z+lm9C3Tjtn2b4I2Uq6e88SMaYd7e223wCe7nQwR9YCkifnTV8D+GI/CUmVDtUFdCfHkCcLUTm2tkc6I3jPVm3YrCCAb6Roezw03w4yHWuZ7QsZ9b7Jy+Ciril7WD2q1ep0mcJS+Cqr9a3aJvFmtDo+sdqOetlkpOjLChtqSQnp63FSlZPSTmttXK2XhORNh66TBdgNM+jZCwmNny8RWiFW2ztX5/ipCWOc1a5CH8DvHb1SnXkB8NNKdgzrUcCO5VFSh+B7gupRAF/JEP8ZjuP40DTlOta44jGn1Uff0rwnpaaor9UuqPr9XhEyIR2q28Pc5AJ4SWplhZyRkZHPuHrKbk39h+uy+Ab6BopuB2bU5dqchIwTQ/JwOcnbpO0rel7kAOCYos+RYHOR85puAn/W9yF5VMbfrpdy0kr3kKnsnkTbvyqcEACX2zbkHHeHCvHSBJuTR+IsfifHb+XcZdfQ3H0yglEoIbfY+V7jP2+XbXi2lsO1n3Mz/k6SV6PdkqGh/8Wpp8PJXkoKYJ5zsDWX958H06dP/7gcDWwRcjm/EEIAPGb36LprWV62wZnSsDNmzDAZ+rnKhn6yQlK4egTw9Vbty/RZBCHP2QzYlnQcAcAfnL6+nGVnlgVCoBZFdJwx2m4W0hAiHZHjB/ZVlGqLsg3N9PKG9dQB3Jiir8vaetIJyOBUJzbthxZWtvW3chxpe8gDIzeyiKwfor9GANrem/ZUrRZNXJQjLT1erDewhz7x//pbcdaeb3Pfok5EaMztspxHMDbZXP+gH4teY+ulWp03lwQSgNmt7KSRgvnJiseM0tr/cN6QeS2U+/Zk+nAAgHOcD7N9IJwh1SfN7KO7s6ub5FmyPv8d+dJSGkJqg/BpDQBv2viYnvqaEI4BcGVi5og1blZIlQyAH3Ukw3n4wmYfnyH59R4UkJUpdzp9O6VJre43JaMn4f4iQ0GyccpUyWiM+VKTzzPtMxk/z2SMOdZ5+y/vwzMX53Iydc0YhA+YrbPbYE1andPDKXmh+G2ZyWiypqwcoA+SVSQ0ryelivyq6QXit3VFxiB9BBObCyIOdvo9kjLn3kmWyhJQKRJ6RiJTNcUWKhuk8t0Nleh0fXPGba68EYs0lV3sEbdEAcFhJK+X3PVk/pAygCedAm23lPQQdZwf1qqSNSrL9VCPbItPtJ/lCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAioTGa8B/XWpSTu3sW7AAAAAElFTkSuQmCC",Tz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEK0lEQVR4nO2cX4hVVRSHl9OoiBSkiBREfyQoYaCIsCgo+stAJgTmk4GD9VRBqPhgUFQPUQ+W9FI9pNZD9lAKUUFRFKEQ6YOUBHXrZYzCyUJloKK+OHLUSwxu3eees39r7vrgvAwz666119l3zjl7f8csCIIgCIIgCIIgCIIgCIYE4ATBKY4rNKR3Op3gB4WG7Is+nGavQkN2n8ln6HlPoSGvDX0bzvCqQkOe7Uto2HlGoSGPlR4FIR5VaMiDpUdBiNUKDbm99CgIcZtCQ64tPQpCXKPQkMWlR0GIRQoNmQP8VXokBKjGYI4pABwuPRoCTJoKwIHSoyHAflMB+Kj0aAjwoakA7Cg9GgJsNxWAFzOLeNPEAL7JrOUFUwHYmFnEByYGMJlZywZTAXgos4ivbPasgK41FYB7M4vomRDAXPK5x1QArs8s4g8TAljSoCHXmQrApZlF/FudlSYCcHWDhlxiKgCjwD+ZhSw1EYAbZ8OJdRJgKrOY5SYCcHdmDUdMDeAQ+nyeqGF1ZtxvTQ3gM/R5N1HDw5lxPzU1gF3o83qihk2Zcd82NYBt6PN8oobnMuO+bGoAT6LPpkQNr2TG3WJqNPj+7ZKJRA1vZcZdb2oAq9BnVaKG9zPj3m9qADehz62JGr7MjLvC1ACuoh0OOlgLudLUABbSDj85WAtZaENkU011mP9xl9ZUxzbVnx0+IK0eEvqzpgrYVPOEd2CWt6YK2FSLO8h9mVtrqoBNdUUHud/g1poqYFONdZD7HW6tKac21ReJ3B9wa005tan2JHKfcGtNObWptidyf8KtNeXUptqayP1pt9ZUC9fyqbN3Hc15KvEZL7m1plqwqVJr3WtozuOJz3jDtTU1YJvqk0TMlTTnrHtvqxs819bUgG2qs266Bu6kOfe1sGtGx5oasE31XSLmzTTnlhZOJB1rasA21c+JmCPVal+1u6P63fOIW+2m3Fl/5V2Q+IwfXVtTA7apTpxH/JG+5vw6Q6yjfU045/229d/5taYGbFNV6xCjmT7HeHWm1sd4zqbn+urw74y8N5o6DWyqiwvmfJF7a6oFm+rygjlf5t6aasGmGiuY85h7a6oFm+pI3z/j0Q7y7L84mHRvTbVkU810uTq3pSY0fT+LnjXVgk018OZU9x+Z9zD+rKkCNtVvfc2Zd45N+KWlXPSsqcI21dG+5sz/XxNmumEcNHrWlJBN9Xt9dMku84ITm6opetaUc5uqKXrWlHObqil61pRzm6opetaUc5uqKXrWVAGbSgk9a6qATaWEpjWVmCWPAO8Ax/DPNPAxsFnphTlZAAuAu6o3KQBf44depRvUL6W50GYrwrNnetbMAsezpzcUs0B49kwP/SwQmD29mAVlZ890zIIys2e8frL8fX1sq3+2oOt8giAIgiAIgiAIgiAIgsCGjP8ATtjtOOJmsygAAAAASUVORK5CYII=",bz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADn0lEQVR4nO3dzW7TQBQF4JMX4a+sC23Z8c8LFAg/b1NSeK62UhSKeIC0oU8AtBtIF4XNQSMNUuQx4ATPnXun91uy6LFnZDl4fDyAc845ZxDJTZK7JA9IHpM854pa/vaqzuOx7Mdj20TNSA5IviA5Y4+Q5vQpTNAwHDtqQvI6yUNmgDQrh/ckr6EGJO+S/JJpoNiSl8sZycewjOQDkj8yDhJbMnMK53IfFoVLPOeV8VtLbm7hSrkBgzfwLPeMppZsCRNYQvKl0MCwJVvKcxi6Onr9afs3LflSjmAByS3BQWFLvqTb0I7kW8kRQZovaQTt4uMQMUjzJe1BO5InkiOCNF/SDNqRnEuOCNJ8SXNoR/K75IggzZf0DdqR/CQ5IkjzJR1Du7ieIAZpviQTN/WR5IggzZe0A+1IbkiOCNJ8Sesw8ugkrLSJQJovZQor4rKnCKTZUrZhRbxKwrJndkizJYxhDcmrvkClTFjurGwJ94LkPVTwksPnXCOENC+XU5KPUIO4vj7JMUpIs3IYk7yC2oRlz7DS1udIIc3o05TkU9QurLSRfBMePcT/s8xXHbGWv72qeTyWvXhs+lcDnXPOuZr7IR0f62zFt2MO4jtk5wv9kPBv3g9Z1ZIT8WrJFc1Z7LR4P6SrjpOxRvIjV/chdFxQA+l+SFN49tRTfnjr/QksK9EPWRQKNiR/9hgXzuUhLCrVD2nU6L5miAxXyk1YUrIfspD/P/eMfzk0daMv2Q8JSL4WiB7CAgX9kIHQy3r6X5JT0g+5Ixi/Ae0U9EPeCcZ7P6TDhEj2U0y8Slq6H3IiGO/9kA4TItlP8X5IhwmR7Kd4P6TDhEj2U/T/9FXQD9kXjDdxUy/dD9kVjPd+SIcJCauRUm5BOwX9kIHQoxsbn9Yo3Q8J4rJrbs9gRcl+yEJ+WHbNZWLq8XvJfkhjgSzXAtUaLCrRD1kUllt7zrf7ib9S/ZCML1nY/whmiX5Ips/UTqr5TKx0P+RP4o1+uORP8iMzn/LT2g9Z4uMGo0a+90Occ845S/0QJ7x/iFO2f4hT3g9xivohTlE/xCnqhzhl/RCnqB/ilPVDnLJ+iFO2f4hT1g9xyvYPcQ3ez1DG+xnKeD/jcvdDdkqfr3rC+4eslz5f9QT7IdPS52qGUD9ku/R5miHQDxmXPkdzMvZDzsxtMF9xP+TC/P4dFfVDTqvZv6OCfsi4yv07DPZDppdi/w6l/ZC579/hnHPOYWm/AK86/NY339oXAAAAAElFTkSuQmCC",Cz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEHklEQVR4nO3dy04bMRQG4GnCphDRi4TUVyiXlvYNelEfJpBCL+qqL9HLHtpukHgWuoDgQlWpDwELsih/ZdVTRSgk9tgeH/ucX4qEApKP+BiP4zMzVJVEIpFIJMwC4BGAzwAUgHPz0l9/0t9LXR+bAFgA8BXAJa6P/t4XAPOp6y06AJYAHMA++meXUtddMsYh3PMDwL3U9RcVNMcQFIIYdeRIIYRRR1AIYdQRFEIYdQTFAeNuZIw6egxZEluAdAF8QzuRI8XyKOkKSsIAuANg7sp7cwD2WjpSZPqacALfn4AiR0ri1dS+oNBb2u4LCh2MOoJCCKOOoBDCqLM3ZfV1AmAbwAMANwHcArAKYDPgB8tyV18e2yF716B0pozVAdAHcCEoYTGuRbH8I3gqKOExxlG6DVD0kRIi+U9fgXdtfzYE0dPXEbijRNhCf+NRy8uAdeSHEqmfse5Rj16JgSVKxObSokdNekkMdiiRO32LHnXdjlQTXZQW2q5rHrU9jlgXPZQWMHQGHvW9Q9zQQWkJA2aMToP6dE/lF+InPUqLGHX6DUHK7zwmwIDZm3rSoNay28GJMMZRNmZsLnbZ9OgTY4znN4D3E+p7C+B0xtZ9GSiEMP5nQo08mlwUMSxAykShimEJUhYKZQwHkDJQqGM4guTdo88BowFInj16c+vxd2SQyh3Et0c/ClC2vjt4wWVgfR84Cgbx6dHrKSxEdl22qqfdlF8KyElDEL0QGAYo/dLqiRPmcRVgALLtijE2xlag8j/aDKaXZxxA1jxAVgKVr2wGOwMPkJ4HSC9Q+WcCkiEIlylrlcCUdWwzmH7eFAeQTQIn9Q+2DwbjsOw99OjRHwco/Q+Ah7aD6od/lQ7StEc/QJjsuAw67/igsFxBLvR2iMPv5VnArRO3p90VvLl4NSOzHdKdMU0NAmGUveNb+YPUGZqT9YrZXF0w2+9bgc4ZYfrs1FGqcCCxo1h0Das8QMJhUEep6IOEx6CMUtEGiYdBEEVNus3NXChHYfuHzdWLI7PymbZMnTMXLIRYpjYJm+t7LwA8d6jxRaALE1zC6gr4zYRbHTZhdY/IIYAbDerrBPxgN6s+VndRbXjUN2CD0SLKfY/alllhtIQy71GX3pfK83MGYZSeR02LLDEioyx71KN3bXlMUy2ibHnU8prlkREZ5SjxpZ95HhmRUfoJl7z5Y0RAGSXqgZeDEQllI4seOLPpawjglVlB9cxr1bwn54xEKDGT72qqQBTFBiMDFMUOgzCKYotBEEWxxyCEogSDzpGiBIPO9KUEg845RQkGnRO9Egw6KEow6KAowaCDogSDDooSDDooSjDiohw4YBwU21yiEvy7ZXt3xsMN9E35Oz4X10ncYdb186bMhdTn5jU07zX+90gSiUQikVSZ5i9IYo09lLgGpAAAAABJRU5ErkJggg==",Pz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFpklEQVR4nO2da4iVVRiF91TalF0wzciMokxMUcKBypywYn6UUKSkYpYm2EUqJX8YIaV0wyApowwTMcKwm4UWigkGZWB0AYMTKGWmhpdGSC2lrFmxadcZ6sfs86397tvZD5y/513rW7PPnG9/736PUoVCoVAoCAJgEoD9KFRln76GrsI4CcCRylIK/3BYX0sXgbT++5YFllZXq0SnW+D42UkYJpAdpJgCsN1lIFvKFaX5xGUga3g9Tc87LgNZ2vSXk+cll4EscCCo2XnMZSD3hXaTAfe6DGR8aDcZMN5lIGNCu8mAa1wGMji0mwy41GUgZ4Z2kwFnOAvEhPJraEcJc8xpGCaQ70O7SpidEoFsDe0qYbZKBLI2tKuEWSsRyCuEoMUALkn89Szhf7lEIE8SgpaoxAHwPOH/CQlBDxKC3lCJA2A14f8BqUaHqnykEgfAZsL/JAlBYwlB36jEAVAj/I+VEDSUEHRIJQ6Anwj/QyUE9SUEdQHorRIFwCkA/iT895UQ1QLgN0LUBSpRAJxP+NbXrEVK2F5C2CiVKACuIHzvkRT2BSHsJssaF0VwE/jf152E7y8lA1lPCJtuWWMn8mK9ZCArCWHzmnQTc6VkIIsIYYubdBNzkWQgcwlhqyxrLEdePCQZyFRC2CYPm5gxcrtkIB2EsK8ta8xGXnRIBjKCEHbAssZk5MUIyUAGEML+AHCyRY3rkRcDJAPRx9tOEOLOs6gxDPlg9UfIhsIc/hxp8f79kA/7RcMwF2xblP/ghABwA+F3mw+BmwiBU1ViAJhC+P3Qh8BVhMC5KjEAzJG+GWYF6paeqjyjEgPA09LbRazAeYTAV1ViAFghvaHKCpxOCNygEgPAB9KPHFiBNxICv1KJAeBz6YdyrMBRhMAfVWIA2B31Y2vdrEAIPOFkAItHAByPurEDQC/T1lOVW82ucehXHwuvZyfR+qQb35A+Ay18DkmiOVC3hiJtuvRKt/B5bRLts7p5GmnTaenztiQazPXxAqRNzdLn/USNN+WTqAtdgrTZbOnzcaLGC/JJ1IXOR9qstvS5jKgxXz6JutCZSJvnLH2+R9SYKZ9EXejNZDf4dxavTsjxiKXPT4kat8gnURd6JSF0l2WNGZBjhqUG/YdRlauUL0yHelWOW9YYBznGWWr4hahxsfIFgNPIC3KWRY02yNFmUb8PWeN05RNylu9lFu8/CHIMsqivz4VU5YjyDTnLt93i/XsDeN/xzPkD5j173PQDcDVR51vlG3KW74QGaw003+wWmgtqs7n5uznxpW9ipwEY3shZP7MrXZUtyjfkLN9ZDjoohwO4S49fNU/1auZA0SzzEK0XWeNuwt+7TO0Qs3wXqMgB8Cjh7+UQgplZvktV5AB4kfC3MIRg/dFQlTUqcgC8HeojuargCVEMphcCwMe+vrTEMMt3h4ocANsJf2NCCB5MnpvYqOdI6W0YFQkALjQfxRvIczBDQoh3Ocu3Zo5ct/tuEzJfnx8291VMN01DW0NSZiRm+R4E8BqAiTp0Ac2tpg1I3zDuEdBvtXkqgodZvsfMeZQ5TNMZgHPN3fpbHn5xzurxgggBxmDUun20tTTwUcTMumqUz/wl8H/T6xCOXeaZt97jOtUMGWs3gTHfkFjWhQwkljEYhyP68csVIQPJbQyGC54KGQgzyzdXZocMhJnlmyuTQwbCzPLNletCBnJ5aPcRMixkIOeEdh8h/UIG0kKewcuNH8Rm9DYQymh9d+pwYy5Fusw1GK1iwewXTTQbgzkceeuJo6YD5h6bPq+g6BlRpvMwxF6Sj720DrarJSgJr56j3VZBsrPrU189tSxWQVUA9DerZxmAfQECOGSek+S7CsiOxDYPq6e5V0EEq6ez2yrocWBAQWb11Moq8Aj+niE8zfyc3UFz1OB1AHfob3U+tRQKhUKhoCLgL6Lrr+twC+XmAAAAAElFTkSuQmCC",Rz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEcUlEQVR4nO2dXchlUxjHD4NB+R7jI59lTJhRCIniwrfECJlppFwQJR/lToorTC6MEikamaFBSckFKS6QNGUYJMWFxsQU42u8w8xPq56Xc857zl5r7bX2zDPn/f/q3O29n7Wf31l77fXsdc7u9YQQQgghhBDCKcDpwBpgEyKVTZazxbVlLAOmkpshhgm5W1qzZ0hGOVNVeop1OVGH1TWEaMyoxw81hOyo2KDZzvYaQkRFJMQZEuIMCXGGhDhDQpwhIc6QEGdIiDMkxBkS4gwJcYaEOENCnCEhzpAQZ0iIMyTEGRLiDAlxhoQ4Q0KcISHOkBBnSIgzJMQZEuIMCXGGhDhDQpwhIc6QEGdMrJBe3XZvB94C7gPOBY4B9gX2AeYBZwO3Aa+V/t5SQuKsAhZkfEGPBp4yidlIyHh+BW4ouHJcAvxCJhIymr+Ai0qTA5wJ/EYGEjKaO4oT87+UJWQgITPZAOxVS4hJeYFEJGQmtyYk+CjgUvscG9n2BOAdEpGQQf4B5kcS/Ajwd98+4W7qJeCAoe3mAPcAv5OBhAzybUTGcsbzMTDXtlsEfEQLJGSQDyNCXqaZx4GHSiaHEjLI+xEhr9MxEjLIhoiQUB7pFAkZZEsYjBuEzLFSSmdIyEzOiSUllFSAb+gACZnJipSkWG8Jf234CRWRkNFFxUNzEgOcb6X3VhXefiRkNGvbJAY4CXjOJpitkJDxPNA2OcBpwLu0QEKaeaxtoRHYA7grd5IoIXE+ABYW9JaLbVxKQkLS2AasBI5sKeXy1AFfQvIITxKfBU5tIeXRlAAS0o7w17hvA5dlCDnEKgGNSEg568I4kSjlmdjBJKQOocc83VQHMyE3zlYh23ZRux+MxFwwaUJeBZ4o/Q/1MLdIOMaPVkR8JaN93yWMIxMh5OvpARTYOzzZi2z/ZqTNR0T2Xwsc3rft5sR2TkXizt3dhfwZShjTz6qnAQ4KT/ca9ruyFy9tjO0VI7a/ENia0N7PI3GPix2gVwrd8QZwYqT8fbMtJvgD+NkWGixLaPM1Tb1izD7X2hekaWC/KRL3vNhJJ6Q8enJdkXyPn8uYceiKhP1OsXFsuLd8AVyfsH/o7Y1kn8yIIF3x2fClqgZW9PtqRLwvw08MEo+xf5itA2eFMSYj9qexky46OQvSJSuLG5i31vbJXkcA16WccI1AXXN3lYz0/rvLWR8ZB26vFW/odvf7lJOtEaxrQpLur5SYVQnxQlX2zhrxLObBdrORRI2AO4s14edjLdu4n1Vpc3g+JLMwN2ekjBv9lMSbDroz2RwuYcMLmxvatidwtd0gtOEn4N5wycnMycn2/KR/UXYSrUX0Bd8VbLHLzy22sHm+Jf8wqxeFecaKMXdTbdhqq0qCnAuA44EDbS40zwRcBTwMvFfy5rrdVcjEIiETKEQvlqzHjhpC9OpVZ69eXV2xQbOdF2sIWazXd1chrGhZVCzEpCyVlGIZjaX7tj0lXL42lrVtVrExXKbCA7OqMoQQQgghhBCiV49/AXRFmx2yMnEsAAAAAElFTkSuQmCC",Lz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHl0lEQVR4nO2dCcgVVRSAJ7U0tdQyNdMW21xKbTErStMWM03KpRJKCWyxKAk0SYxMSYxIEwspKsqywowWbaEV2zRD22xfzFIrNbU0NU2/OLxj/NgsZ96bf+a9N/eDh+A/c+fee2bmnnPuOWc8z+FwOBwOh8PhcDgcjkoFaAPcANwDTAOuAw7Oul+5AzgUeAL4h/+zHXgUaJ11P6seoCEwFthENH8BE4AGWfe7KgEuBJYTn5+BYcBeWY+hKgBOBN6mdN4CumQ9nooFaAU8BOw0TPbfwA7DcbLmzASaZz2+igHYGxgF/GGYYBHWLKClaFfA/QEL/Z5s0LWoftbjLWuAc4AvsPEBcKpPGycB7xjb+Bron81oyxjgWODFpBZp+RswBPjR2OZrQCcv7wDNgCm6BljUWDm2cS2pyWK/TAeaeHkDqAdcDazBxjzgsBItellrdhmutU7XsLpeHgB6A58YBbEEOCPBa3cHFhmvvRTo4VUrwFHAHONkrNYnKPG7FKija9CvMZ7OI7xqAWikLoytMd7j+6fQr8bar22Gfm3R9Ws/r1JRTUfuxF9i3IlHZtDPo2M8uasq0g0DdAPeNw7yS6BvGfT5bOAzY58XA6d55Q5wSAxtZr1qM/W88tP+1hr6v0vH2sorN4B9Vd//0zCQHeriOMgrU4ADdC2z+Mc2l5WbP6Zb/A3geK9CANoDLxvHtkLWl6zvovnGzn4jgvMqFGAg8INxrM+kbu2rKrvM0Dnx2I4B9vEqHKABcIvRDfOxvMbT7JzsKUS5xR8Ut7hXZQCtdc8+SnGZkVaHmkcYeb5u8WqDgpv/3Qhj8sA0OnJJQAd+Ai6tOKOpdOP3cjUY/RicRiduDrh46lZ2uQB0DJiTMWlcXHRuPxokEGs1SX1Gu383xX3i9K5tB1ysCsVEDaIT2+cu4Hb9f9nA6pSEwiFaVcCcTCi17SwFMimg3Y5GC7sv8Ih6AOIgxt/rGvVYlBJSrQKZEtBuV4MPyrq/YvXqxrIjnEC8//Y1xL1RG6ywPJlOIDUAHqd2+R04wTOQ+ycEuNI4qbt0TRG19HtgJbAxhlA+t7yKcy0QoL7evUEsUy1KDLdGIdEoXYDrgYURQrnN0PdcC2RwyORNLGYfXlXgoK2DlVFt5l0gDwQc90qJ1+8f4p86N+LcXAvkpYDjRiYwNtnX92N8xHm5FsiigOOGJbTZ5seTEeflWiAvBBw3K4GxNQxQGOZHnJdrgdxHMLMlwafEfrTRKPzdv95RlnveBdKHaFZqrJV4pi8COtTmrmXeBVJXjby4SCLPd6oUTAWuAXolEf2Sa4HUCJqWsNOkkKiZp0RTk9gyLya5F4gADNDUtKQRW+Q9bd+0F+MEosgupd7ZlrzCYhC3SlsvAicQ/1SHWzXAwpK1G4ffJGAu4vr5XkMMk9MDuBG4V4P5lmnIZ7EsCdPSnEBKi7bsqpGI4/V1Z00MDYwgcQJJGA2KGBcSziPMCTk/n68s4HyNHqn5G5rIwArtNw3Ja/kq5LzcCmSpz9+3JVmRQY1FPzaGnJNbgSwIOKZ7wikIfmwOOSe3ApkVcMz0RAYX7itzrywfgYzAn61xwnYiBCKalx/zQs7J7RPSOiSNeVUpUfca5yWqcBDDQ87Np0AM+yG7dBtWUpfbeLY44PYaRvpRSLvrw2qs5F0grWJUYdiisVULteLPq/rvAk3HloI2Fi6L6Ht+BSJIjrgxtSwJIjOhci8QQV0gxWxUWZHX3zjPQNYCGR1w8Q5pOxcpBCVMMpYDjIOkb58co+8SBenH6FLmxHrxQSF1pkYWW8GnFG8vhTv0Kl0jrOuCX0retDglM3Q7eaSO3Y9BXkpV4MIG/alEahTR7p0B7cUq7aqxvxLXO1zXu5ka8PC8LuhzNbFnhlaf6AccXkSmVm8daxAyR029NNA7yZJA3y5Gm49VQu6ieoZlbFFMTTuJ/kNDp8SCnhxVJ1HXgnUBbaRzl9nqa0021v1anHrtE+2gBKbFqTNVJyA/MCj5ZrVXPnW/wvZKajI7TqHO2uhwnxi1dpdrysAA3Wa9VrdHY28KpUHMGo0yB328Cq0yaqVfRuNprZtfO2NUyS6/ei5SSkJ9TZY6U1EsTbsqhK6N44xegMqpIy81sTT3u1g2RYXe1JJ9ZS3B9CbQ2as0NNDZb9s1KlC6W4p97KwTbEEENtCrdICzgKcjDMo16gZplmJVo5nGqMdN+iorjzJ+Cddm7K3a1Vj9oNdQdRTWSflzGOuNDkb3PasyKQUrhu/ptdaZSoSCcvCsfvLolBLaOSYkoXNPxAC8Ik91vyyWcU9JtNzDDthdNrBFjLaaaEkmy+cwxCVyR6ZWdrkBnGfYdNqggdT1IgIWRsTY6p1bVQX3kwJoATxnnERxfff0aePMCHdMTaSsU69sRltBABcA3xonVV5tbeWDLxpTZSlzvlY1vXx8tCUJKGw0jTPmdew0CmK7fjc3FVunKqHg6LMW+A9DXDnHZT2eqoGC5hW2ZRpW5nxI1v2vSii4+UcZi5Bt0j119/HIFATTEng4IFd9m5ZwMtsrjuQE00rDcCTo4m6tzlC23yVxOBwOh8PhcDgcDofDi+JfHbK97AhTH/YAAAAASUVORK5CYII=",Iz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAALiklEQVR4nO2de7BVVRnANwIqvgiILDFIC5IKMMUXampWpkml9LAcM8DR7vSwNAWzh5pNxCMBU0PyQX9YPAKJZmoaVBoxzHAUEo0MrSRhAh88NeDyaz7uB3M47fXae+1z18Xzm7mjwznn29/aj7W+59pZ1qRJkyZNmjRpUgZgf+DtwOFAD+CA5hltIEBXYDhwL/AssJO92QYsA2YALcDbmheouotxCfAcYbQCi4DLgQMj6tIZOB64CpgFPAasBV7Wv2eA3wDfAo7N9iWANwPzKc9aYCxwWAld3g/cArwYeOxH5cnOOjoy5QAriMvLOp11DtDjHOChCMeeIzdY1hEBDgWepjqWAic6dBgKPBL5uKuAo7KOBvALqqcVGCfGQt2xewF36edV8AJwZNZRUEvKxuvAdOA8YCDQU+464AzgO8DDORaYa47fddcC5xZYI4qwRMz2LHWALo6p6gngGA85RwM/AF7xPEGvqsUUciE3AL8GxgAjgLP1v1cDf/T4/fey1AEutAzgSeBNgfK661OziXgsBD4LdPNYg8QvMrFFHNssZYDfGZR/zefJMCFzNjCz5IX4LXBC4HEPUl/IxK1Z4j6HaSGdHOkYnwT+E3gh/glcUOKYEtZZbZn2DslSRKeBPGRePzqyf7PW82LcDhwc4ZgXWY7xhSxFgDsNCv854jE6AVM8L8auY8s6FOG4+2n8LY+ZWYqo+ZnHhIgXYzLhLI70lNxokC+W4H5ZSujJkvk0j4siHePHlLOsSgUogZMs8vtnKQG8xaLsaRHkT3Kc8G0a1rCxoN6rL5A+EGsxjxFZSohJW9XdQ1sY3MZW9fp7A8sd351RUpeVBrnXZSkBDLOchENLyB3hiEnJNPmBmu/3djhzwjUl9HnAIHNKlhLAWQZFW0vIPF69YROb86ZD4K3A3y2/2yFPVEGdJNuZxy+zlABOtZyAYAsE6GNxxtC5/GxHLOxFx5M1sIBeEw3y5mcpISEJy+D3LxCuWIqdl3QRl791NenX2n9f45AhfkXPQN0mGGTdn6UEMMQy8B4e1stQzQTebXHAquAfWlTxFTVrDyho7c3NUgJ4p2XQA3MiuBIVvhX4k+ZHUmGbPp23aV5nr4iw5nHymJ2lhNxZFmvoLF0Tvg78AdhOx2GLFmlcpvVjsw3fm5alhmURfb7CdGojabU4hjdmHSiW9UagJUsNLZOpgn9pSvV+ndu/C1ypBXRfBD4t+Q79k/8fqZ99Q9KswB067SzRAoWQNK8vo7NU0CKF29This09Feg7rQI9Zew/k7Uytr6hOYIrgPUFB7FSfQgsa89hFeh9iCMQuc4Ss3KxUZ9e70K+WIPq51mZUc9jWlPbX53JHZYF9IwK9T/dYmjsUN36awWKy0nNQ85N36r0rx/Mx9UrDuH3tUUOWvD8uOX7ExowDpPXjeq25y7X+jEpwg5BogbnVz2IUQX9iAfr5MhjbfOeD6p0IG06dHMEIb9WV28mtV+hyNP2paoG4MpLuDzg7jWlnrYCuHMrGUD+mKTS0YTo2MsjveDDmNiKy+LtYpMj5/0pR8S0XUIQFu9bmKTfEfPZFDUeo6kAG2JqXxZL4Q96mLQP767iszTmSOCwr8Xb3RhqNmpkeJjGxuTvFFdFYo6MPnrsPF5TA0YKJYxBRW3NM31nN3IOzww8/bnFb7a8BFqWsydXDUw1fG+NRlZLP9a0Nd/MMSSwtuhdPyRAntzlJuZa1s3L66LWprHv5oXd02AhtKzfxPa8IjHgIw6lTIp289Cni06LPrGxVg2Xd/Zc4EWHUP6vthe41DGjTA+8DHsED7IIljnxc5buWtMUYGKk58VYQDjzPS+KWJAhPGWRdbElRCPn9L0el8A7fyzc5PittAb48hfPEzaZ4kz0kC++0VMBMsc55N1s+e1dLn3qhR1msRykx6OLh/Poy3DPNaOV4shvB3scJ0TvwR5P9DKLRepfjQN8ooyfoAucT0G09Ix0alAkeZZnBabo5GKZ53n8mEWGf2cv8CNLaX+nSNWGmNahHNPWVg7ky2ZPw8FUxR9c26UXWNIHefzQR8ZuQWLq5XF3gIzBjkGt8lw7hhGPkz3XkpWO6a9PhLV4ThYgRHLfpfvqHAHEloDqxVhc6HlMm8X1QOA5uMEgZ1GMC3JDpNJLYVTCF6TFIuPx9rggc8tm8LQv0GYZrfScsk6hsVNWF49KeqfFViNvRowpK8aifq3HCfqMpxe9hTiLurNHRJ06F7uCjp5Z1SiLus3s9SpUVofPxROeZu9syjPT0ypytTSgJn3XkpsoDI/lGD7p4RiKIxfTMRxS0jGUcMUgzy7fKHqrL7Y8imOoAu+xKHNzifRo0dDJJIoz3tPcXRHL0dSdKOKETlTg+xzBxYstv326guBi54J7b83zvOCjA+VuMFX2SxTcEVx8j8clCA6/i+BLc34jCZ2qwu+dNePoG34fHxB+d+V98vhwjqyRjvD7nYGXIThBNbUuQXWFJX9iMqdDE1SDNaKct85t1m04BgXIk93qTMyw9JpMrVszpKK/ugRVQAp3cU0Kd57lO/0ip3C7iW9Rk8I9ObT9Wf0lWwq3r6af83iuoSncGqWlVtbFZk2FbrCFXRyL8+woCoeNbY4rjyIFGpbvTPbYrWhn9Ppfaf2lHMMSLAM6z7MMqLuWMhXl2tQK5TbUrTOpFMqt8imU0+8/lFShXI1i52uZZAjP1La2eZSSjq90EO6ps76U9Bgthw1hfdH26yKD6Vuw2FoG+k1ggEex9WkV6n+mR7H1AC22lh2FQnmkYcXWdXf5lQUqTHzbEVZVsTmYrgcyLVbRjrBezf722x0IOEK7U6to2JlWgb62apqi7NCmpaC+90opEHrwYac6U49q2OQOrbO9Sk3xUTktbaP0s6s1OVTb0mYKhZfFP7fRKLT5/o3Kkiw1gO9bvN19pS36ecNn/85Sw7bLgTbdj9ZO2hjZv0YhzuCDwFd1rZQwkulipfVCGuBXPguzOmTiy/xEew7LeMCxeV3Xq6marNoriSRhc8tvo+28GgVLUHGix7YcJwJfVgvIZpLG5lkNHLboBjhdPVrASxc+NASdjkp73bQN2rUj0JqabZheqtmeaV3dv9tYGhqi0ZvHxNAsJXRj+ygdtbR1vZqixui+KsYpQjfWN4X50RzPEQX0kioSE6dmKSHb3BkUvbdEJHaH5QTIU3S4oQfd1vMnnx1XYpzGXY+ylLC0cy0sIfMa7CyrfQ2RvoPEFspp9a1etLw5yJpeSAbg2wZF/1pS7gyPi9JbS/9ly1gbY0vqIgFHEwOylNCwRR5bXXVcDrldPVrZVnmYz6V3h5AtaS3yy+XKYwO826LsCSVlH6jbhRfFq/TTQ4/PG+S/kqWGhuNfrer1QMDBHoUEedwSZ4TW/ecXZyliqcH9W4wcAW25jJCE0RTf4nDP40stch63ZymiO7wVrnT3fErkJS14FkRHe58u8C7LsdLajL/OLNxoccZ6lJB9gbZDhLCuzOuO6o5vKoLbHvqys4aimTMTiwqEK07XF3qVYVaZl0FKo79lf+EFWcpoAcRWh99wnIdVdUnB3dxMbNJsY68CsTVbr0v6Ly62vB6oNjW7UFOx0tTyIS0FvU7Tra7tjuplzQrYYGyzTj/OcLmW/ywr20rR7uh+J43Yx3c18NGaNyKEHLNVy3Wu12BkP31F3lHaQfZz4L8OGedkHQUtQC5S4u97MqfXGwnq1Y9rUMq41Nt62gW920wbmhVlsbzsxXHckyKvP3lTVek3v7UL2mMSY6+ShbIXV2DkoKXADqoulueF/TscunhLbVQIq7VjanBJ7/56R5WkL/OSKoaLgXY/jdUM44qa9OtaXZTv0xLVY2OWZKqXP7rA+9rR0lJjT2WTkgDv0HeC3KeV+fXW1Da9CD/VPEtab/Lc16FtvemppvORHcK3aNKkSZMmTZpkSfM/Urbr/Dj7wgcAAAAASUVORK5CYII=",Nz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFRElEQVR4nO2da4iVRRjHx82stctmFzXtqhWEot2plIgutgRRFhSVUVS0ZKT0IYy2oKJaI7ILFVFYJlgkYYlSRGVX6OJiUVhpWdaiXegidlnS3F8M5/lwOu0579lzZs47M+/z++In552Z58zlef7PM2uMoiiKoiiKoiiKoiiKoiiKoiiKEgTAgcAU4BTgXGAmcAZwEnAAsHPefUwaYBJwK7AS+Jls/gY+BB4FrgQm5z2G6AFGAFcB7+GGL4G7gaPyHlt0AOcDX+GPz4EuoD3vscZwNrxO6/hRtsK98x57cADn1Xk++OA3YB6wiyk6wE7AAsJgvf1hmKIC7Aa8SHisBMabIgGMBlYTLr8Al5kiAIwBPiUOlgGjTKoAY4G1xMVG4ESTGsBB4qDFyHa5iQ0zKQAcDGwgfpZH77cAhwN9pMNGV1sYMA54AHgbeAu40WsEATgE2Ex6bANuaGYLA6YDWwdp+wNvTirwCmnzArBXA/MyEvimRrt3+DDGPsAA6dMHdA5xbnoy2vzMh0GOoDgMAE8AHXXMyyxgR0Z7/T4MsivwJ8XiV2A+cALQVjEfE4DH6tw11jg3iHTi3hof7ZcDbAXwNLAUeEluHH0JbHd/iPbSm3FeDMb1PpW/Zwb54OKskASlFWbl20uAB8V49naTOluAPbwYpGxyjwHmANcCRzfRzkhJaliUo37imwUmRoDhknWyinT4BzjUxA4wFXg2gXNnoUkJYBqwjnhvaPuZRJXIxcTHbJMywGxJmouBNTa/wKQOcGwDPkCrsf7YVFMw/X4V4XJ5qydkmBV1JHQwUf7tyOGKfE+At7Ae3wO3nnkncLuE3n/KWKo2F+o5EWZOBfb03L+ZcpsJgYXeJGHgSOC+DAPUg42CvikH8hiPKatWncuTxyuDj64GN17CGFnh5Ea91tfkV93mIWOyO4dbmN0yu12OpXxAN0lEsxWsA66xAUfH45jksOQhix+As132v3xVvEE+bAKucLlibFs23O0xWDkgjupoV30u7/yMQKKsvbakzfHYOoC7HItqrwInu+xneYevDlCPWOQ61VP8lnlN5JFtkUP7OJf9qvQj7C8nVDbbMLyHcbdJYeltomJurbIdbZKVcCdwuteiUzGGLZ6MgadsYNHbZJTmo12yMCdKklvrinzEGI8QF1/YkmmTGnKttftzjPQDc01ixohRT6jk+UayCoPCHkgykFRY76o2XbbwC4GHgCcl4W24i7ZrrYwQa/5cbGFdTc7NKOCdQdp+H9jdnRX++1EbCkmZJY1Onvzfajzs3hqlj6ZQUJOFreCaPsR5OS2jzd+9bF0SXS0CO6Q2vt1hfcsEHwb5mmLxrRTdjKtynl4kz29ksc2LQyr6QC3+Ar4DPgI+li0uhEBjswxIZfAKuT0tH2LV11LnxijTnW1ddiV25ZxZLU1FwgmT5b2SbhlYs8phTEzzYpCyu/Y5Uohos9bnNpqJLcWec+SFH1tWnCKrTYxI1klXhI8GZDHLxIyswBkSrk4hCjDCpILVl6XmO1Y6TWqIbGpL2WJjmUkZySgJTR6udf2Pv6gmC5FLvyd8rjNFQWTRdwkXP05gyIiDOp/w6PWt2QcNcHGVTI88sJmTY03RAQ6T+vS8Eyf+F4AsLJRk5Z6c5AGrEu6b9xwECaX3Qz5pYQTYvh6hjyvXsVpu8fyozYYkvXCfAPvLyzrbHb/Ve7M+0t/8oX9/k2Vqa5uRGZTqItmlkm1ppdlaWOO9LKshvbTTgB9sngKcBVwgfxLp+CSfrlAURVEURVEURVEURVEURVEURTFx8i+peRU6TzcOagAAAABJRU5ErkJggg==",Dz="/assets/php-C3SvXeRX.png",Uz="/assets/bootstrap-BZpkuyDN.png",kz="/assets/photoshop-DFdeHoYE.png",Oz="/assets/illustrator-CRBV-J7Y.png",Fz="/assets/blender-D-ZQ2wIy.png",Bz="/assets/mysql-BGKT7ZpA.png",Ww="/assets/alx-Cdc5p-zb.png",zz="/assets/profound-TRFKQcgb.png",Vz="/assets/aistarter-Dwv20zmx.png",Hz="/assets/agile-CbGBOVfC.png",Gz="/assets/hplife-BcnaIQzP.png",Wz="/assets/tms-CwZqizlX.png",jz="/assets/lms-DY1Jri01.png",Xz="/assets/chefGPT-xD12CR_Z.png",Yz="/assets/note-24NRQSjB.png",Qz=()=>{const[i,e]=J.useState(0),[t,n]=J.useState(""),[r,o]=J.useState(!1),a=["Full-Stack Developer","Graphics Designer","UI/UX Designer"];return J.useEffect(()=>{const u=a[i],d=setTimeout(()=>{r?t.length>0?n(u.slice(0,t.length-1)):(o(!1),e(m=>(m+1)%a.length)):t.length<u.length?n(u.slice(0,t.length+1)):setTimeout(()=>o(!0),2e3)},r?30:80);return()=>clearTimeout(d)},[t,r,i]),W.jsxs("section",{className:"relative w-full h-screen mx-auto overflow-hidden bg-primary",children:[W.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[W.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-blueAccent/20 rounded-full blur-3xl animate-pulse"}),W.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-skyBlue/20 rounded-full blur-3xl animate-pulse delay-1000"}),W.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
        w-[600px] h-[600px] bg-blueDark/10 rounded-full blur-3xl animate-pulse delay-500`}),W.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),W.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-10",children:[W.jsx(Nt.line,{x1:"0",y1:"0",x2:"100%",y2:"100%",stroke:"url(#gradient1)",strokeWidth:"2",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,repeat:1/0,repeatType:"reverse"}}),W.jsx(Nt.line,{x1:"100%",y1:"0",x2:"0",y2:"100%",stroke:"url(#gradient2)",strokeWidth:"2",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,delay:1,repeat:1/0,repeatType:"reverse"}}),W.jsxs("defs",{children:[W.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[W.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0"}),W.jsx("stop",{offset:"50%",stopColor:"#3b82f6",stopOpacity:"1"}),W.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),W.jsxs("linearGradient",{id:"gradient2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[W.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:"0"}),W.jsx("stop",{offset:"50%",stopColor:"#60a5fa",stopOpacity:"1"}),W.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:"0"})]})]})]})]}),W.jsxs("div",{className:`${kr.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto 
        flex flex-row items-center gap-5 z-10`,children:[W.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[W.jsx("div",{className:"w-5 h-5 rounded-full bg-blueAccent shadow-[0_0_20px_rgba(59,130,246,0.8)]"}),W.jsx("div",{className:"w-1 sm:h-80 h-40 bg-gradient-to-b from-blueAccent via-blueLight to-transparent"})]}),W.jsxs("div",{className:"flex-1",children:[W.jsx(Nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:W.jsxs("h1",{className:`${kr.heroHeadText} text-white font-poppins`,children:["Hi, I'm"," ",W.jsx(Nt.span,{className:`block sm:inline text-transparent bg-clip-text 
                bg-gradient-to-r from-blueAccent via-blueLight to-skyBlue
                font-extrabold uppercase sm:text-[90px] text-[50px]
                drop-shadow-[0_0_30px_rgba(59,130,246,0.5)]`,animate:{backgroundPosition:["0%","100%","0%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% auto"},children:"Eyuel"})]})}),W.jsx("div",{className:`${kr.heroSubText} mt-4 text-white-100/80 min-h-[80px] sm:min-h-[60px]`,children:W.jsxs("div",{className:"flex items-center gap-1",children:[W.jsx("span",{className:"text-blue-500 font-mono",children:t}),W.jsx(Nt.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"inline-block w-[3px] h-[1.2em] bg-blueLight ml-1"})]})}),W.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-10 flex flex-wrap gap-4",children:[W.jsxs(Nt.a,{href:"#projects",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`px-8 py-4 rounded-xl font-bold font-beckman text-[16px]
              bg-gradient-to-r from-blueAccent to-blueLight
              text-white border border-white/20
              shadow-[0_0_30px_rgba(59,130,246,0.5)]
              hover:shadow-[0_0_40px_rgba(59,130,246,0.8)]
              transition-all duration-300
              relative overflow-hidden group`,children:[W.jsx("span",{className:`absolute inset-0 bg-gradient-to-r 
              from-transparent via-white/20 to-transparent
              translate-x-[-200%] group-hover:translate-x-[200%]
              transition-transform duration-700`}),W.jsx("span",{className:"relative z-10",children:"View My Work"})]}),W.jsx(Nt.a,{href:"#contact",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`px-8 py-4 rounded-xl font-bold font-beckman text-[16px]
              bg-primary/60 backdrop-blur-sm
              text-white border-2 border-blueAccent/50
              hover:bg-blueAccent/20 hover:border-blueAccent
              shadow-lg hover:shadow-[0_0_30px_rgba(59,130,246,0.4)]
              transition-all duration-300`,children:"Get In Touch"})]})]})]}),W.jsxs(Nt.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},className:`absolute
  top-[65%] right-4
  sm:top-[56%] sm:right-[-2%]
  md:top-[45%] md:right-0
  lg:top-[39%] lg:right-11
  xl:top-1/4 xl:right-5
  -translate-y-1/2
  w-[280px] h-[280px]
  sm:w-[300px] sm:h-[300px]
  md:w-[320px] md:h-[320px]
  lg:w-[420px] lg:h-[420px]
  xl:w-[480px] xl:h-[480px]
  pointer-events-none z-10`,children:[W.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-to-br 
        from-blueAccent via-blueLight to-skyBlue opacity-30 blur-2xl
        animate-pulse`}),W.jsx(Nt.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:`absolute inset-0 rounded-full 
          bg-gradient-to-br from-blueAccent via-blueLight to-skyBlue
          p-[3px]`,children:W.jsx("div",{className:"w-full h-full rounded-full bg-primary"})}),W.jsxs("div",{className:`absolute inset-[3px] rounded-full overflow-hidden
        border-4 border-primary bg-gradient-to-br from-primary/80 to-primary/60
        backdrop-blur-sm shadow-[0_0_60px_rgba(59,130,246,0.4)]`,children:[W.jsx("div",{className:`absolute inset-0 bg-gradient-to-t 
          from-blueAccent/20 via-transparent to-transparent`}),W.jsx("img",{src:pz,alt:"profile",className:`w-full h-full object-cover relative z-1
            scale-110 hover:scale-115 transition-transform duration-700`}),W.jsx("div",{className:`absolute inset-0 bg-gradient-to-br 
          from-transparent via-transparent to-blueAccent/10`})]}),W.jsx("div",{className:`absolute -top-4 -right-4 w-3 h-3 rounded-full 
        bg-blueAccent shadow-[0_0_20px_rgba(59,130,246,0.8)] animate-pulse`}),W.jsx("div",{className:`absolute -bottom-4 -left-4 w-3 h-3 rounded-full 
        bg-skyBlue shadow-[0_0_20px_rgba(14,165,233,0.8)] animate-pulse delay-500`}),W.jsxs(Nt.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.2,type:"spring"},className:`absolute -bottom-2 left-1/2 -translate-x-1/2
          px-4 py-2 rounded-full
          bg-primary/90 backdrop-blur-md
          border border-blueAccent/50
          shadow-[0_0_20px_rgba(59,130,246,0.4)]
          flex items-center gap-2`,children:[W.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),W.jsx("span",{className:"text-white text-[12px] font-semibold font-poppins",children:"Available for work"})]})]}),W.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center z-10",children:W.jsx("a",{href:"#about",children:W.jsx(Nt.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:`w-[35px] h-[64px] rounded-3xl border-4 border-blueAccent/50
            backdrop-blur-sm bg-primary/30
            flex justify-center items-start p-2
            hover:border-blueAccent transition-colors duration-300
            shadow-[0_0_20px_rgba(59,130,246,0.3)]`,children:W.jsx(Nt.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:`w-3 h-3 rounded-full bg-blueAccent 
              shadow-[0_0_10px_rgba(59,130,246,0.8)]`})})})}),W.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((u,h)=>W.jsx(Nt.div,{className:"absolute w-1 h-1 bg-blueAccent/30 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},h))})]})},jw=[{id:"about",title:"About"},{id:"projects",title:"Projects"},{id:"contact",title:"Contact"}],qz=[{title:"Frontend Developer",icon:vz},{title:"Backend Developer",icon:mz},{title:"UI/UX Design",icon:gz},{title:"Graphics Design",icon:yz}],Zz=[{name:"HTML 5",icon:Pz},{name:"CSS 3",icon:Tz},{name:"JavaScript",icon:Rz},{name:"React JS",icon:Iz},{name:"Tailwind CSS",icon:Nz},{name:"Node JS",icon:Lz},{name:"git",icon:Cz},{name:"figma",icon:bz},{name:"php",icon:Dz},{name:"mysql",icon:Bz},{name:"bootstrap",icon:Uz},{name:"photoshop",icon:kz},{name:"illustrator",icon:Oz},{name:"blender",icon:Fz}],Kz=[{title:"ALX Professional Foundation",company_name:"ALX Ethiopia",icon:Ww,iconBg:"#333333",date:"Aug 2024 - Oct 2024",points:["Developed essential workplace & professional skills such as effective communication, teamwork, time management, problem solving & personal branding.","Gained experience in project-based learning, ethical leadership and using digital tools to work productively in a professional environment."],certificateImage:zz,certificateLink:"https://www.linkedin.com/posts/eyuel-getachew_share-7258002093364416512-dGY5?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFCjG0QBPqkXH4NBzT-f3NeL8u8RvVr0U0Y"},{title:"Agile Project Management",company_name:"HP Life",icon:Gz,iconBg:"#333333",date:"Jan 2025 - Mar 2025",points:["Learned the core principles of Agile and how to manage projects using iterative and flexible methods.","Gained skills in planning, prioritizing tasks, and adapting to change during a project lifecycle.","Developed teamwork and communication skills for collaborating effectively in project environments."],certificateImage:Hz,certificateLink:"https://www.linkedin.com/posts/eyuel-getachew_agileprojectmanagement-projectmanagement-share-7304443570961235968-3y1b?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFCjG0QBPqkXH4NBzT-f3NeL8u8RvVr0U0Y"},{title:"ALX AI Starter Kit",company_name:"ALX Ethiopia",icon:Ww,iconBg:"#333333",date:"Feb 2025 - April 2025",points:["Learned the basic concepts of Artificial Intelligence, including how AI systems work and where they are used in real life.","Gained an introduction to machine learning, data, and how models are trained to make predictions or decisions.","Developed awareness of ethical AI use and how to apply AI tools responsibly in problem-solving."],certificateImage:Vz,certificateLink:"https://www.linkedin.com/posts/eyuel-getachew_ai-artificialintelligence-learningjourney-share-7320075796490993664-D0Qj?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFCjG0QBPqkXH4NBzT-f3NeL8u8RvVr0U0Y"}],dd=[{id:"project-1",name:"Tourism Management System",description:"Discover ancient Lalibela, trek the Simiens, and experience the heart of Ethiopia.",tags:[{name:"PHP",color:"blue-text-gradient"},{name:"Bootstrap",color:"green-text-gradient"},{name:"MySQL",color:"pink-text-gradient"}],image:Wz,repo:"https://github.com/Eyuel-G/Tourism-Management-System",demo:"https://tourism-management-system.rf.gd/"},{id:"project-2",name:"Chef-GPT",description:"An intelligent recipe recommendation system powered by the LLaMA 3.1 large language model deployed via the Hugging Face platform.",tags:[{name:"React JS",color:"blue-text-gradient"},{name:"Tailwind CSS",color:"green-text-gradient"},{name:"Hugging Face",color:"yellow-text-gradient"}],image:Xz,repo:"https://github.com/Eyuel-G/Chef-GPT",demo:"https://chef-gpt-593m.onrender.com/"},{id:"project-3",name:"Note-Taking App",description:"A lightweight note management system that enables users to CRUD operations through a React.js user interface and a Node.js backend service.",tags:[{name:"React JS",color:"blue-text-gradient"},{name:"Node JS",color:"green-text-gradient"},{name:"MongoDB",color:"pink-text-gradient"},{name:"Tailwind CSS",color:"yellow-text-gradient"}],image:Yz,repo:"https://github.com/Eyuel-G/Note-Taking-App/tree/main",demo:"https://notes-frontend-tvd1.onrender.com/"},{id:"project-4",name:"Libaray Management System",description:"Library Management system built with Java using JavaFX for UI and apply, have role-based UI for both customer and admin",tags:[{name:"Java",color:"blue-text-gradient"},{name:"Java FX",color:"green-text-gradient"},{name:"SQL",color:"pink-text-gradient"}],image:jz,repo:"https://github.com/Eyuel-G/Library-Management-System",demo:"https://drive.google.com/drive/folders/1CMDr4dnML75QSQhPeO14shYMlVu3bdK0?usp=drive_link"}],Jz=()=>{const[i,e]=J.useState(""),[t,n]=J.useState(!1);return W.jsx("nav",{className:`${kr.paddingX} w-full lg:max-h-12 flex items-center py-6 fixed 
      top-0 z-20 backdrop-blur-md bg-primary/80 border-b border-blueAccent/20 
      shadow-lg shadow-blueAccent/10 transition-all duration-300`,children:W.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[W.jsxs(h2,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity duration-300",onClick:()=>{e(""),window.scrollTo(0,0)},children:[W.jsx("img",{src:dz,alt:"logo",className:`w-[60px] sm:w-[80px] md:w-[100px] lg:w-[120px] h-[48px] object-contain 
                       drop-shadow-lg filter brightness-110`}),W.jsx("h1",{className:`text-[26px] font-serif montserrat
                         bg-gradient-to-r from-blue-400 via-sky-400 to-cyan-400
                         text-transparent bg-clip-text
                         drop-shadow-[0_0_10px_rgba(59,130,246,0.7)]
                         tracking-wide`,children:"Eyuel's Portfolio"})]}),W.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10 mt-2",children:jw.map(r=>W.jsx("li",{className:`${i===r.title?"text-blueLight border-b-2 border-blueLight":"text-white-100"} hover:text-blueLight hover:border-b-2 hover:border-blueLight 
                text-[18px] font-medium font-poppins uppercase tracking-[2px] 
                cursor-pointer nav-links transition-all duration-300 pb-1 
                border-b-2 border-transparent`,onClick:()=>e(r.title),children:W.jsx("a",{href:`#${r.id}`,children:r.title})},r.id))}),W.jsx("div",{className:"sm:hidden flex flex-1 w-screen justify-end items-center",children:t?W.jsxs("div",{className:`p-6 bg-primary/95 backdrop-blur-lg absolute 
                top-0 left-0 w-screen h-[100vh] z-10 menu border-r border-blueAccent/20
                ${t?"menu-open":"menu-close"}`,children:[W.jsx("div",{className:"flex justify-end",children:W.jsx("img",{src:Az,alt:"close",className:`w-[28px] h-[28px] object-contain cursor-pointer 
                  filter brightness-0 invert hover:opacity-70 transition-opacity duration-300`,onClick:()=>n(!t)})}),W.jsx("ul",{className:`list-none flex flex-col gap-8 
                items-start justify-center mt-[8rem] ml-8`,children:jw.map(r=>W.jsx("li",{id:r.id,className:`${i===r.title?"text-blueLight":"text-white-100"} text-[48px] font-bold font-poppins 
                      uppercase tracking-[2px] cursor-pointer 
                      hover:text-blueLight transition-colors duration-300
                      border-l-4 border-transparent hover:border-blueLight pl-4`,onClick:()=>{n(!t),e(r.title)},children:W.jsx("a",{href:`#${r.id}`,children:r.title})},r.id))})]}):W.jsx("img",{src:wz,alt:"menu",className:`w-[28px] h-[28px] object-contain cursor-pointer 
              filter brightness-0 invert hover:opacity-70 transition-opacity duration-300`,onClick:()=>n(!t)})})]})})},wp=i=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:i}}}),Pl=(i,e,t,n)=>({hidden:{x:i==="left"?100:i==="right"?-100:0,y:i==="up"?100:i==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),$z=(i,e)=>({hidden:{},show:{transition:{staggerChildren:i,delayChildren:e||0}}}),Mp=(i,e,t="")=>{function n(){return W.jsxs(Nt.section,{variants:$z(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.15},className:`${kr.padding} max-w-7xl mx-auto relative z-0 ${t}`,children:[W.jsx("span",{className:"hash-span",id:e,children:""}),W.jsx(i,{})]})}return n},e5=({index:i,title:e,icon:t})=>W.jsx(Nt.div,{variants:Pl("right","spring",.5*i,.75),className:"xs:w-[250px] w-full group",children:W.jsx("div",{className:`relative bg-primary/40 backdrop-blur-sm rounded-[24px] 
        border border-blueAccent/20 hover:border-blueAccent/50
        transition-all duration-500 hover:shadow-[0_0_30px_rgba(59,130,246,0.3)]
        hover:-translate-y-2 p-[1px]`,children:W.jsxs("div",{className:`bg-primary/60 backdrop-blur-sm rounded-[24px] 
          py-8 px-12 min-h-[280px] flex justify-evenly items-center flex-col
          transition-all duration-500`,children:[W.jsx("div",{className:`w-20 h-20 rounded-full bg-blueAccent/10 
            flex items-center justify-center mb-4
            group-hover:bg-blueAccent/20 transition-all duration-500
            group-hover:shadow-[0_0_20px_rgba(59,130,246,0.4)]`,children:W.jsx("img",{src:t,alt:e,className:"w-12 h-12 object-contain"})}),W.jsx("h3",{className:`text-white text-[18px] font-bold text-center
            group-hover:text-blueLight transition-colors duration-300`,children:e})]})})}),t5=()=>W.jsxs("div",{className:"-mt-[6rem]",children:[W.jsx(Nt.div,{variants:wp(),children:W.jsx("h2",{className:kr.sectionHeadText,children:"Overview."})}),W.jsx(Nt.p,{variants:Pl("","",.1,1),className:"mt-4 text-white-100/70 text-[18px] max-w-3xl leading-[30px]",children:"I am an aspiring developer driven by a passion for continuous learning and building visually compelling, community-focused solutions. I take pride in my dedication to every project, constantly refining my technical stack to meet modern challenges. I ensure that every line of code contributes to a meaningful user experience while actively seeking opportunities to push my boundaries and scale my impact."}),W.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:qz.map((i,e)=>W.jsx(e5,{index:e,...i},i.title))})]}),n5=Mp(t5,"about"),i5=({technology:i,index:e})=>W.jsx(Nt.div,{variants:Pl("up","spring",e*.1,.75),className:"w-28 h-28 group",children:W.jsxs("div",{className:"relative w-full h-full",children:[W.jsx("div",{className:`absolute inset-0 bg-blueAccent/20 rounded-full blur-xl 
          opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),W.jsx("div",{className:`relative w-full h-full rounded-full 
          bg-primary/40 backdrop-blur-sm
          border border-blueAccent/30 
          group-hover:border-blueAccent/60
          shadow-lg group-hover:shadow-[0_0_30px_rgba(59,130,246,0.4)]
          transition-all duration-500
          group-hover:scale-110
          flex items-center justify-center overflow-hidden`,children:W.jsx(qk,{icon:i.icon})}),W.jsx("div",{className:`absolute -bottom-8 left-1/2 -translate-x-1/2 
          opacity-0 group-hover:opacity-100 transition-all duration-300
          whitespace-nowrap pointer-events-none`,children:W.jsx("span",{className:`text-white text-[12px] font-semibold font-poppins
            bg-primary/90 backdrop-blur-md px-3 py-1 rounded-full
            border border-blueAccent/50 shadow-lg`,children:i.name})})]})}),r5=()=>W.jsxs("div",{className:"relative",children:[W.jsxs(Nt.div,{variants:wp(),children:[W.jsx("p",{className:`${kr.sectionSubTextLight}`,children:"Technologies I work with"}),W.jsx("h2",{className:`${kr.sectionHeadTextLight}`,children:"Tech Stack."})]}),W.jsx(Nt.p,{variants:Pl("","",.1,1),className:"mt-4 text-white-100/70 text-[17px] max-w-3xl leading-[30px]",children:"I have experience working with a diverse range of technologies and tools that enable me to build robust, scalable, and modern applications. Here are some of the key technologies I use regularly."}),W.jsx("div",{className:"mt-20 flex flex-wrap justify-center gap-12",children:Zz.map((i,e)=>W.jsx(i5,{technology:i,index:e},i.name))}),W.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-blueAccent/5 rounded-full blur-3xl -z-10"}),W.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-skyBlue/5 rounded-full blur-3xl -z-10"})]}),s5=Mp(r5,"");var pd={},cy={exports:{}};var Xw;function Jb(){return Xw||(Xw=1,(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var u=t.apply(null,o);u&&n.push(u)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var h in o)e.call(o,h)&&o[h]&&n.push(h)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(cy)),cy.exports}var Yw;function o5(){if(Yw)return pd;Yw=1,pd.__esModule=!0,pd.default=void 0;var i=n($f()),e=n(NT()),t=n(Jb());function n(a){return a&&a.__esModule?a:{default:a}}const r=({animate:a=!0,className:u="",layout:h="2-columns",lineColor:d="#FFF",children:m})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",d),i.default.createElement("div",{className:(0,t.default)(u,"vertical-timeline",{"vertical-timeline--animate":a,"vertical-timeline--two-columns":h==="2-columns","vertical-timeline--one-column-left":h==="1-column"||h==="1-column-left","vertical-timeline--one-column-right":h==="1-column-right"})},m));r.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]).isRequired,className:e.default.string,animate:e.default.bool,layout:e.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:e.default.string};var o=r;return pd.default=o,pd}var md={};function Ax(){return Ax=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Ax.apply(this,arguments)}function a5(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,_x(i,e)}function _x(i,e){return _x=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_x(i,e)}function l5(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var Sx=new Map,pg=new WeakMap,Qw=0,$b=void 0;function u5(i){$b=i}function c5(i){return i?(pg.has(i)||(Qw+=1,pg.set(i,Qw.toString())),pg.get(i)):"0"}function f5(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?c5(i.root):i[e])}).toString()}function h5(i){var e=f5(i),t=Sx.get(e);if(!t){var n=new Map,r,o=new IntersectionObserver(function(a){a.forEach(function(u){var h,d=u.isIntersecting&&r.some(function(m){return u.intersectionRatio>=m});i.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=d),(h=n.get(u.target))==null||h.forEach(function(m){m(d,u)})})},i);r=o.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:o,elements:n},Sx.set(e,t)}return t}function zA(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=$b),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var o=h5(t),a=o.id,u=o.observer,h=o.elements,d=h.get(i)||[];return h.has(i)||h.set(i,d),d.push(e),u.observe(i),function(){d.splice(d.indexOf(e),1),d.length===0&&(h.delete(i),u.unobserve(i)),h.size===0&&(u.disconnect(),Sx.delete(a))}}var d5=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function qw(i){return typeof i.children!="function"}var zg=(function(i){a5(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(o){r.node&&(r.unobserve(),!o&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=o||null,r.observeNode()},r.handleChange=function(o,a){o&&r.props.triggerOnce&&r.unobserve(),qw(r.props)||r.setState({inView:o,entry:a}),r.props.onChange&&r.props.onChange(o,a)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,o=r.threshold,a=r.root,u=r.rootMargin,h=r.trackVisibility,d=r.delay,m=r.fallbackInView;this._unobserveCb=zA(this.node,this.handleChange,{threshold:o,root:a,rootMargin:u,trackVisibility:h,delay:d},m)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!qw(this.props)){var r=this.state,o=r.inView,a=r.entry;return this.props.children({inView:o,entry:a,ref:this.handleNode})}var u=this.props,h=u.children,d=u.as,m=l5(u,d5);return J.createElement(d||"div",Ax({ref:this.handleNode},m),h)},e})(J.Component);zg.displayName="InView";zg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function p5(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,o=e.rootMargin,a=e.root,u=e.triggerOnce,h=e.skip,d=e.initialInView,m=e.fallbackInView,g=J.useRef(),v=J.useState({inView:!!d}),A=v[0],S=v[1],E=J.useCallback(function(_){g.current!==void 0&&(g.current(),g.current=void 0),!h&&_&&(g.current=zA(_,function(C,b){S({inView:C,entry:b}),b.isIntersecting&&u&&g.current&&(g.current(),g.current=void 0)},{root:a,rootMargin:o,threshold:t,trackVisibility:r,delay:n},m))},[Array.isArray(t)?t.toString():t,a,o,u,h,r,m,n]);J.useEffect(function(){!g.current&&A.entry&&!u&&!h&&S({inView:!!d})});var M=[E,A.inView,A.entry];return M.ref=M[0],M.inView=M[1],M.entry=M[2],M}const m5=Object.freeze(Object.defineProperty({__proto__:null,InView:zg,default:zg,defaultFallbackInView:u5,observe:zA,useInView:p5},Symbol.toStringTag,{value:"Module"})),g5=bC(m5);var Zw;function v5(){if(Zw)return md;Zw=1,md.__esModule=!0,md.default=void 0;var i=r($f()),e=r(NT()),t=r(Jb()),n=g5;function r(u){return u&&u.__esModule?u:{default:u}}const o=({children:u="",className:h="",contentArrowStyle:d=null,contentStyle:m=null,date:g="",dateClassName:v="",icon:A=null,iconClassName:S="",iconOnClick:E=null,onTimelineElementClick:M=null,iconStyle:_=null,id:C="",position:b="",style:L=null,textClassName:D="",intersectionObserverProps:U={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:z=!1})=>i.default.createElement(n.InView,U,({inView:V,ref:N})=>i.default.createElement("div",{ref:N,id:C,className:(0,t.default)(h,"vertical-timeline-element",{"vertical-timeline-element--left":b==="left","vertical-timeline-element--right":b==="right","vertical-timeline-element--no-children":u===""}),style:L},i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{style:_,onClick:E,className:(0,t.default)(S,"vertical-timeline-element-icon",{"bounce-in":V||z,"is-hidden":!(V||z)})},A),i.default.createElement("div",{style:m,onClick:M,className:(0,t.default)(D,"vertical-timeline-element-content",{"bounce-in":V||z,"is-hidden":!(V||z)})},i.default.createElement("div",{style:d,className:"vertical-timeline-element-content-arrow"}),u,i.default.createElement("span",{className:(0,t.default)(v,"vertical-timeline-element-date")},g)))));o.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]),className:e.default.string,contentArrowStyle:e.default.shape({}),contentStyle:e.default.shape({}),date:e.default.node,dateClassName:e.default.string,icon:e.default.element,iconClassName:e.default.string,iconStyle:e.default.shape({}),iconOnClick:e.default.func,onTimelineElementClick:e.default.func,id:e.default.string,position:e.default.string,style:e.default.shape({}),textClassName:e.default.string,visible:e.default.bool,intersectionObserverProps:e.default.shape({root:e.default.object,rootMargin:e.default.string,threshold:e.default.number,triggerOnce:e.default.bool})};var a=o;return md.default=a,md}var fy,Kw;function y5(){return Kw||(Kw=1,fy={VerticalTimeline:o5().default,VerticalTimelineElement:v5().default}),fy}var wx=y5();const x5=({experience:i,index:e})=>{const t=i.certificateImage&&i.certificateLink;return W.jsx(wx.VerticalTimelineElement,{contentStyle:{background:"rgba(15, 23, 42, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.15)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"20px",padding:"1.5rem"},contentArrowStyle:{borderRight:"8px solid rgba(59, 130, 246, 0.6)"},date:W.jsx(Nt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},children:W.jsx("h3",{className:`text-blueLight text-[16px] font-bold font-poppins 
          drop-shadow-lg`,children:i.date})}),iconStyle:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",boxShadow:"0 0 0 4px rgba(59, 130, 246, 0.2), 0 0 20px rgba(59, 130, 246, 0.4)",border:"2px solid rgba(255, 255, 255, 0.1)"},icon:W.jsx("div",{className:"flex justify-center items-center w-full h-full",children:W.jsx("img",{src:i.icon,alt:i.company_name,className:"w-[70%] h-[70%] object-contain drop-shadow-lg"})}),children:W.jsxs(Nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1+.2},viewport:{once:!0},className:"relative",children:[W.jsx("h3",{className:`text-white text-[24px] font-bold font-beckman tracking-wide
        mb-2`,children:i.title}),W.jsxs("p",{className:`text-blueLight text-[18px] font-semibold font-poppins 
        tracking-wide mb-3 flex items-center gap-2`,children:[W.jsx("span",{className:"w-2 h-2 bg-blueAccent rounded-full"}),i.company_name]}),i.points&&W.jsxs("div",{className:"mt-4",children:[W.jsx("h4",{className:"text-white/90 text-[16px] font-semibold font-poppins mb-2",children:"What I Learned:"}),W.jsx("ul",{className:"list-disc ml-5 space-y-2",children:i.points.map((n,r)=>W.jsx("li",{className:"text-white-100/80 text-[14px] pl-1 tracking-wide leading-relaxed",children:n},`experience-point-${r}`))})]}),t&&W.jsxs("div",{className:"mt-6",children:[W.jsxs("h4",{className:`text-white/90 text-[16px] font-semibold font-poppins mb-3 
            flex items-center gap-2`,children:[W.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:W.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Certificate"]}),W.jsxs(Nt.div,{whileHover:{scale:1.02},className:`relative rounded-lg overflow-hidden border-2 border-green-400/30
              shadow-lg hover:shadow-green-400/40 transition-all duration-300`,children:[W.jsx("img",{src:i.certificateImage,alt:`${i.title} certificate`,className:"w-full h-auto object-cover"}),W.jsxs(Nt.a,{href:i.certificateLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`absolute bottom-4 right-4 px-4 py-2 
                bg-green-500/90 backdrop-blur-sm
                text-white text-[14px] font-bold font-beckman
                rounded-lg border border-white/20
                hover:bg-green-600 transition-all duration-300
                shadow-lg hover:shadow-green-500/50
                flex items-center gap-2`,children:[W.jsx("span",{children:"View Certificate"}),W.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})})},A5=()=>W.jsxs("div",{className:"relative z-10",children:[W.jsxs(Nt.div,{variants:wp(),children:[W.jsx("p",{className:`${kr.sectionSubTextLight} sm:pl-16 pl-[2rem]`,children:"My path so far"}),W.jsx("h2",{className:`${kr.sectionHeadTextLight} sm:pl-16 pl-[2rem]`,children:"Journey."})]}),W.jsx("div",{className:"mt-20 flex flex-col",children:W.jsxs(wx.VerticalTimeline,{className:"vertical-timeline-custom-line",children:[Kz.map((i,e)=>W.jsx(x5,{experience:i,index:e},`experience-${e}`)),W.jsx(wx.VerticalTimelineElement,{contentStyle:{background:"rgba(59, 130, 246, 0.15)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.25)",border:"2px solid rgba(59, 130, 246, 0.4)",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},contentArrowStyle:{borderRight:"8px solid rgba(59, 130, 246, 0.6)"},iconStyle:{background:"linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%)",boxShadow:"0 0 0 4px rgba(59, 130, 246, 0.3), 0 0 30px rgba(96, 165, 250, 0.5)",border:"2px solid rgba(255, 255, 255, 0.2)"},icon:W.jsx("div",{className:"flex justify-center items-center w-full h-full",children:W.jsx("img",{src:Mz,alt:"resume",className:"w-[50%] h-[50%] object-contain drop-shadow-2xl"})}),children:W.jsxs(Nt.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/Eyuel's_Resume.pdf",download:!0,className:`flex justify-center items-center gap-3
    sm:text-[16px] text-[14px] text-white 
    font-bold font-beckman py-4 px-8
    rounded-xl bg-blueAccent/80 backdrop-blur-sm
    border border-blueLight/50
    hover:bg-blueLight hover:border-white/50
    transition-all duration-300 ease-out
    shadow-lg hover:shadow-blueAccent/50
    group`,onMouseOver:()=>{document.querySelector(".download-btn")?.setAttribute("src",_z)},onMouseOut:()=>{document.querySelector(".download-btn")?.setAttribute("src",Hw)},children:[W.jsx("span",{className:"tracking-wider",children:"DOWNLOAD RESUME"}),W.jsx("img",{src:Hw,alt:"download",className:`download-btn sm:w-[24px] sm:h-[24px] 
      w-[20px] h-[20px] object-contain
      group-hover:animate-bounce`})]})})]})})]}),_5=Mp(A5,"work"),S5=({project:i,direction:e})=>{const{name:t,description:n,image:r,repo:o,demo:a,tags:u}=i,h={enter:d=>({x:d>0?1e3:-1e3,opacity:0,scale:.8}),center:{x:0,opacity:1,scale:1},exit:d=>({x:d<0?1e3:-1e3,opacity:0,scale:.8})};return W.jsx(Nt.div,{custom:e,variants:h,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.4},scale:{duration:.4}},className:"w-full max-w-6xl mx-auto",children:W.jsxs("div",{className:`relative bg-primary/40 backdrop-blur-md rounded-[32px] overflow-hidden
        border border-blueAccent/30 shadow-[0_0_40px_rgba(59,130,246,0.2)]
        hover:shadow-[0_0_60px_rgba(59,130,246,0.4)] transition-all duration-500`,children:[W.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-blueAccent/10 via-transparent to-skyBlue/10 
        opacity-50`}),W.jsxs("div",{className:"relative grid md:grid-cols-2 gap-0",children:[W.jsxs("div",{className:"relative h-[400px] md:h-[500px] overflow-hidden group",children:[W.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-blueAccent/20 via-transparent to-transparent
              opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10`}),W.jsx(Nt.img,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},src:r,alt:t,className:`w-full h-full object-cover transition-transform duration-700
              group-hover:scale-110`}),W.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-primary via-primary/60 to-transparent
              md:bg-gradient-to-r md:from-transparent md:via-transparent md:to-primary/90`}),W.jsxs("div",{className:"absolute top-6 right-6 flex gap-3 z-20",children:[W.jsx(Nt.a,{href:o,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`w-12 h-12 rounded-full bg-primary/80 backdrop-blur-md
                border-2 border-blueAccent/50 flex items-center justify-center
                hover:bg-blueAccent hover:border-blueLight transition-all duration-300
                shadow-lg hover:shadow-[0_0_20px_rgba(59,130,246,0.6)]`,children:W.jsx("img",{src:xz,alt:"github",className:"w-6 h-6 invert"})}),W.jsx(Nt.a,{href:a,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{scale:1.1,rotate:-5},whileTap:{scale:.9},className:`w-12 h-12 rounded-full bg-blueAccent/80 backdrop-blur-md
                border-2 border-blueLight/50 flex items-center justify-center
                hover:bg-blueLight transition-all duration-300
                shadow-lg hover:shadow-[0_0_20px_rgba(96,165,250,0.6)]`,children:W.jsx("img",{src:Sz,alt:"demo",className:"w-6 h-6"})})]})]}),W.jsx("div",{className:"relative p-8 md:p-10 flex flex-col justify-center",children:W.jsxs(Nt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},children:[W.jsx("div",{className:`text-blueAccent/40 text-[14px] font-bold font-poppins mb-2 
              tracking-wider`,children:"FEATURED PROJECT"}),W.jsx("h3",{className:`text-white text-[36px] md:text-[42px] font-bold font-beckman mb-4
                leading-tight bg-gradient-to-r from-white to-blueLight bg-clip-text text-transparent`,children:t}),W.jsx("p",{className:"text-white-100/80 text-[16px] leading-relaxed mb-6",children:n}),W.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:u?.map((d,m)=>W.jsxs(Nt.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+m*.1},className:`px-4 py-2 text-[13px] font-semibold rounded-full
                    backdrop-blur-sm transition-all duration-300
                    hover:scale-110 cursor-default
                    ${d.color==="blue-text-gradient"?"bg-blueAccent/25 text-blueLight border border-blueAccent/50 shadow-[0_0_15px_rgba(59,130,246,0.3)]":d.color==="green-text-gradient"?"bg-green-500/25 text-green-400 border border-green-500/50 shadow-[0_0_15px_rgba(34,197,94,0.3)]":d.color==="pink-text-gradient"?"bg-pink-500/25 text-pink-400 border border-pink-500/50 shadow-[0_0_15px_rgba(236,72,153,0.3)]":"bg-white/15 text-white border border-white/30"}`,children:["#",d.name]},m))}),W.jsxs("div",{className:"flex gap-4",children:[W.jsxs(Nt.a,{href:a,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex items-center gap-2 px-6 py-3 rounded-full
                  bg-gradient-to-r from-blueAccent to-blueLight
                  text-white text-[14px] font-bold font-beckman
                  border border-white/20
                  shadow-[0_0_20px_rgba(59,130,246,0.4)]
                  hover:shadow-[0_0_30px_rgba(59,130,246,0.6)]
                  transition-all duration-300
                  relative overflow-hidden group`,children:[W.jsx("span",{className:`absolute inset-0 bg-gradient-to-r 
                  from-transparent via-white/20 to-transparent
                  translate-x-[-200%] group-hover:translate-x-[200%]
                  transition-transform duration-700`}),W.jsx("span",{className:"relative z-10",children:"VIEW LIVE"}),W.jsx("svg",{className:"w-4 h-4 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),W.jsxs(Nt.a,{href:o,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex items-center gap-2 px-6 py-3 rounded-full
                  bg-primary/60 backdrop-blur-sm
                  text-white text-[14px] font-bold font-beckman
                  border border-blueAccent/50
                  hover:bg-blueAccent/30 hover:border-blueAccent
                  transition-all duration-300`,children:[W.jsx("span",{children:"VIEW CODE"}),W.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})]})]})]})})]})]})})},w5=()=>{const[[i,e],t]=J.useState([0,0]),[n,r]=J.useState(!1),o=a=>{const u=(i+a+dd.length)%dd.length;t([u,a])};return J.useEffect(()=>{if(!n){const a=setInterval(()=>{o(1)},3e3);return()=>clearInterval(a)}},[i,n]),W.jsxs("div",{className:"relative w-full max-h-screen flex flex-col justify-center",children:[W.jsxs(Nt.div,{variants:wp(),className:"mb-12 text-center",children:[W.jsx("p",{className:`${kr.sectionSubTextLight}`,children:"My work"}),W.jsx("h2",{className:`${kr.sectionHeadTextLight}`,children:"Projects."})]}),W.jsxs("div",{className:"relative w-full px-4 md:px-8",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[W.jsx(hz,{initial:!1,custom:e,mode:"wait",children:W.jsx(S5,{project:dd[i],direction:e},i)}),W.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 left-0 right-0 flex justify-between px-4 pointer-events-none",children:[W.jsx(Nt.button,{whileHover:{scale:1.1,x:-5},whileTap:{scale:.9},onClick:()=>o(-1),className:`w-14 h-14 rounded-full bg-primary/80 backdrop-blur-md
            text-white text-2xl font-bold
            hover:bg-blueAccent transition-all duration-300
            border-2 border-blueAccent/40 hover:border-blueAccent
            shadow-lg hover:shadow-[0_0_30px_rgba(59,130,246,0.5)]
            flex items-center justify-center pointer-events-auto
            z-20`,children:""}),W.jsx(Nt.button,{whileHover:{scale:1.1,x:5},whileTap:{scale:.9},onClick:()=>o(1),className:`w-14 h-14 rounded-full bg-primary/80 backdrop-blur-md
            text-white text-2xl font-bold
            hover:bg-blueAccent transition-all duration-300
            border-2 border-blueAccent/40 hover:border-blueAccent
            shadow-lg hover:shadow-[0_0_30px_rgba(59,130,246,0.5)]
            flex items-center justify-center pointer-events-auto
            z-20`,children:""})]})]}),W.jsx("div",{className:"flex justify-center gap-3 mt-12",children:dd.map((a,u)=>W.jsxs(Nt.button,{onClick:()=>t([u,u>i?1:-1]),whileHover:{scale:1.2},className:`relative h-2 rounded-full transition-all duration-300 cursor-pointer
              ${u===i?"w-12 bg-blueAccent":"w-2 bg-white/30 hover:bg-white/50"}`,children:[u===i&&!n&&W.jsx(Nt.div,{className:"absolute inset-0 bg-blueLight rounded-full origin-left",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:3,ease:"linear"}}),u===i&&W.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_10px_rgba(59,130,246,0.8)]"})]},u))}),W.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-6 text-white-100/60 text-sm font-poppins",children:[i+1," / ",dd.length]})]})},M5=Mp(w5,"projects"),$d={_origin:"https://api.emailjs.com"},E5=(i,e="https://api.emailjs.com")=>{$d._userID=i,$d._origin=e},eC=(i,e,t)=>{if(!i)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Jw{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const tC=(i,e,t={})=>new Promise((n,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:a})=>{const u=new Jw(a);u.status===200||u.text==="OK"?n(u):r(u)}),o.addEventListener("error",({target:a})=>{r(new Jw(a))}),o.open("POST",$d._origin+i,!0),Object.keys(t).forEach(a=>{o.setRequestHeader(a,t[a])}),o.send(e)}),T5=(i,e,t,n)=>{const r=n||$d._userID;return eC(r,i,e),tC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},b5=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},C5=(i,e,t,n)=>{const r=n||$d._userID,o=b5(t);eC(r,i,e);const a=new FormData(o);return a.append("lib_version","3.11.0"),a.append("service_id",i),a.append("template_id",e),a.append("user_id",r),tC("/api/v1.0/email/send-form",a)},P5={init:E5,send:T5,sendForm:C5},hy=({icon:i,title:e,content:t,href:n,index:r})=>W.jsxs(Nt.a,{href:n,variants:Pl("right","spring",r*.1,.75),className:`group flex items-start gap-4 p-4 rounded-2xl
    bg-primary/30 backdrop-blur-sm border border-blueAccent/20
    hover:border-blueAccent/50 hover:bg-primary/50
    transition-all duration-300
    hover:shadow-[0_0_20px_rgba(59,130,246,0.3)]
    hover:-translate-y-1`,children:[W.jsx("div",{className:`w-12 h-12 rounded-full bg-blueAccent/20 
      flex items-center justify-center flex-shrink-0
      group-hover:bg-blueAccent/40 group-hover:scale-110
      transition-all duration-300
      shadow-lg group-hover:shadow-blueAccent/50`,children:i}),W.jsxs("div",{className:"flex-1",children:[W.jsx("h4",{className:"text-white font-semibold text-[16px] mb-1",children:e}),W.jsx("p",{className:`text-white-100/70 text-[14px] group-hover:text-blueLight 
        transition-colors duration-300`,children:t})]})]}),dy=({href:i,icon:e,label:t,index:n})=>W.jsx(Nt.a,{href:i,target:"_blank",rel:"noopener noreferrer",variants:Pl("up","spring",.5+n*.1,.75),whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},className:`w-14 h-14 rounded-full bg-blueAccent/20 backdrop-blur-sm
    flex items-center justify-center
    hover:bg-blueAccent border border-blueAccent/30
    hover:border-blueLight
    transition-all duration-300
    shadow-lg hover:shadow-[0_0_25px_rgba(59,130,246,0.6)]
    group`,"aria-label":t,children:e}),R5=()=>{const i=J.useRef(),[e,t]=J.useState({name:"",email:"",message:""}),[n,r]=J.useState(!1),[o,a]=J.useState(!1),[u,h]=J.useState(""),d=g=>{const{name:v,value:A}=g.target;t({...e,[v]:A})},m=g=>{g.preventDefault(),r(!0),a(!1),h(""),P5.send("service_u751skc","template_wann9is",{from_name:e.name,to_name:"Eyuel",from_email:e.email,to_email:"eyuelgetachew212@gmail.com",message:e.message},"Nj7V4qX-My8evNKsd").then(()=>{r(!1),a(!0),t({name:"",email:"",message:""}),setTimeout(()=>{a(!1)},4e3)},v=>{r(!1),console.log(v),h(" Something went wrong. Please try again."),setTimeout(()=>{h("")},4e3)})};return W.jsxs("div",{className:"relative",children:[W.jsxs(Nt.div,{variants:wp(),className:"text-center mb-16",children:[W.jsx("p",{className:`${kr.sectionSubTextLight}`,children:"Let's connect"}),W.jsx("h2",{className:`${kr.sectionHeadTextLight}`,children:"Get In Touch."})]}),W.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[W.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[W.jsx(hy,{icon:W.jsx("svg",{className:"w-6 h-6 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),title:"Email",content:"eyuelgetachew212@gmail.com",href:"mailto:eyuelgetachew212@gmail.com",index:0}),W.jsx(hy,{icon:W.jsx("svg",{className:"w-6 h-6 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),title:"Phone",content:"+251 975469072",href:"tel:+251 975469072",index:1}),W.jsx(hy,{icon:W.jsxs("svg",{className:"w-6 h-6 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),title:"Location",content:"Addis Ababa, Ethiopia",index:2}),W.jsxs(Nt.div,{variants:Pl("right","spring",.3,.75),className:"pt-6",children:[W.jsx("h4",{className:"text-white font-semibold text-[16px] mb-4",children:"Connect With Me"}),W.jsxs("div",{className:"flex gap-4",children:[W.jsx(dy,{href:"https://github.com",label:"GitHub",index:0,icon:W.jsx("svg",{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),W.jsx(dy,{href:"https://linkedin.com",label:"LinkedIn",index:1,icon:W.jsx("svg",{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),W.jsx(dy,{href:"https://twitter.com",label:"Twitter",index:2,icon:W.jsx("svg",{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})})]})]})]}),W.jsxs(Nt.div,{variants:Pl("left","tween",.2,1),className:`lg:col-span-2 bg-primary/40 backdrop-blur-md p-8 md:p-10 rounded-3xl
          border border-blueAccent/30 shadow-[0_0_40px_rgba(59,130,246,0.2)]
          hover:shadow-[0_0_50px_rgba(59,130,246,0.3)] transition-all duration-500`,children:[W.jsx("h3",{className:"text-white text-[28px] font-bold font-beckman mb-2",children:"Send Me a Message"}),W.jsx("p",{className:"text-white-100/70 text-[15px] mb-8",children:"Have a question or want to work together? Fill out the form below and I'll get back to you as soon as possible."}),W.jsxs("form",{ref:i,onSubmit:m,className:"flex flex-col gap-6 font-poppins",children:[W.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[W.jsxs("label",{className:"flex flex-col",children:[W.jsxs("span",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[W.jsx("svg",{className:"w-4 h-4 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Your Name"]}),W.jsx("input",{type:"text",name:"name",value:e.name,onChange:d,placeholder:"John Doe",required:!0,className:`bg-primary/60 backdrop-blur-sm py-4 px-6 
                  placeholder:text-white-100/40 text-white rounded-xl 
                  outline-none border border-blueAccent/30 
                  focus:border-blueAccent focus:shadow-[0_0_15px_rgba(59,130,246,0.3)]
                  transition-all duration-300 font-medium`})]}),W.jsxs("label",{className:"flex flex-col",children:[W.jsxs("span",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[W.jsx("svg",{className:"w-4 h-4 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Your Email"]}),W.jsx("input",{type:"email",name:"email",value:e.email,onChange:d,placeholder:"john@example.com",required:!0,className:`bg-primary/60 backdrop-blur-sm py-4 px-6 
                  placeholder:text-white-100/40 text-white rounded-xl 
                  outline-none border border-blueAccent/30 
                  focus:border-blueAccent focus:shadow-[0_0_15px_rgba(59,130,246,0.3)]
                  transition-all duration-300 font-medium`})]})]}),W.jsxs("label",{className:"flex flex-col",children:[W.jsxs("span",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[W.jsx("svg",{className:"w-4 h-4 text-blueLight",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Your Message"]}),W.jsx("textarea",{rows:"6",name:"message",value:e.message,onChange:d,placeholder:"Tell me about your project...",required:!0,className:`bg-primary/60 backdrop-blur-sm py-4 px-6 
                placeholder:text-white-100/40 text-white rounded-xl 
                outline-none border border-blueAccent/30 
                focus:border-blueAccent focus:shadow-[0_0_15px_rgba(59,130,246,0.3)]
                transition-all duration-300 font-medium resize-none`})]}),W.jsxs(Nt.button,{type:"submit",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},disabled:n,className:`flex justify-center items-center gap-3
              text-[16px] text-white font-bold font-beckman 
              py-4 px-8 rounded-xl
              bg-gradient-to-r from-blueAccent to-blueLight
              hover:from-blueLight hover:to-blueAccent
              border border-white/20
              shadow-[0_0_20px_rgba(59,130,246,0.4)]
              hover:shadow-[0_0_30px_rgba(59,130,246,0.6)]
              transition-all duration-300
              disabled:opacity-50 disabled:cursor-not-allowed
              relative overflow-hidden group`,onMouseOver:()=>{document.querySelector(".contact-btn")?.setAttribute("src",Ez)},onMouseOut:()=>{document.querySelector(".contact-btn")?.setAttribute("src",Gw)},children:[W.jsx("span",{className:`absolute inset-0 bg-gradient-to-r 
              from-transparent via-white/20 to-transparent
              translate-x-[-200%] group-hover:translate-x-[200%]
              transition-transform duration-700`}),W.jsx("span",{className:"relative z-10",children:n?"Sending...":"Send Message"}),W.jsx("img",{src:Gw,alt:"send",className:`contact-btn w-5 h-5 object-contain relative z-10
                group-hover:translate-x-1 transition-transform duration-300`})]})]})]})]}),o&&W.jsx("div",{className:"mb-4 p-4 rounded-lg bg-green-500/20 border border-green-400 text-green-300 text-center",children:" Thank you! I will get back to you as soon as possible."}),u&&W.jsx("div",{className:"mb-4 p-4 rounded-lg bg-red-500/20 border border-red-400 text-red-300 text-center",children:u}),W.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-blueAccent/5 rounded-full blur-3xl -z-10"}),W.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-skyBlue/5 rounded-full blur-3xl -z-10"})]})},L5=Mp(R5,"contact"),I5=()=>W.jsx(u2,{children:W.jsxs("div",{className:"relative z-0",children:[W.jsxs("div",{children:[W.jsx(Jz,{}),W.jsx(Qz,{})]}),W.jsx("div",{className:"bg-about bg-cover bg-center bg-no-repeat",children:W.jsx(n5,{})}),W.jsxs("div",{className:"relative bg-primary overflow-hidden",children:[W.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[W.jsx("div",{className:"absolute top-20 right-1/4 w-96 h-96 bg-blueAccent/8 rounded-full blur-3xl animate-pulse"}),W.jsx("div",{className:"absolute bottom-20 left-1/4 w-96 h-96 bg-skyBlue/8 rounded-full blur-3xl animate-pulse delay-1000"}),W.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
            w-[600px] h-[600px] bg-blueDark/5 rounded-full blur-3xl animate-pulse delay-500`})]}),W.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),W.jsx(s5,{})]}),W.jsx(M5,{}),W.jsxs("div",{className:"relative bg-primary overflow-hidden",children:[W.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[W.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blueAccent/10 rounded-full blur-3xl animate-pulse"}),W.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-skyBlue/10 rounded-full blur-3xl animate-pulse delay-1000"}),W.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-blueDark/10 rounded-full blur-3xl animate-pulse delay-500"})]}),W.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),W.jsx(_5,{})]}),W.jsxs("div",{className:"relative bg-primary overflow-hidden",children:[W.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[W.jsx("div",{className:"absolute top-20 left-1/4 w-96 h-96 bg-blueAccent/8 rounded-full blur-3xl animate-pulse"}),W.jsx("div",{className:"absolute bottom-20 right-1/4 w-96 h-96 bg-skyBlue/8 rounded-full blur-3xl animate-pulse delay-1000"}),W.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
            w-[600px] h-[600px] bg-blueDark/5 rounded-full blur-3xl animate-pulse delay-500`})]}),W.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),W.jsx(L5,{})]})]})});kC.createRoot(document.getElementById("root")).render(W.jsx(yl.StrictMode,{children:W.jsx(I5,{})}));
